/*! For license information please see main.6355c207.js.LICENSE.txt */
!function(){var e={371:function(e,t,n){var r=n(588).default,i=n(808).default,a=n(861).default,o=n(115).default,s=n(655).default,u=n(389).default,c=n(122).default,l=n(690).default,f=n(728).default,h=n(424).default,d=n(704).default;e.exports=function(){"use strict";var e="transitionend",t=function(e){var t=e.getAttribute("data-bs-target");if(!t||"#"===t){var n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),t=n&&"#"!==n?n.trim():null}return t},n=function(e){var n=t(e);return n&&document.querySelector(n)?n:null},p=function(e){var n=t(e);return n?document.querySelector(n):null},v=function(t){t.dispatchEvent(new Event(e))},m=function(e){return!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType)},g=function(e){return m(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null},y=function(e){if(!m(e)||0===e.getClientRects().length)return!1;var t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){var r=e.closest("summary");if(r&&r.parentNode!==n)return!1;if(null===r)return!1}return t},b=function(e){return!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))},k=function e(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var n=t.getRootNode();return n instanceof ShadowRoot?n:null}return t instanceof ShadowRoot?t:t.parentNode?e(t.parentNode):null},_=function(){},w=function(e){e.offsetHeight},x=function(){return window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null},E=[],I=function(){return"rtl"===document.documentElement.dir},T=function(e){var t;t=function(){var t=x();if(t){var n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=function(){return t.fn[n]=r,e.jQueryInterface}}},"loading"===document.readyState?(E.length||document.addEventListener("DOMContentLoaded",(function(){var e,t=d(E);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(n){t.e(n)}finally{t.f()}})),E.push(t)):t()},S=function(e){"function"==typeof e&&e()},C=function(t,n){if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])S(t);else{var r=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,r=t.transitionDelay,i=Number.parseFloat(n),a=Number.parseFloat(r);return i||a?(n=n.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(r))):0}(n)+5,i=!1,a=function r(a){a.target===n&&(i=!0,n.removeEventListener(e,r),S(t))};n.addEventListener(e,a),setTimeout((function(){i||v(n)}),r)}},N=function(e,t,n,r){var i=e.length,a=e.indexOf(t);return-1===a?!n&&r?e[i-1]:e[0]:(a+=n?1:-1,r&&(a=(a+i)%i),e[Math.max(0,Math.min(a,i-1))])},A=/[^.]*(?=\..*)\.|.*/,P=/\..*/,D=/::\d+$/,O={},R=1,L={mouseenter:"mouseover",mouseleave:"mouseout"},M=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function j(e,t){return t&&"".concat(t,"::").concat(R++)||e.uidEvent||R++}function q(e){var t=j(e);return e.uidEvent=t,O[t]=O[t]||{},O[t]}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.values(e).find((function(e){return e.callable===t&&e.delegationSelector===n}))}function U(e,t,n){var r="string"==typeof t,i=r?n:t||n,a=H(e);return M.has(a)||(a=e),[r,i,a]}function V(e,t,n,r,i){if("string"==typeof t&&e){var a=U(t,n,r),o=h(a,3),s=o[0],u=o[1],c=o[2];if(t in L){var l=function(e){return function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}};u=l(u)}var f=q(e),p=f[c]||(f[c]={}),v=F(p,u,s?n:null);if(v)v.oneOff=v.oneOff&&i;else{var m=j(u,t.replace(A,"")),g=s?function(e,t,n){return function r(i){for(var a=e.querySelectorAll(t),o=i.target;o&&o!==this;o=o.parentNode){var s,u=d(a);try{for(u.s();!(s=u.n()).done;)if(s.value===o)return K(i,{delegateTarget:o}),r.oneOff&&W.off(e,i.type,t,n),n.apply(o,[i])}catch(c){u.e(c)}finally{u.f()}}}}(e,n,u):function(e,t){return function n(r){return K(r,{delegateTarget:e}),n.oneOff&&W.off(e,r.type,t),t.apply(e,[r])}}(e,u);g.delegationSelector=s?n:null,g.callable=u,g.oneOff=i,g.uidEvent=m,p[m]=g,e.addEventListener(c,g,s)}}}function B(e,t,n,r,i){var a=F(t[n],r,i);a&&(e.removeEventListener(n,a,Boolean(i)),delete t[n][a.uidEvent])}function z(e,t,n,r){for(var i=t[n]||{},a=0,o=Object.keys(i);a<o.length;a++){var s=o[a];if(s.includes(r)){var u=i[s];B(e,t,n,u.callable,u.delegationSelector)}}}function H(e){return e=e.replace(P,""),L[e]||e}var W={on:function(e,t,n,r){V(e,t,n,r,!1)},one:function(e,t,n,r){V(e,t,n,r,!0)},off:function(e,t,n,r){if("string"==typeof t&&e){var i=U(t,n,r),a=h(i,3),o=a[0],s=a[1],u=a[2],c=u!==t,l=q(e),f=l[u]||{},d=t.startsWith(".");if(void 0===s){if(d)for(var p=0,v=Object.keys(l);p<v.length;p++)z(e,l,v[p],t.slice(1));for(var m=0,g=Object.keys(f);m<g.length;m++){var y=g[m],b=y.replace(D,"");if(!c||t.includes(b)){var k=f[y];B(e,l,u,k.callable,k.delegationSelector)}}}else{if(!Object.keys(f).length)return;B(e,l,u,s,o?n:null)}}},trigger:function(e,t,n){if("string"!=typeof t||!e)return null;var r=x(),i=null,a=!0,o=!0,s=!1;t!==H(t)&&r&&(i=r.Event(t,n),r(e).trigger(i),a=!i.isPropagationStopped(),o=!i.isImmediatePropagationStopped(),s=i.isDefaultPrevented());var u=new Event(t,{bubbles:a,cancelable:!0});return u=K(u,n),s&&u.preventDefault(),o&&e.dispatchEvent(u),u.defaultPrevented&&i&&i.preventDefault(),u}};function K(e,t){for(var n=function(){var n=h(i[r],2),a=n[0],o=n[1];try{e[a]=o}catch(t){Object.defineProperty(e,a,{configurable:!0,get:function(){return o}})}},r=0,i=Object.entries(t||{});r<i.length;r++)n();return e}var G=new Map,Q={set:function(e,t,n){G.has(e)||G.set(e,new Map);var r=G.get(e);r.has(t)||0===r.size?r.set(t,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(r.keys())[0],"."))},get:function(e,t){return G.has(e)&&G.get(e).get(t)||null},remove:function(e,t){if(G.has(e)){var n=G.get(e);n.delete(t),0===n.size&&G.delete(e)}}};function Y(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function $(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}var X={setDataAttribute:function(e,t,n){e.setAttribute("data-bs-".concat($(t)),n)},removeDataAttribute:function(e,t){e.removeAttribute("data-bs-".concat($(t)))},getDataAttributes:function(e){if(!e)return{};var t,n={},r=Object.keys(e.dataset).filter((function(e){return e.startsWith("bs")&&!e.startsWith("bsConfig")})),i=d(r);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=a.replace(/^bs/,"");n[o=o.charAt(0).toLowerCase()+o.slice(1,o.length)]=Y(e.dataset[a])}}catch(s){i.e(s)}finally{i.f()}return n},getDataAttribute:function(e,t){return Y(e.getAttribute("data-bs-".concat($(t))))}},J=function(){function e(){l(this,e)}return f(e,[{key:"_getConfig",value:function(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}},{key:"_configAfterMerge",value:function(e){return e}},{key:"_mergeConfigObj",value:function(e,t){var n=m(t)?X.getDataAttribute(t,"config"):{};return c(c(c(c({},this.constructor.Default),"object"==typeof n?n:{}),m(t)?X.getDataAttributes(t):{}),"object"==typeof e?e:{})}},{key:"_typeCheckConfig",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.DefaultType,r=0,i=Object.keys(n);r<i.length;r++){var a=i[r],o=n[a],s=e[a],u=m(s)?"element":null==(t=s)?"".concat(t):Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(u))throw new TypeError("".concat(this.constructor.NAME.toUpperCase(),': Option "').concat(a,'" provided type "').concat(u,'" but expected type "').concat(o,'".'))}}}],[{key:"Default",get:function(){return{}}},{key:"DefaultType",get:function(){return{}}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}}]),e}(),Z=function(e){s(n,e);var t=u(n);function n(e,r){var i;return l(this,n),i=t.call(this),(e=g(e))&&(i._element=e,i._config=i._getConfig(r),Q.set(i._element,i.constructor.DATA_KEY,o(i))),i}return f(n,[{key:"dispose",value:function(){Q.remove(this._element,this.constructor.DATA_KEY),W.off(this._element,this.constructor.EVENT_KEY);var e,t=d(Object.getOwnPropertyNames(this));try{for(t.s();!(e=t.n()).done;)this[e.value]=null}catch(n){t.e(n)}finally{t.f()}}},{key:"_queueCallback",value:function(e,t){C(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}},{key:"_getConfig",value:function(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}}],[{key:"getInstance",value:function(e){return Q.get(g(e),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}},{key:"VERSION",get:function(){return"5.2.3"}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}},{key:"eventName",value:function(e){return"".concat(e).concat(this.EVENT_KEY)}}]),n}(J),ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide",n="click.dismiss".concat(e.EVENT_KEY),r=e.NAME;W.on(document,n,'[data-bs-dismiss="'.concat(r,'"]'),(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),!b(this)){var i=p(this)||this.closest(".".concat(r));e.getOrCreateInstance(i)[t]()}}))},te=function(e){s(n,e);var t=u(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"close",value:function(){var e=this;if(!W.trigger(this._element,"close.bs.alert").defaultPrevented){this._element.classList.remove("show");var t=this._element.classList.contains("fade");this._queueCallback((function(){return e._destroyElement()}),this._element,t)}}},{key:"_destroyElement",value:function(){this._element.remove(),W.trigger(this._element,"closed.bs.alert"),this.dispose()}}],[{key:"NAME",get:function(){return"alert"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(Z);ee(te,"close"),T(te);var ne='[data-bs-toggle="button"]',re=function(e){s(n,e);var t=u(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}}],[{key:"NAME",get:function(){return"button"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}]),n}(Z);W.on(document,"click.bs.button.data-api",ne,(function(e){e.preventDefault();var t=e.target.closest(ne);re.getOrCreateInstance(t).toggle()})),T(re);var ie={find:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return(t=[]).concat.apply(t,a(Element.prototype.querySelectorAll.call(n,e)))},findOne:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:function(e,t){var n;return(n=[]).concat.apply(n,a(e.children)).filter((function(e){return e.matches(t)}))},parents:function(e,t){for(var n=[],r=e.parentNode.closest(t);r;)n.push(r),r=r.parentNode.closest(t);return n},prev:function(e,t){for(var n=e.previousElementSibling;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next:function(e,t){for(var n=e.nextElementSibling;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren:function(e){var t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((function(e){return"".concat(e,':not([tabindex^="-"])')})).join(",");return this.find(t,e).filter((function(e){return!b(e)&&y(e)}))}},ae={endCallback:null,leftCallback:null,rightCallback:null},oe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},se=function(e){s(n,e);var t=u(n);function n(e,r){var i;return l(this,n),(i=t.call(this))._element=e,e&&n.isSupported()&&(i._config=i._getConfig(r),i._deltaX=0,i._supportPointerEvents=Boolean(window.PointerEvent),i._initEvents()),i}return f(n,[{key:"dispose",value:function(){W.off(this._element,".bs.swipe")}},{key:"_start",value:function(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}},{key:"_end",value:function(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),S(this._config.endCallback)}},{key:"_move",value:function(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}},{key:"_handleSwipe",value:function(){var e=Math.abs(this._deltaX);if(!(e<=40)){var t=e/this._deltaX;this._deltaX=0,t&&S(t>0?this._config.rightCallback:this._config.leftCallback)}}},{key:"_initEvents",value:function(){var e=this;this._supportPointerEvents?(W.on(this._element,"pointerdown.bs.swipe",(function(t){return e._start(t)})),W.on(this._element,"pointerup.bs.swipe",(function(t){return e._end(t)})),this._element.classList.add("pointer-event")):(W.on(this._element,"touchstart.bs.swipe",(function(t){return e._start(t)})),W.on(this._element,"touchmove.bs.swipe",(function(t){return e._move(t)})),W.on(this._element,"touchend.bs.swipe",(function(t){return e._end(t)})))}},{key:"_eventIsPointerPenTouch",value:function(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}}],[{key:"Default",get:function(){return ae}},{key:"DefaultType",get:function(){return oe}},{key:"NAME",get:function(){return"swipe"}},{key:"isSupported",value:function(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}]),n}(J),ue="next",ce="prev",le="left",fe="right",he="slid.bs.carousel",de="carousel",pe="active",ve={ArrowLeft:fe,ArrowRight:le},me={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ge={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},ye=function(e){s(n,e);var t=u(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._interval=null,i._activeElement=null,i._isSliding=!1,i.touchTimeout=null,i._swipeHelper=null,i._indicatorsElement=ie.findOne(".carousel-indicators",i._element),i._addEventListeners(),i._config.ride===de&&i.cycle(),i}return f(n,[{key:"next",value:function(){this._slide(ue)}},{key:"nextWhenVisible",value:function(){!document.hidden&&y(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(ce)}},{key:"pause",value:function(){this._isSliding&&v(this._element),this._clearInterval()}},{key:"cycle",value:function(){var e=this;this._clearInterval(),this._updateInterval(),this._interval=setInterval((function(){return e.nextWhenVisible()}),this._config.interval)}},{key:"_maybeEnableCycle",value:function(){var e=this;this._config.ride&&(this._isSliding?W.one(this._element,he,(function(){return e.cycle()})):this.cycle())}},{key:"to",value:function(e){var t=this,n=this._getItems();if(!(e>n.length-1||e<0))if(this._isSliding)W.one(this._element,he,(function(){return t.to(e)}));else{var r=this._getItemIndex(this._getActive());if(r!==e){var i=e>r?ue:ce;this._slide(i,n[e])}}}},{key:"dispose",value:function(){this._swipeHelper&&this._swipeHelper.dispose(),r(i(n.prototype),"dispose",this).call(this)}},{key:"_configAfterMerge",value:function(e){return e.defaultInterval=e.interval,e}},{key:"_addEventListeners",value:function(){var e=this;this._config.keyboard&&W.on(this._element,"keydown.bs.carousel",(function(t){return e._keydown(t)})),"hover"===this._config.pause&&(W.on(this._element,"mouseenter.bs.carousel",(function(){return e.pause()})),W.on(this._element,"mouseleave.bs.carousel",(function(){return e._maybeEnableCycle()}))),this._config.touch&&se.isSupported()&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){var e,t=this,n=d(ie.find(".carousel-item img",this._element));try{for(n.s();!(e=n.n()).done;){var r=e.value;W.on(r,"dragstart.bs.carousel",(function(e){return e.preventDefault()}))}}catch(a){n.e(a)}finally{n.f()}var i={leftCallback:function(){return t._slide(t._directionToOrder(le))},rightCallback:function(){return t._slide(t._directionToOrder(fe))},endCallback:function(){"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(){return t._maybeEnableCycle()}),500+t._config.interval))}};this._swipeHelper=new se(this._element,i)}},{key:"_keydown",value:function(e){if(!/input|textarea/i.test(e.target.tagName)){var t=ve[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}}},{key:"_getItemIndex",value:function(e){return this._getItems().indexOf(e)}},{key:"_setActiveIndicatorElement",value:function(e){if(this._indicatorsElement){var t=ie.findOne(".active",this._indicatorsElement);t.classList.remove(pe),t.removeAttribute("aria-current");var n=ie.findOne('[data-bs-slide-to="'.concat(e,'"]'),this._indicatorsElement);n&&(n.classList.add(pe),n.setAttribute("aria-current","true"))}}},{key:"_updateInterval",value:function(){var e=this._activeElement||this._getActive();if(e){var t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}}},{key:"_slide",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this._isSliding){var r=this._getActive(),i=e===ue,a=n||N(this._getItems(),r,i,this._config.wrap);if(a!==r){var o=this._getItemIndex(a),s=function(n){return W.trigger(t._element,n,{relatedTarget:a,direction:t._orderToDirection(e),from:t._getItemIndex(r),to:o})};if(!s("slide.bs.carousel").defaultPrevented&&r&&a){var u=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=a;var c=i?"carousel-item-start":"carousel-item-end",l=i?"carousel-item-next":"carousel-item-prev";a.classList.add(l),w(a),r.classList.add(c),a.classList.add(c),this._queueCallback((function(){a.classList.remove(c,l),a.classList.add(pe),r.classList.remove(pe,l,c),t._isSliding=!1,s(he)}),r,this._isAnimated()),u&&this.cycle()}}}}},{key:"_isAnimated",value:function(){return this._element.classList.contains("slide")}},{key:"_getActive",value:function(){return ie.findOne(".active.carousel-item",this._element)}},{key:"_getItems",value:function(){return ie.find(".carousel-item",this._element)}},{key:"_clearInterval",value:function(){this._interval&&(clearInterval(this._interval),this._interval=null)}},{key:"_directionToOrder",value:function(e){return I()?e===le?ce:ue:e===le?ue:ce}},{key:"_orderToDirection",value:function(e){return I()?e===ce?le:fe:e===ce?fe:le}}],[{key:"Default",get:function(){return me}},{key:"DefaultType",get:function(){return ge}},{key:"NAME",get:function(){return"carousel"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}else t.to(e)}))}}]),n}(Z);W.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",(function(e){var t=p(this);if(t&&t.classList.contains(de)){e.preventDefault();var n=ye.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");return r?(n.to(r),void n._maybeEnableCycle()):"next"===X.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())}})),W.on(window,"load.bs.carousel.data-api",(function(){var e,t=ie.find('[data-bs-ride="carousel"]'),n=d(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;ye.getOrCreateInstance(r)}}catch(i){n.e(i)}finally{n.f()}})),T(ye);var be="show",ke="collapse",_e="collapsing",we='[data-bs-toggle="collapse"]',xe={parent:null,toggle:!0},Ee={parent:"(null|element)",toggle:"boolean"},Ie=function(e){s(r,e);var t=u(r);function r(e,i){var a;l(this,r),(a=t.call(this,e,i))._isTransitioning=!1,a._triggerArray=[];var o,s=ie.find(we),u=d(s);try{for(u.s();!(o=u.n()).done;){var c=o.value,f=n(c),h=ie.find(f).filter((function(e){return e===a._element}));null!==f&&h.length&&a._triggerArray.push(c)}}catch(p){u.e(p)}finally{u.f()}return a._initializeChildren(),a._config.parent||a._addAriaAndCollapsedClass(a._triggerArray,a._isShown()),a._config.toggle&&a.toggle(),a}return f(r,[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var e=this;if(!this._isTransitioning&&!this._isShown()){var t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((function(t){return t!==e._element})).map((function(e){return r.getOrCreateInstance(e,{toggle:!1})}))),(!t.length||!t[0]._isTransitioning)&&!W.trigger(this._element,"show.bs.collapse").defaultPrevented){var n,i=d(t);try{for(i.s();!(n=i.n()).done;)n.value.hide()}catch(s){i.e(s)}finally{i.f()}var a=this._getDimension();this._element.classList.remove(ke),this._element.classList.add(_e),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;var o="scroll".concat(a[0].toUpperCase()+a.slice(1));this._queueCallback((function(){e._isTransitioning=!1,e._element.classList.remove(_e),e._element.classList.add(ke,be),e._element.style[a]="",W.trigger(e._element,"shown.bs.collapse")}),this._element,!0),this._element.style[a]="".concat(this._element[o],"px")}}}},{key:"hide",value:function(){var e=this;if(!this._isTransitioning&&this._isShown()&&!W.trigger(this._element,"hide.bs.collapse").defaultPrevented){var t=this._getDimension();this._element.style[t]="".concat(this._element.getBoundingClientRect()[t],"px"),w(this._element),this._element.classList.add(_e),this._element.classList.remove(ke,be);var n,r=d(this._triggerArray);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=p(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}}catch(o){r.e(o)}finally{r.f()}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback((function(){e._isTransitioning=!1,e._element.classList.remove(_e),e._element.classList.add(ke),W.trigger(e._element,"hidden.bs.collapse")}),this._element,!0)}}},{key:"_isShown",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(be)}},{key:"_configAfterMerge",value:function(e){return e.toggle=Boolean(e.toggle),e.parent=g(e.parent),e}},{key:"_getDimension",value:function(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}},{key:"_initializeChildren",value:function(){if(this._config.parent){var e,t=this._getFirstLevelChildren(we),n=d(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=p(r);i&&this._addAriaAndCollapsedClass([r],this._isShown(i))}}catch(a){n.e(a)}finally{n.f()}}}},{key:"_getFirstLevelChildren",value:function(e){var t=ie.find(":scope .collapse .collapse",this._config.parent);return ie.find(e,this._config.parent).filter((function(e){return!t.includes(e)}))}},{key:"_addAriaAndCollapsedClass",value:function(e,t){if(e.length){var n,r=d(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}}catch(a){r.e(a)}finally{r.f()}}}}],[{key:"Default",get:function(){return xe}},{key:"DefaultType",get:function(){return Ee}},{key:"NAME",get:function(){return"collapse"}},{key:"jQueryInterface",value:function(e){var t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){var n=r.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'.concat(e,'"'));n[e]()}}))}}]),r}(Z);W.on(document,"click.bs.collapse.data-api",we,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();var t,r=n(this),i=ie.find(r),a=d(i);try{for(a.s();!(t=a.n()).done;){var o=t.value;Ie.getOrCreateInstance(o,{toggle:!1}).toggle()}}catch(s){a.e(s)}finally{a.f()}})),T(Ie);var Te="top",Se="bottom",Ce="right",Ne="left",Ae="auto",Pe=[Te,Se,Ce,Ne],De="start",Oe="end",Re="clippingParents",Le="viewport",Me="popper",je="reference",qe=Pe.reduce((function(e,t){return e.concat([t+"-"+De,t+"-"+Oe])}),[]),Fe=[].concat(Pe,[Ae]).reduce((function(e,t){return e.concat([t,t+"-"+De,t+"-"+Oe])}),[]),Ue="beforeRead",Ve="read",Be="afterRead",ze="beforeMain",He="main",We="afterMain",Ke="beforeWrite",Ge="write",Qe="afterWrite",Ye=[Ue,Ve,Be,ze,He,We,Ke,Ge,Qe];function $e(e){return e?(e.nodeName||"").toLowerCase():null}function Xe(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Je(e){return e instanceof Xe(e).Element||e instanceof Element}function Ze(e){return e instanceof Xe(e).HTMLElement||e instanceof HTMLElement}function et(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Xe(e).ShadowRoot||e instanceof ShadowRoot)}var tt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Ze(i)&&$e(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Ze(r)&&$e(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function nt(e){return e.split("-")[0]}var rt=Math.max,it=Math.min,at=Math.round;function ot(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function st(){return!/^((?!chrome|android).)*safari/i.test(ot())}function ut(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&Ze(e)&&(i=e.offsetWidth>0&&at(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&at(r.height)/e.offsetHeight||1);var o=(Je(e)?Xe(e):window).visualViewport,s=!st()&&n,u=(r.left+(s&&o?o.offsetLeft:0))/i,c=(r.top+(s&&o?o.offsetTop:0))/a,l=r.width/i,f=r.height/a;return{width:l,height:f,top:c,right:u+l,bottom:c+f,left:u,x:u,y:c}}function ct(e){var t=ut(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function lt(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&et(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ft(e){return Xe(e).getComputedStyle(e)}function ht(e){return["table","td","th"].indexOf($e(e))>=0}function dt(e){return((Je(e)?e.ownerDocument:e.document)||window.document).documentElement}function pt(e){return"html"===$e(e)?e:e.assignedSlot||e.parentNode||(et(e)?e.host:null)||dt(e)}function vt(e){return Ze(e)&&"fixed"!==ft(e).position?e.offsetParent:null}function mt(e){for(var t=Xe(e),n=vt(e);n&&ht(n)&&"static"===ft(n).position;)n=vt(n);return n&&("html"===$e(n)||"body"===$e(n)&&"static"===ft(n).position)?t:n||function(e){var t=/firefox/i.test(ot());if(/Trident/i.test(ot())&&Ze(e)&&"fixed"===ft(e).position)return null;var n=pt(e);for(et(n)&&(n=n.host);Ze(n)&&["html","body"].indexOf($e(n))<0;){var r=ft(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function gt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function yt(e,t,n){return rt(e,it(t,n))}function bt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function kt(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var _t={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=nt(n.placement),u=gt(s),c=[Ne,Ce].indexOf(s)>=0?"height":"width";if(a&&o){var l=function(e,t){return bt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:kt(e,Pe))}(i.padding,n),f=ct(a),h="y"===u?Te:Ne,d="y"===u?Se:Ce,p=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],v=o[u]-n.rects.reference[u],m=mt(a),g=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,b=l[h],k=g-f[c]-l[d],_=g/2-f[c]/2+y,w=yt(b,_,k),x=u;n.modifiersData[r]=((t={})[x]=w,t.centerOffset=w-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&lt(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wt(e){return e.split("-")[1]}var xt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Et(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,v=void 0===p?0:p,m="function"==typeof l?l({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var g=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=Ne,k=Te,_=window;if(c){var w=mt(n),x="clientHeight",E="clientWidth";w===Xe(n)&&"static"!==ft(w=dt(n)).position&&"absolute"===s&&(x="scrollHeight",E="scrollWidth"),(i===Te||(i===Ne||i===Ce)&&a===Oe)&&(k=Se,v-=(f&&w===_&&_.visualViewport?_.visualViewport.height:w[x])-r.height,v*=u?1:-1),i!==Ne&&(i!==Te&&i!==Se||a!==Oe)||(b=Ce,d-=(f&&w===_&&_.visualViewport?_.visualViewport.width:w[E])-r.width,d*=u?1:-1)}var I,T=Object.assign({position:s},c&&xt),S=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:at(t*r)/r||0,y:at(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=S.x,v=S.y,u?Object.assign({},T,((I={})[k]=y?"0":"",I[b]=g?"0":"",I.transform=(_.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",I)):Object.assign({},T,((t={})[k]=y?v+"px":"",t[b]=g?d+"px":"",t.transform="",t))}var It={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,c={placement:nt(t.placement),variation:wt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Et(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Et(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Tt={passive:!0},St={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=Xe(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,Tt)})),s&&u.addEventListener("resize",n.update,Tt),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Tt)})),s&&u.removeEventListener("resize",n.update,Tt)}},data:{}},Ct={left:"right",right:"left",bottom:"top",top:"bottom"};function Nt(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ct[e]}))}var At={start:"end",end:"start"};function Pt(e){return e.replace(/start|end/g,(function(e){return At[e]}))}function Dt(e){var t=Xe(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ot(e){return ut(dt(e)).left+Dt(e).scrollLeft}function Rt(e){var t=ft(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Lt(e){return["html","body","#document"].indexOf($e(e))>=0?e.ownerDocument.body:Ze(e)&&Rt(e)?e:Lt(pt(e))}function Mt(e,t){var n;void 0===t&&(t=[]);var r=Lt(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=Xe(r),o=i?[a].concat(a.visualViewport||[],Rt(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(Mt(pt(o)))}function jt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function qt(e,t,n){return t===Le?jt(function(e,t){var n=Xe(e),r=dt(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,u=0;if(i){a=i.width,o=i.height;var c=st();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:s+Ot(e),y:u}}(e,n)):Je(t)?function(e,t){var n=ut(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):jt(function(e){var t,n=dt(e),r=Dt(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=rt(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=rt(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Ot(e),u=-r.scrollTop;return"rtl"===ft(i||n).direction&&(s+=rt(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(dt(e)))}function Ft(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?nt(i):null,o=i?wt(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case Te:t={x:s,y:n.y-r.height};break;case Se:t={x:s,y:n.y+n.height};break;case Ce:t={x:n.x+n.width,y:u};break;case Ne:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=a?gt(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case De:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Oe:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function Ut(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,s=n.boundary,u=void 0===s?Re:s,c=n.rootBoundary,l=void 0===c?Le:c,f=n.elementContext,h=void 0===f?Me:f,d=n.altBoundary,p=void 0!==d&&d,v=n.padding,m=void 0===v?0:v,g=bt("number"!=typeof m?m:kt(m,Pe)),y=h===Me?je:Me,b=e.rects.popper,k=e.elements[p?y:h],_=function(e,t,n,r){var i="clippingParents"===t?function(e){var t=Mt(pt(e)),n=["absolute","fixed"].indexOf(ft(e).position)>=0&&Ze(e)?mt(e):e;return Je(n)?t.filter((function(e){return Je(e)&&lt(e,n)&&"body"!==$e(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=qt(e,n,r);return t.top=rt(i.top,t.top),t.right=it(i.right,t.right),t.bottom=it(i.bottom,t.bottom),t.left=rt(i.left,t.left),t}),qt(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(Je(k)?k:k.contextElement||dt(e.elements.popper),u,l,o),w=ut(e.elements.reference),x=Ft({reference:w,element:b,strategy:"absolute",placement:i}),E=jt(Object.assign({},b,x)),I=h===Me?E:w,T={top:_.top-I.top+g.top,bottom:I.bottom-_.bottom+g.bottom,left:_.left-I.left+g.left,right:I.right-_.right+g.right},S=e.modifiersData.offset;if(h===Me&&S){var C=S[i];Object.keys(T).forEach((function(e){var t=[Ce,Se].indexOf(e)>=0?1:-1,n=[Te,Se].indexOf(e)>=0?"y":"x";T[e]+=C[n]*t}))}return T}function Vt(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?Fe:u,l=wt(r),f=l?s?qe:qe.filter((function(e){return wt(e)===l})):Pe,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=Ut(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[nt(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}var Bt={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,g=nt(m),y=u||(g!==m&&p?function(e){if(nt(e)===Ae)return[];var t=Nt(e);return[Pt(e),t,Pt(t)]}(m):[Nt(m)]),b=[m].concat(y).reduce((function(e,n){return e.concat(nt(n)===Ae?Vt(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),k=t.rects.reference,_=t.rects.popper,w=new Map,x=!0,E=b[0],I=0;I<b.length;I++){var T=b[I],S=nt(T),C=wt(T)===De,N=[Te,Se].indexOf(S)>=0,A=N?"width":"height",P=Ut(t,{placement:T,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),D=N?C?Ce:Ne:C?Se:Te;k[A]>_[A]&&(D=Nt(D));var O=Nt(D),R=[];if(a&&R.push(P[S]<=0),s&&R.push(P[D]<=0,P[O]<=0),R.every((function(e){return e}))){E=T,x=!1;break}w.set(T,R)}if(x)for(var L=function(e){var t=b.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},M=p?3:1;M>0&&"break"!==L(M);M--);t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function zt(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ht(e){return[Te,Ce,Se,Ne].some((function(t){return e[t]>=0}))}var Wt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Ut(t,{elementContext:"reference"}),s=Ut(t,{altBoundary:!0}),u=zt(o,r),c=zt(s,i,a),l=Ht(u),f=Ht(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},Kt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Fe.reduce((function(e,n){return e[n]=function(e,t,n){var r=nt(e),i=[Ne,Te].indexOf(r)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Ne,Ce].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},Gt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Ft({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Qt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=Ut(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),g=nt(t.placement),y=wt(t.placement),b=!y,k=gt(g),_="x"===k?"y":"x",w=t.modifiersData.popperOffsets,x=t.rects.reference,E=t.rects.popper,I="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,T="number"==typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(w){if(a){var N,A="y"===k?Te:Ne,P="y"===k?Se:Ce,D="y"===k?"height":"width",O=w[k],R=O+m[A],L=O-m[P],M=d?-E[D]/2:0,j=y===De?x[D]:E[D],q=y===De?-E[D]:-x[D],F=t.elements.arrow,U=d&&F?ct(F):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=V[A],z=V[P],H=yt(0,x[D],U[D]),W=b?x[D]/2-M-H-B-T.mainAxis:j-H-B-T.mainAxis,K=b?-x[D]/2+M+H+z+T.mainAxis:q+H+z+T.mainAxis,G=t.elements.arrow&&mt(t.elements.arrow),Q=G?"y"===k?G.clientTop||0:G.clientLeft||0:0,Y=null!=(N=null==S?void 0:S[k])?N:0,$=O+K-Y,X=yt(d?it(R,O+W-Y-Q):R,O,d?rt(L,$):L);w[k]=X,C[k]=X-O}if(s){var J,Z="x"===k?Te:Ne,ee="x"===k?Se:Ce,te=w[_],ne="y"===_?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[Te,Ne].indexOf(g),oe=null!=(J=null==S?void 0:S[_])?J:0,se=ae?re:te-x[ne]-E[ne]-oe+T.altAxis,ue=ae?te+x[ne]+E[ne]-oe-T.altAxis:ie,ce=d&&ae?function(e,t,n){var r=yt(e,t,n);return r>n?n:r}(se,te,ue):yt(d?se:re,te,d?ue:ie);w[_]=ce,C[_]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function Yt(e,t,n){void 0===n&&(n=!1);var r,i,a=Ze(t),o=Ze(t)&&function(e){var t=e.getBoundingClientRect(),n=at(t.width)/e.offsetWidth||1,r=at(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=dt(t),u=ut(e,o,n),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(a||!a&&!n)&&(("body"!==$e(t)||Rt(s))&&(c=(r=t)!==Xe(r)&&Ze(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:Dt(r)),Ze(t)?((l=ut(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Ot(s))),{x:u.left+c.scrollLeft-l.x,y:u.top+c.scrollTop-l.y,width:u.width,height:u.height}}function $t(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var Xt={placement:"bottom",modifiers:[],strategy:"absolute"};function Jt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Zt(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Xt:i;return function(e,t,n){void 0===n&&(n=a);var i,o,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xt,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],c=!1,l={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;f(),s.options=Object.assign({},a,s.options,i),s.scrollParents={reference:Je(e)?Mt(e):e.contextElement?Mt(e.contextElement):[],popper:Mt(t)};var o,c,h=function(e){var t=$t(e);return Ye.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((o=[].concat(r,s.options.modifiers),c=o.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return s.orderedModifiers=h.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var a=i({state:s,name:t,instance:l,options:r});u.push(a||function(){})}})),l.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,n=e.popper;if(Jt(t,n)){s.rects={reference:Yt(t,mt(n),"fixed"===s.options.strategy),popper:ct(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],a=i.fn,o=i.options,u=void 0===o?{}:o,f=i.name;"function"==typeof a&&(s=a({state:s,options:u,name:f,instance:l})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){l.forceUpdate(),e(s)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(i())}))}))),o}),destroy:function(){f(),c=!0}};if(!Jt(e,t))return l;function f(){u.forEach((function(e){return e()})),u=[]}return l.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var en=Zt(),tn=Zt({defaultModifiers:[St,Gt,It,tt]}),nn=Zt({defaultModifiers:[St,Gt,It,tt,Kt,Bt,Qt,_t,Wt]}),rn=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:Zt,detectOverflow:Ut,createPopperBase:en,createPopper:nn,createPopperLite:tn,top:Te,bottom:Se,right:Ce,left:Ne,auto:Ae,basePlacements:Pe,start:De,end:Oe,clippingParents:Re,viewport:Le,popper:Me,reference:je,variationPlacements:qe,placements:Fe,beforeRead:Ue,read:Ve,afterRead:Be,beforeMain:ze,main:He,afterMain:We,beforeWrite:Ke,write:Ge,afterWrite:Qe,modifierPhases:Ye,applyStyles:tt,arrow:_t,computeStyles:It,eventListeners:St,flip:Bt,hide:Wt,offset:Kt,popperOffsets:Gt,preventOverflow:Qt},Symbol.toStringTag,{value:"Module"})),an="dropdown",on="ArrowUp",sn="ArrowDown",un="click.bs.dropdown.data-api",cn="keydown.bs.dropdown.data-api",ln="show",fn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',hn="".concat(fn,".show"),dn=".dropdown-menu",pn=I()?"top-end":"top-start",vn=I()?"top-start":"top-end",mn=I()?"bottom-end":"bottom-start",gn=I()?"bottom-start":"bottom-end",yn=I()?"left-start":"right-start",bn=I()?"right-start":"left-start",kn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},_n={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},wn=function(e){s(n,e);var t=u(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._popper=null,i._parent=i._element.parentNode,i._menu=ie.next(i._element,dn)[0]||ie.prev(i._element,dn)[0]||ie.findOne(dn,i._parent),i._inNavbar=i._detectNavbar(),i}return f(n,[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){if(!b(this._element)&&!this._isShown()){var e={relatedTarget:this._element};if(!W.trigger(this._element,"show.bs.dropdown",e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav")){var t,n,r=d((t=[]).concat.apply(t,a(document.body.children)));try{for(r.s();!(n=r.n()).done;){var i=n.value;W.on(i,"mouseover",_)}}catch(o){r.e(o)}finally{r.f()}}this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ln),this._element.classList.add(ln),W.trigger(this._element,"shown.bs.dropdown",e)}}}},{key:"hide",value:function(){if(!b(this._element)&&this._isShown()){var e={relatedTarget:this._element};this._completeHide(e)}}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),r(i(n.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(e){if(!W.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented){if("ontouchstart"in document.documentElement){var t,n,r=d((t=[]).concat.apply(t,a(document.body.children)));try{for(r.s();!(n=r.n()).done;){var i=n.value;W.off(i,"mouseover",_)}}catch(o){r.e(o)}finally{r.f()}}this._popper&&this._popper.destroy(),this._menu.classList.remove(ln),this._element.classList.remove(ln),this._element.setAttribute("aria-expanded","false"),X.removeDataAttribute(this._menu,"popper"),W.trigger(this._element,"hidden.bs.dropdown",e)}}},{key:"_getConfig",value:function(e){if("object"==typeof(e=r(i(n.prototype),"_getConfig",this).call(this,e)).reference&&!m(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError("".concat(an.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return e}},{key:"_createPopper",value:function(){if(void 0===rn)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var e=this._element;"parent"===this._config.reference?e=this._parent:m(this._config.reference)?e=g(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);var t=this._getPopperConfig();this._popper=nn(e,this._menu,t)}},{key:"_isShown",value:function(){return this._menu.classList.contains(ln)}},{key:"_getPlacement",value:function(){var e=this._parent;if(e.classList.contains("dropend"))return yn;if(e.classList.contains("dropstart"))return bn;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";var t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?vn:pn:t?gn:mn}},{key:"_detectNavbar",value:function(){return null!==this._element.closest(".navbar")}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"==typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"==typeof t?function(n){return t(n,e._element)}:t}},{key:"_getPopperConfig",value:function(){var e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(X.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),c(c({},e),"function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig)}},{key:"_selectMenuItem",value:function(e){var t=e.key,n=e.target,r=ie.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((function(e){return y(e)}));r.length&&N(r,n,t===sn,!r.includes(n)).focus()}}],[{key:"Default",get:function(){return kn}},{key:"DefaultType",get:function(){return _n}},{key:"NAME",get:function(){return an}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}},{key:"clearMenus",value:function(e){if(2!==e.button&&("keyup"!==e.type||"Tab"===e.key)){var t,r=ie.find(hn),i=d(r);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=n.getInstance(a);if(o&&!1!==o._config.autoClose){var s=e.composedPath(),u=s.includes(o._menu);if(!(s.includes(o._element)||"inside"===o._config.autoClose&&!u||"outside"===o._config.autoClose&&u)&&(!o._menu.contains(e.target)||!("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))){var c={relatedTarget:o._element};"click"===e.type&&(c.clickEvent=e),o._completeHide(c)}}}}catch(l){i.e(l)}finally{i.f()}}}},{key:"dataApiKeydownHandler",value:function(e){var t=/input|textarea/i.test(e.target.tagName),r="Escape"===e.key,i=[on,sn].includes(e.key);if((i||r)&&(!t||r)){e.preventDefault();var a=this.matches(fn)?this:ie.prev(this,fn)[0]||ie.next(this,fn)[0]||ie.findOne(fn,e.delegateTarget.parentNode),o=n.getOrCreateInstance(a);if(i)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),a.focus())}}}]),n}(Z);W.on(document,cn,fn,wn.dataApiKeydownHandler),W.on(document,cn,dn,wn.dataApiKeydownHandler),W.on(document,un,wn.clearMenus),W.on(document,"keyup.bs.dropdown.data-api",wn.clearMenus),W.on(document,un,fn,(function(e){e.preventDefault(),wn.getOrCreateInstance(this).toggle()})),T(wn);var xn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",En=".sticky-top",In="padding-right",Tn="margin-right",Sn=function(){function e(){l(this,e),this._element=document.body}return f(e,[{key:"getWidth",value:function(){var e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}},{key:"hide",value:function(){var e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,In,(function(t){return t+e})),this._setElementAttributes(xn,In,(function(t){return t+e})),this._setElementAttributes(En,Tn,(function(t){return t-e}))}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,In),this._resetElementAttributes(xn,In),this._resetElementAttributes(En,Tn)}},{key:"isOverflowing",value:function(){return this.getWidth()>0}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(e,t,n){var r=this,i=this.getWidth();this._applyManipulationCallback(e,(function(e){if(!(e!==r._element&&window.innerWidth>e.clientWidth+i)){r._saveInitialAttribute(e,t);var a=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,"".concat(n(Number.parseFloat(a)),"px"))}}))}},{key:"_saveInitialAttribute",value:function(e,t){var n=e.style.getPropertyValue(t);n&&X.setDataAttribute(e,t,n)}},{key:"_resetElementAttributes",value:function(e,t){this._applyManipulationCallback(e,(function(e){var n=X.getDataAttribute(e,t);null!==n?(X.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)}))}},{key:"_applyManipulationCallback",value:function(e,t){if(m(e))t(e);else{var n,r=d(ie.find(e,this._element));try{for(r.s();!(n=r.n()).done;)t(n.value)}catch(i){r.e(i)}finally{r.f()}}}}]),e}(),Cn="show",Nn="mousedown.bs.backdrop",An={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Pn={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},Dn=function(e){s(n,e);var t=u(n);function n(e){var r;return l(this,n),(r=t.call(this))._config=r._getConfig(e),r._isAppended=!1,r._element=null,r}return f(n,[{key:"show",value:function(e){if(this._config.isVisible){this._append();var t=this._getElement();this._config.isAnimated&&w(t),t.classList.add(Cn),this._emulateAnimation((function(){S(e)}))}else S(e)}},{key:"hide",value:function(e){var t=this;this._config.isVisible?(this._getElement().classList.remove(Cn),this._emulateAnimation((function(){t.dispose(),S(e)}))):S(e)}},{key:"dispose",value:function(){this._isAppended&&(W.off(this._element,Nn),this._element.remove(),this._isAppended=!1)}},{key:"_getElement",value:function(){if(!this._element){var e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}},{key:"_configAfterMerge",value:function(e){return e.rootElement=g(e.rootElement),e}},{key:"_append",value:function(){var e=this;if(!this._isAppended){var t=this._getElement();this._config.rootElement.append(t),W.on(t,Nn,(function(){S(e._config.clickCallback)})),this._isAppended=!0}}},{key:"_emulateAnimation",value:function(e){C(e,this._getElement(),this._config.isAnimated)}}],[{key:"Default",get:function(){return An}},{key:"DefaultType",get:function(){return Pn}},{key:"NAME",get:function(){return"backdrop"}}]),n}(J),On=".bs.focustrap",Rn="backward",Ln={autofocus:!0,trapElement:null},Mn={autofocus:"boolean",trapElement:"element"},jn=function(e){s(n,e);var t=u(n);function n(e){var r;return l(this,n),(r=t.call(this))._config=r._getConfig(e),r._isActive=!1,r._lastTabNavDirection=null,r}return f(n,[{key:"activate",value:function(){var e=this;this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),W.off(document,On),W.on(document,"focusin.bs.focustrap",(function(t){return e._handleFocusin(t)})),W.on(document,"keydown.tab.bs.focustrap",(function(t){return e._handleKeydown(t)})),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,W.off(document,On))}},{key:"_handleFocusin",value:function(e){var t=this._config.trapElement;if(e.target!==document&&e.target!==t&&!t.contains(e.target)){var n=ie.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===Rn?n[n.length-1].focus():n[0].focus()}}},{key:"_handleKeydown",value:function(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Rn:"forward")}}],[{key:"Default",get:function(){return Ln}},{key:"DefaultType",get:function(){return Mn}},{key:"NAME",get:function(){return"focustrap"}}]),n}(J),qn="hidden.bs.modal",Fn="show.bs.modal",Un="modal-open",Vn="show",Bn="modal-static",zn={backdrop:!0,focus:!0,keyboard:!0},Hn={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},Wn=function(e){s(n,e);var t=u(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._dialog=ie.findOne(".modal-dialog",i._element),i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._isShown=!1,i._isTransitioning=!1,i._scrollBar=new Sn,i._addEventListeners(),i}return f(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;this._isShown||this._isTransitioning||W.trigger(this._element,Fn,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Un),this._adjustDialog(),this._backdrop.show((function(){return t._showElement(e)})))}},{key:"hide",value:function(){var e=this;this._isShown&&!this._isTransitioning&&(W.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Vn),this._queueCallback((function(){return e._hideModal()}),this._element,this._isAnimated())))}},{key:"dispose",value:function(){for(var e=0,t=[window,this._dialog];e<t.length;e++){var a=t[e];W.off(a,".bs.modal")}this._backdrop.dispose(),this._focustrap.deactivate(),r(i(n.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new Dn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new jn({trapElement:this._element})}},{key:"_showElement",value:function(e){var t=this;document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;var n=ie.findOne(".modal-body",this._dialog);n&&(n.scrollTop=0),w(this._element),this._element.classList.add(Vn),this._queueCallback((function(){t._config.focus&&t._focustrap.activate(),t._isTransitioning=!1,W.trigger(t._element,"shown.bs.modal",{relatedTarget:e})}),this._dialog,this._isAnimated())}},{key:"_addEventListeners",value:function(){var e=this;W.on(this._element,"keydown.dismiss.bs.modal",(function(t){if("Escape"===t.key)return e._config.keyboard?(t.preventDefault(),void e.hide()):void e._triggerBackdropTransition()})),W.on(window,"resize.bs.modal",(function(){e._isShown&&!e._isTransitioning&&e._adjustDialog()})),W.on(this._element,"mousedown.dismiss.bs.modal",(function(t){W.one(e._element,"click.dismiss.bs.modal",(function(n){e._element===t.target&&e._element===n.target&&("static"!==e._config.backdrop?e._config.backdrop&&e.hide():e._triggerBackdropTransition())}))}))}},{key:"_hideModal",value:function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((function(){document.body.classList.remove(Un),e._resetAdjustments(),e._scrollBar.reset(),W.trigger(e._element,qn)}))}},{key:"_isAnimated",value:function(){return this._element.classList.contains("fade")}},{key:"_triggerBackdropTransition",value:function(){var e=this;if(!W.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented){var t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;"hidden"===n||this._element.classList.contains(Bn)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Bn),this._queueCallback((function(){e._element.classList.remove(Bn),e._queueCallback((function(){e._element.style.overflowY=n}),e._dialog)}),this._dialog),this._element.focus())}}},{key:"_adjustDialog",value:function(){var e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){var r=I()?"paddingLeft":"paddingRight";this._element.style[r]="".concat(t,"px")}if(!n&&e){var i=I()?"paddingRight":"paddingLeft";this._element.style[i]="".concat(t,"px")}}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}],[{key:"Default",get:function(){return zn}},{key:"DefaultType",get:function(){return Hn}},{key:"NAME",get:function(){return"modal"}},{key:"jQueryInterface",value:function(e,t){return this.each((function(){var r=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'.concat(e,'"'));r[e](t)}}))}}]),n}(Z);W.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(e){var t=this,n=p(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),W.one(n,Fn,(function(e){e.defaultPrevented||W.one(n,qn,(function(){y(t)&&t.focus()}))}));var r=ie.findOne(".modal.show");r&&Wn.getInstance(r).hide(),Wn.getOrCreateInstance(n).toggle(this)})),ee(Wn),T(Wn);var Kn="show",Gn="showing",Qn="hiding",Yn=".offcanvas.show",$n="hidePrevented.bs.offcanvas",Xn="hidden.bs.offcanvas",Jn={backdrop:!0,keyboard:!0,scroll:!1},Zn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},er=function(e){s(n,e);var t=u(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._isShown=!1,i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._addEventListeners(),i}return f(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;this._isShown||W.trigger(this._element,"show.bs.offcanvas",{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Sn).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Gn),this._queueCallback((function(){t._config.scroll&&!t._config.backdrop||t._focustrap.activate(),t._element.classList.add(Kn),t._element.classList.remove(Gn),W.trigger(t._element,"shown.bs.offcanvas",{relatedTarget:e})}),this._element,!0))}},{key:"hide",value:function(){var e=this;this._isShown&&(W.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Qn),this._backdrop.hide(),this._queueCallback((function(){e._element.classList.remove(Kn,Qn),e._element.removeAttribute("aria-modal"),e._element.removeAttribute("role"),e._config.scroll||(new Sn).reset(),W.trigger(e._element,Xn)}),this._element,!0)))}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),r(i(n.prototype),"dispose",this).call(this)}},{key:"_initializeBackDrop",value:function(){var e=this,t=Boolean(this._config.backdrop);return new Dn({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?function(){"static"!==e._config.backdrop?e.hide():W.trigger(e._element,$n)}:null})}},{key:"_initializeFocusTrap",value:function(){return new jn({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var e=this;W.on(this._element,"keydown.dismiss.bs.offcanvas",(function(t){"Escape"===t.key&&(e._config.keyboard?e.hide():W.trigger(e._element,$n))}))}}],[{key:"Default",get:function(){return Jn}},{key:"DefaultType",get:function(){return Zn}},{key:"NAME",get:function(){return"offcanvas"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(Z);W.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(e){var t=this,n=p(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),!b(this)){W.one(n,Xn,(function(){y(t)&&t.focus()}));var r=ie.findOne(Yn);r&&r!==n&&er.getInstance(r).hide(),er.getOrCreateInstance(n).toggle(this)}})),W.on(window,"load.bs.offcanvas.data-api",(function(){var e,t=d(ie.find(Yn));try{for(t.s();!(e=t.n()).done;){var n=e.value;er.getOrCreateInstance(n).show()}}catch(r){t.e(r)}finally{t.f()}})),W.on(window,"resize.bs.offcanvas",(function(){var e,t=d(ie.find("[aria-modal][class*=show][class*=offcanvas-]"));try{for(t.s();!(e=t.n()).done;){var n=e.value;"fixed"!==getComputedStyle(n).position&&er.getOrCreateInstance(n).hide()}}catch(r){t.e(r)}finally{t.f()}})),ee(er),T(er);var tr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),nr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,ir=function(e,t){var n=e.nodeName.toLowerCase();return t.includes(n)?!tr.has(n)||Boolean(nr.test(e.nodeValue)||rr.test(e.nodeValue)):t.filter((function(e){return e instanceof RegExp})).some((function(e){return e.test(n)}))},ar={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},or={allowList:ar,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},sr={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ur={entry:"(string|element|function|null)",selector:"(string|element)"},cr=function(e){s(n,e);var t=u(n);function n(e){var r;return l(this,n),(r=t.call(this))._config=r._getConfig(e),r}return f(n,[{key:"getContent",value:function(){var e=this;return Object.values(this._config.content).map((function(t){return e._resolvePossibleFunction(t)})).filter(Boolean)}},{key:"hasContent",value:function(){return this.getContent().length>0}},{key:"changeContent",value:function(e){return this._checkContent(e),this._config.content=c(c({},this._config.content),e),this}},{key:"toHtml",value:function(){var e,t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(var n=0,r=Object.entries(this._config.content);n<r.length;n++){var i=h(r[n],2),o=i[0],s=i[1];this._setContent(t,s,o)}var u=t.children[0],c=this._resolvePossibleFunction(this._config.extraClass);return c&&(e=u.classList).add.apply(e,a(c.split(" "))),u}},{key:"_typeCheckConfig",value:function(e){r(i(n.prototype),"_typeCheckConfig",this).call(this,e),this._checkContent(e.content)}},{key:"_checkContent",value:function(e){for(var t=0,a=Object.entries(e);t<a.length;t++){var o=h(a[t],2),s=o[0],u=o[1];r(i(n.prototype),"_typeCheckConfig",this).call(this,{selector:s,entry:u},ur)}}},{key:"_setContent",value:function(e,t,n){var r=ie.findOne(n,e);r&&((t=this._resolvePossibleFunction(t))?m(t)?this._putElementInTemplate(g(t),r):this._config.html?r.innerHTML=this._maybeSanitize(t):r.textContent=t:r.remove())}},{key:"_maybeSanitize",value:function(e){return this._config.sanitize?function(e,t,n){var r;if(!e.length)return e;if(n&&"function"==typeof n)return n(e);var i,o=(new window.DOMParser).parseFromString(e,"text/html"),s=(r=[]).concat.apply(r,a(o.body.querySelectorAll("*"))),u=d(s);try{for(u.s();!(i=u.n()).done;){var c,l=i.value,f=l.nodeName.toLowerCase();if(Object.keys(t).includes(f)){var h,p=(c=[]).concat.apply(c,a(l.attributes)),v=[].concat(t["*"]||[],t[f]||[]),m=d(p);try{for(m.s();!(h=m.n()).done;){var g=h.value;ir(g,v)||l.removeAttribute(g.nodeName)}}catch(y){m.e(y)}finally{m.f()}}else l.remove()}}catch(y){u.e(y)}finally{u.f()}return o.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}},{key:"_resolvePossibleFunction",value:function(e){return"function"==typeof e?e(this):e}},{key:"_putElementInTemplate",value:function(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}],[{key:"Default",get:function(){return or}},{key:"DefaultType",get:function(){return sr}},{key:"NAME",get:function(){return"TemplateFactory"}}]),n}(J),lr=new Set(["sanitize","allowList","sanitizeFn"]),fr="fade",hr="show",dr=".modal",pr="hide.bs.modal",vr="hover",mr="focus",gr={AUTO:"auto",TOP:"top",RIGHT:I()?"left":"right",BOTTOM:"bottom",LEFT:I()?"right":"left"},yr={allowList:ar,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},br={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},kr=function(e){s(n,e);var t=u(n);function n(e,r){var i;if(l(this,n),void 0===rn)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(i=t.call(this,e,r))._isEnabled=!0,i._timeout=0,i._isHovered=null,i._activeTrigger={},i._popper=null,i._templateFactory=null,i._newContent=null,i.tip=null,i._setListeners(),i._config.selector||i._fixTitle(),i}return f(n,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}},{key:"dispose",value:function(){clearTimeout(this._timeout),W.off(this._element.closest(dr),pr,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),r(i(n.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var e=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this._isWithContent()&&this._isEnabled){var t=W.trigger(this._element,this.constructor.eventName("show")),n=(k(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(!t.defaultPrevented&&n){this._disposePopper();var r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));var i=this._config.container;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),W.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(r),r.classList.add(hr),"ontouchstart"in document.documentElement){var o,s,u=d((o=[]).concat.apply(o,a(document.body.children)));try{for(u.s();!(s=u.n()).done;){var c=s.value;W.on(c,"mouseover",_)}}catch(l){u.e(l)}finally{u.f()}}this._queueCallback((function(){W.trigger(e._element,e.constructor.eventName("shown")),!1===e._isHovered&&e._leave(),e._isHovered=!1}),this.tip,this._isAnimated())}}}},{key:"hide",value:function(){var e=this;if(this._isShown()&&!W.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(hr),"ontouchstart"in document.documentElement){var t,n,r=d((t=[]).concat.apply(t,a(document.body.children)));try{for(r.s();!(n=r.n()).done;){var i=n.value;W.off(i,"mouseover",_)}}catch(o){r.e(o)}finally{r.f()}}this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback((function(){e._isWithActiveTrigger()||(e._isHovered||e._disposePopper(),e._element.removeAttribute("aria-describedby"),W.trigger(e._element,e.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}},{key:"update",value:function(){this._popper&&this._popper.update()}},{key:"_isWithContent",value:function(){return Boolean(this._getTitle())}},{key:"_getTipElement",value:function(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}},{key:"_createTipElement",value:function(e){var t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(fr,hr),t.classList.add("bs-".concat(this.constructor.NAME,"-auto"));var n=function(e){do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e}(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(fr),t}},{key:"setContent",value:function(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}},{key:"_getTemplateFactory",value:function(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new cr(c(c({},this._config),{},{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}},{key:"_getContentForTemplate",value:function(){return{".tooltip-inner":this._getTitle()}}},{key:"_getTitle",value:function(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}},{key:"_initializeOnDelegatedTarget",value:function(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}},{key:"_isAnimated",value:function(){return this._config.animation||this.tip&&this.tip.classList.contains(fr)}},{key:"_isShown",value:function(){return this.tip&&this.tip.classList.contains(hr)}},{key:"_createPopper",value:function(e){var t="function"==typeof this._config.placement?this._config.placement.call(this,e,this._element):this._config.placement,n=gr[t.toUpperCase()];return nn(this._element,e,this._getPopperConfig(n))}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"==typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"==typeof t?function(n){return t(n,e._element)}:t}},{key:"_resolvePossibleFunction",value:function(e){return"function"==typeof e?e.call(this._element):e}},{key:"_getPopperConfig",value:function(e){var t=this,n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:function(e){t._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return c(c({},n),"function"==typeof this._config.popperConfig?this._config.popperConfig(n):this._config.popperConfig)}},{key:"_setListeners",value:function(){var e,t=this,n=this._config.trigger.split(" "),r=d(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;if("click"===i)W.on(this._element,this.constructor.eventName("click"),this._config.selector,(function(e){t._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==i){var a=i===vr?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),o=i===vr?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");W.on(this._element,a,this._config.selector,(function(e){var n=t._initializeOnDelegatedTarget(e);n._activeTrigger["focusin"===e.type?mr:vr]=!0,n._enter()})),W.on(this._element,o,this._config.selector,(function(e){var n=t._initializeOnDelegatedTarget(e);n._activeTrigger["focusout"===e.type?mr:vr]=n._element.contains(e.relatedTarget),n._leave()}))}}}catch(s){r.e(s)}finally{r.f()}this._hideModalHandler=function(){t._element&&t.hide()},W.on(this._element.closest(dr),pr,this._hideModalHandler)}},{key:"_fixTitle",value:function(){var e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}},{key:"_enter",value:function(){var e=this;this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((function(){e._isHovered&&e.show()}),this._config.delay.show))}},{key:"_leave",value:function(){var e=this;this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((function(){e._isHovered||e.hide()}),this._config.delay.hide))}},{key:"_setTimeout",value:function(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}},{key:"_isWithActiveTrigger",value:function(){return Object.values(this._activeTrigger).includes(!0)}},{key:"_getConfig",value:function(e){for(var t=X.getDataAttributes(this._element),n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];lr.has(i)&&delete t[i]}return e=c(c({},t),"object"==typeof e&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}},{key:"_configAfterMerge",value:function(e){return e.container=!1===e.container?document.body:g(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}},{key:"_getDelegateConfig",value:function(){var e={};for(var t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e.selector=!1,e.trigger="manual",e}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}}],[{key:"Default",get:function(){return yr}},{key:"DefaultType",get:function(){return br}},{key:"NAME",get:function(){return"tooltip"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(Z);T(kr);var _r=c(c({},kr.Default),{},{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),wr=c(c({},kr.DefaultType),{},{content:"(null|string|element|function)"}),xr=function(e){s(n,e);var t=u(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"_isWithContent",value:function(){return this._getTitle()||this._getContent()}},{key:"_getContentForTemplate",value:function(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}}],[{key:"Default",get:function(){return _r}},{key:"DefaultType",get:function(){return wr}},{key:"NAME",get:function(){return"popover"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(kr);T(xr);var Er="click.bs.scrollspy",Ir="active",Tr="[href]",Sr={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Cr={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},Nr=function(e){s(n,e);var t=u(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._targetLinks=new Map,i._observableSections=new Map,i._rootElement="visible"===getComputedStyle(i._element).overflowY?null:i._element,i._activeTarget=null,i._observer=null,i._previousScrollData={visibleEntryTop:0,parentScrollTop:0},i.refresh(),i}return f(n,[{key:"refresh",value:function(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();var e,t=d(this._observableSections.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;this._observer.observe(n)}}catch(r){t.e(r)}finally{t.f()}}},{key:"dispose",value:function(){this._observer.disconnect(),r(i(n.prototype),"dispose",this).call(this)}},{key:"_configAfterMerge",value:function(e){return e.target=g(e.target)||document.body,e.rootMargin=e.offset?"".concat(e.offset,"px 0px -30%"):e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((function(e){return Number.parseFloat(e)}))),e}},{key:"_maybeEnableSmoothScroll",value:function(){var e=this;this._config.smoothScroll&&(W.off(this._config.target,Er),W.on(this._config.target,Er,Tr,(function(t){var n=e._observableSections.get(t.target.hash);if(n){t.preventDefault();var r=e._rootElement||window,i=n.offsetTop-e._element.offsetTop;if(r.scrollTo)return void r.scrollTo({top:i,behavior:"smooth"});r.scrollTop=i}})))}},{key:"_getNewObserver",value:function(){var e=this,t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((function(t){return e._observerCallback(t)}),t)}},{key:"_observerCallback",value:function(e){var t=this,n=function(e){return t._targetLinks.get("#".concat(e.target.id))},r=function(e){t._previousScrollData.visibleEntryTop=e.target.offsetTop,t._process(n(e))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;var o,s=d(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.isIntersecting){var c=u.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&c){if(r(u),!i)return}else a||c||r(u)}else this._activeTarget=null,this._clearActiveClass(n(u))}}catch(l){s.e(l)}finally{s.f()}}},{key:"_initializeTargetsAndObservables",value:function(){this._targetLinks=new Map,this._observableSections=new Map;var e,t=ie.find(Tr,this._config.target),n=d(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.hash&&!b(r)){var i=ie.findOne(r.hash,this._element);y(i)&&(this._targetLinks.set(r.hash,r),this._observableSections.set(r.hash,i))}}}catch(a){n.e(a)}finally{n.f()}}},{key:"_process",value:function(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Ir),this._activateParents(e),W.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:e}))}},{key:"_activateParents",value:function(e){if(e.classList.contains("dropdown-item"))ie.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(Ir);else{var t,n=d(ie.parents(e,".nav, .list-group"));try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=d(ie.prev(i,".nav-link, .nav-item > .nav-link, .list-group-item"));try{for(a.s();!(r=a.n()).done;)r.value.classList.add(Ir)}catch(o){a.e(o)}finally{a.f()}}}catch(o){n.e(o)}finally{n.f()}}}},{key:"_clearActiveClass",value:function(e){e.classList.remove(Ir);var t,n=ie.find("[href].active",e),r=d(n);try{for(r.s();!(t=r.n()).done;)t.value.classList.remove(Ir)}catch(i){r.e(i)}finally{r.f()}}}],[{key:"Default",get:function(){return Sr}},{key:"DefaultType",get:function(){return Cr}},{key:"NAME",get:function(){return"scrollspy"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(Z);W.on(window,"load.bs.scrollspy.data-api",(function(){var e,t=d(ie.find('[data-bs-spy="scroll"]'));try{for(t.s();!(e=t.n()).done;){var n=e.value;Nr.getOrCreateInstance(n)}}catch(r){t.e(r)}finally{t.f()}})),T(Nr);var Ar="ArrowLeft",Pr="ArrowRight",Dr="ArrowUp",Or="ArrowDown",Rr="active",Lr="fade",Mr="show",jr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',qr='.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), '.concat(jr),Fr=function(e){s(n,e);var t=u(n);function n(e){var r;return l(this,n),(r=t.call(this,e))._parent=r._element.closest('.list-group, .nav, [role="tablist"]'),r._parent&&(r._setInitialAttributes(r._parent,r._getChildren()),W.on(r._element,"keydown.bs.tab",(function(e){return r._keydown(e)}))),r}return f(n,[{key:"show",value:function(){var e=this._element;if(!this._elemIsActive(e)){var t=this._getActiveElem(),n=t?W.trigger(t,"hide.bs.tab",{relatedTarget:e}):null;W.trigger(e,"show.bs.tab",{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}}},{key:"_activate",value:function(e,t){var n=this;e&&(e.classList.add(Rr),this._activate(p(e)),this._queueCallback((function(){"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),n._toggleDropDown(e,!0),W.trigger(e,"shown.bs.tab",{relatedTarget:t})):e.classList.add(Mr)}),e,e.classList.contains(Lr)))}},{key:"_deactivate",value:function(e,t){var n=this;e&&(e.classList.remove(Rr),e.blur(),this._deactivate(p(e)),this._queueCallback((function(){"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),n._toggleDropDown(e,!1),W.trigger(e,"hidden.bs.tab",{relatedTarget:t})):e.classList.remove(Mr)}),e,e.classList.contains(Lr)))}},{key:"_keydown",value:function(e){if([Ar,Pr,Dr,Or].includes(e.key)){e.stopPropagation(),e.preventDefault();var t=[Pr,Or].includes(e.key),r=N(this._getChildren().filter((function(e){return!b(e)})),e.target,t,!0);r&&(r.focus({preventScroll:!0}),n.getOrCreateInstance(r).show())}}},{key:"_getChildren",value:function(){return ie.find(qr,this._parent)}},{key:"_getActiveElem",value:function(){var e=this;return this._getChildren().find((function(t){return e._elemIsActive(t)}))||null}},{key:"_setInitialAttributes",value:function(e,t){this._setAttributeIfNotExists(e,"role","tablist");var n,r=d(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._setInitialAttributesOnChild(i)}}catch(a){r.e(a)}finally{r.f()}}},{key:"_setInitialAttributesOnChild",value:function(e){e=this._getInnerElement(e);var t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}},{key:"_setInitialAttributesOnTargetPanel",value:function(e){var t=p(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby","#".concat(e.id)))}},{key:"_toggleDropDown",value:function(e,t){var n=this._getOuterElement(e);if(n.classList.contains("dropdown")){var r=function(e,r){var i=ie.findOne(e,n);i&&i.classList.toggle(r,t)};r(".dropdown-toggle",Rr),r(".dropdown-menu",Mr),n.setAttribute("aria-expanded",t)}}},{key:"_setAttributeIfNotExists",value:function(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}},{key:"_elemIsActive",value:function(e){return e.classList.contains(Rr)}},{key:"_getInnerElement",value:function(e){return e.matches(qr)?e:ie.findOne(qr,e)}},{key:"_getOuterElement",value:function(e){return e.closest(".nav-item, .list-group-item")||e}}],[{key:"NAME",get:function(){return"tab"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(Z);W.on(document,"click.bs.tab",jr,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),b(this)||Fr.getOrCreateInstance(this).show()})),W.on(window,"load.bs.tab",(function(){var e,t=d(ie.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'));try{for(t.s();!(e=t.n()).done;){var n=e.value;Fr.getOrCreateInstance(n)}}catch(r){t.e(r)}finally{t.f()}})),T(Fr);var Ur="hide",Vr="show",Br="showing",zr={animation:"boolean",autohide:"boolean",delay:"number"},Hr={animation:!0,autohide:!0,delay:5e3},Wr=function(e){s(n,e);var t=u(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._timeout=null,i._hasMouseInteraction=!1,i._hasKeyboardInteraction=!1,i._setListeners(),i}return f(n,[{key:"show",value:function(){var e=this;W.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Ur),w(this._element),this._element.classList.add(Vr,Br),this._queueCallback((function(){e._element.classList.remove(Br),W.trigger(e._element,"shown.bs.toast"),e._maybeScheduleHide()}),this._element,this._config.animation))}},{key:"hide",value:function(){var e=this;this.isShown()&&(W.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Br),this._queueCallback((function(){e._element.classList.add(Ur),e._element.classList.remove(Br,Vr),W.trigger(e._element,"hidden.bs.toast")}),this._element,this._config.animation)))}},{key:"dispose",value:function(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Vr),r(i(n.prototype),"dispose",this).call(this)}},{key:"isShown",value:function(){return this._element.classList.contains(Vr)}},{key:"_maybeScheduleHide",value:function(){var e=this;this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((function(){e.hide()}),this._config.delay)))}},{key:"_onInteraction",value:function(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)this._clearTimeout();else{var n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}}},{key:"_setListeners",value:function(){var e=this;W.on(this._element,"mouseover.bs.toast",(function(t){return e._onInteraction(t,!0)})),W.on(this._element,"mouseout.bs.toast",(function(t){return e._onInteraction(t,!1)})),W.on(this._element,"focusin.bs.toast",(function(t){return e._onInteraction(t,!0)})),W.on(this._element,"focusout.bs.toast",(function(t){return e._onInteraction(t,!1)}))}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}],[{key:"Default",get:function(){return Hr}},{key:"DefaultType",get:function(){return zr}},{key:"NAME",get:function(){return"toast"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(Z);return ee(Wr),T(Wr),{Alert:te,Button:re,Carousel:ye,Collapse:Ie,Dropdown:wn,Modal:Wn,Offcanvas:er,Popover:xr,ScrollSpy:Nr,Tab:Fr,Toast:Wr,Tooltip:kr}}()},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,j=Object.assign;function q(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function V(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case I:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,xe=null,Ee=null;function Ie(e){if(e=bi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Te(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Se(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Ee)&&(Ne(),Se())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,qe=!1,Fe=null,Ue={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,xt,Et,It,Tt=!1,St=[],Ct=null,Nt=null,At=null,Pt=new Map,Dt=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ft(e,t,n){qt(e)&&n.delete(t)}function Ut(){Tt=!1,null!==Ct&&qt(Ct)&&(Ct=null),null!==Nt&&qt(Nt)&&(Nt=null),null!==At&&qt(At)&&(At=null),Pt.forEach(Ft),Dt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Vt(t,e)}if(0<St.length){Vt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Nt&&Vt(Nt,e),null!==At&&Vt(At,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var zt=k.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Kt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&_t(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),gn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(j({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return En}var Tn=j({},fn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(Tn),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Pn),On=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),qn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){qr(e,0)}function Yn(e){if(G(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},xr={},Er={};function Ir(e){if(xr[e])return xr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Tr=Ir("animationend"),Sr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),u(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Rr=Pr[Or];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Tr,"onAnimationEnd"),Dr(Sr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,qe||(qe=!0,Fe=l)}}(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}}}if(qe)throw e=Fe,qe=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=_e(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Sn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Tr:case Sr:case Cr:u=gn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Hn(s))if(Xn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ki(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(g=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,qn);case"textInput":return(e=t.data)===qn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}qr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=De(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[di]||null}var wi=[],xi=-1;function Ei(e){return{current:e}}function Ii(e){0>xi||(e.current=wi[xi],wi[xi]=null,xi--)}function Ti(e,t){xi++,wi[xi]=e.current,e.current=t}var Si={},Ci=Ei(Si),Ni=Ei(!1),Ai=Si;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(Ni),Ii(Ci)}function Ri(e,t,n){if(Ci.current!==Si)throw Error(a(168));Ti(Ci,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ai=Ci.current,Ti(Ci,e),Ti(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Ti(Ci,e)):Ii(Ni),Ti(Ni,n)}var qi=null,Fi=!1,Ui=!1;function Vi(e){null===qi?qi=[e]:qi.push(e)}function Bi(){if(!Ui&&null!==qi){Ui=!0;var e=0,t=bt;try{var n=qi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qi=null,Fi=!1}catch(i){throw null!==qi&&(qi=qi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var zi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){zi[Hi++]=Ki,zi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=zi[--Hi],zi[Hi]=null,Ki=zi[--Hi],zi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ei(null),ya=null,ba=null,ka=null;function _a(){ka=ba=ya=null}function wa(e){var t=ga.current;Ii(ga),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ya=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ta=null;function Sa(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Sa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Sa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function qa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Di(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Di(t)?Ai:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case w:return(t=qc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&Ji(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=qc(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Ti(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,ko=0,_o=0;function wo(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Io(){var e=0!==ko;return ko=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function So(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Do(e,t){var n=vo,r=So(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Fo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function qo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return So().memoizedState}function Vo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function zo(e,t){return Vo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return So().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Sa(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ia,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Ia,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:qo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=qo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Nu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(So(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],So().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=So();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],So().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function _s(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Io(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ss(e,t,n,r,i)}function Is(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ou,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ou,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ou,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ou,Du),Du|=r;return _s(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,r,i){var a=Di(n)?Ai:Ci.current;return a=Pi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Io(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)zs(e,t),za(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Pi(t,c=Di(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),u=t.memoizedState),(s=Aa||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ia(u):u=Pi(t,u=Di(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):_s(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,_s(e,t,n,r),t.child}var Ds,Os,Rs,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):qs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Fs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),(t=qs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function qs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Di(t.type)&&Oi(),Ks(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ds(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Rs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ii(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ru&&(Ru=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return wa(t.type._context),Ks(t),null;case 19:if(Ii(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Ru||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Xe()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,$s=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Zs(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!$s&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,hu(e,t,n),$s=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Ec(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:vu(t,e),gu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),gu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(vu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(vu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Xe())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($s=(l=$s)||f,vu(t,e),$s=l):vu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){_u(h);continue}}null!==p?(p.return=d,Js=p):_u(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),gu(e),4&r&&pu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Ys;var c=$s;if(Ys=o,($s=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?wu(i):null!==u?(u.return=o,Js=u):wu(i);for(;null!==a;)Js=a,bu(a,t,n),a=a.sibling;Js=i,Ys=s,$s=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):ku(e)}}function ku(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}$s||512&t.flags&&iu(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function _u(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var xu,Eu=Math.ceil,Iu=k.ReactCurrentDispatcher,Tu=k.ReactCurrentOwner,Su=k.ReactCurrentBatchConfig,Cu=0,Nu=null,Au=null,Pu=0,Du=0,Ou=Ei(0),Ru=0,Lu=null,Mu=0,ju=0,qu=0,Fu=null,Uu=null,Vu=0,Bu=1/0,zu=null,Hu=!1,Wu=null,Ku=null,Gu=!1,Qu=null,Yu=0,$u=0,Xu=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Cu)?Xe():-1!==Ju?Ju:Ju=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Pu?Pu&-Pu:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$u)throw $u=0,Xu=null,Error(a(185));gt(e,n,r),0!==(2&Cu)&&e===Nu||(e===Nu&&(0===(2&Cu)&&(ju|=n),4===Ru&&sc(e,Pu)),rc(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Bu=Xe()+500,Fi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Pu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(uc.bind(null,e)):Vi(uc.bind(null,e)),oi((function(){0===(6&Cu)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cu;Cu|=2;var o=pc();for(Nu===e&&Pu===t||(zu=null,Bu=Xe()+500,hc(e,t));;)try{yc();break}catch(u){dc(e,u)}_a(),Iu.current=o,Cu=i,null!==Au?t=0:(Nu=null,Pu=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Lu,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Uu,zu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Uu,zu),t);break}_c(e,Uu,zu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Uu,zu),r);break}_c(e,Uu,zu);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Uu,Uu=n,null!==t&&oc(t)),e}function oc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function sc(e,t){for(t&=~qu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Cu))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Uu,zu),rc(e,Xe()),null}function cc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Bu=Xe()+500,Fi&&Bi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&Cu)&&wc();var t=Cu;Cu|=1;var n=Su.transition,r=bt;try{if(Su.transition=null,bt=1,e)return e()}finally{bt=r,Su.transition=n,0===(6&(Cu=t))&&Bi()}}function fc(){Du=Ou.current,Ii(Ou)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ii(Ni),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(so);break;case 10:wa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Nu=e,Au=e=Oc(e.current,null),Pu=Du=t,Ru=0,Lu=null,qu=ju=Mu=0,Uu=Fu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function dc(e,t){for(;;){var n=Au;try{if(_a(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,ko=0,Tu.current=null,null===n||null===n.return){Ru=1,Lu=t,Au=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ru&&(Ru=2),null===Fu?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pc(){var e=Iu.current;return Iu.current=os,null===e?os:e}function vc(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===Nu||0===(268435455&Mu)&&0===(268435455&ju)||sc(Nu,Pu)}function mc(e,t){var n=Cu;Cu|=2;var r=pc();for(Nu===e&&Pu===t||(zu=null,hc(e,t));;)try{gc();break}catch(i){dc(e,i)}if(_a(),Cu=n,Iu.current=r,null!==Au)throw Error(a(261));return Nu=null,Pu=0,Ru}function gc(){for(;null!==Au;)bc(Au)}function yc(){for(;null!==Au&&!Ye();)bc(Au)}function bc(e){var t=xu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?kc(e):Au=t,Tu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Du)))return void(Au=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Ru=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Ru&&(Ru=5)}function _c(e,t,n){var r=bt,i=Su.transition;try{Su.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Qu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Au=Nu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Nc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Su.transition,Su.transition=null;var s=bt;bt=1;var u=Cu;Cu|=4,Tu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(_){Ec(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yu(n,e,i),$e(),Cu=u,bt=s,Su.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,Yu=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Yu)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Xu?$u++:($u=0,Xu=e):$u=0,Bi()}(e,t,n,r)}finally{Su.transition=i,bt=r}return null}function wc(){if(null!==Qu){var e=kt(Yu),t=Su.transition,n=bt;try{if(Su.transition=null,bt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Yu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(au(f),f===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var k=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Js=k;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(w){Ec(u,u.return,w)}if(u===s){Js=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,Js=_;break e}Js=u.return}}if(Cu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{bt=n,Su.transition=t}}return!1}function xc(e,t,n){e=Ra(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Ra(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Pu&n)===n&&(4===Ru||3===Ru&&(130023424&Pu)===Pu&&500>Xe()-Vu?hc(e,0):qu|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(gt(e,t,n),rc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case E:s=8,i|=8;break;case I:return(e=Pc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case S:s=9;break e;case C:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function qc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,s,u){return e=new Fc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Si;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Uc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,gt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ti(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ss(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ia(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zs(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),za(t,r,i),Wa(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Is(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Cu)&&(Bu=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},wt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Et=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,_i,Te,Se,cc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,_(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function _(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,O(w);else{var t=r(l);null!==t&&R(_,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&R(_,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,I=null,T=-1,S=5,C=-1;function N(){return!(t.unstable_now()-C<S)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?x():(E=!1,I=null)}}else E=!1}if("function"===typeof b)x=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=A,x=function(){D.postMessage(null)}}else x=function(){g(A,0)};function O(e){I=e,E||(E=!0,x())}function R(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(T),T=-1):m=!0,R(_,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t},897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},405:function(e,t,n){var r=n(897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},728:function(e,t,n){var r=n(62);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},704:function(e,t,n){var r=n(116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t,n){var r=n(808),i=n(617),a=n(993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},416:function(e,t,n){var r=n(62);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},588:function(e,t,n){var r=n(753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},655:function(e,t,n){var r=n(15);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},122:function(e,t,n){var r=n(416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:function(e,t,n){var r=n(698).default,i=n(115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},15:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},424:function(e,t,n){var r=n(372),i=n(872),a=n(116),o=n(218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},753:function(e,t,n){var r=n(808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(405),i=n(498),a=n(116),o=n(281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},36:function(e,t,n){var r=n(698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},62:function(e,t,n){var r=n(698).default,i=n(36);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,t,n){var r=n(897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return bs},SDK_VERSION:function(){return ju},_DEFAULT_ENTRY_NAME:function(){return Eu},_addComponent:function(){return Cu},_addOrOverwriteComponent:function(){return Nu},_apps:function(){return Tu},_clearComponents:function(){return Ou},_components:function(){return Su},_getProvider:function(){return Pu},_registerComponent:function(){return Au},_removeServiceInstance:function(){return Du},deleteApp:function(){return Vu},getApp:function(){return Fu},getApps:function(){return Uu},initializeApp:function(){return qu},onLog:function(){return Hu},registerVersion:function(){return zu},setLogLevel:function(){return Wu}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||u(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||f(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Zz){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function E(e){var t=_();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function I(e,t,n){return I=_()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},I.apply(null,arguments)}function T(e){var t="function"===typeof Map?new Map:void 0;return T=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},T(e)}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var C,N="popstate";function A(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function P(e){return{usr:e.state,key:e.key}}function D(e,t,n,r){return void 0===n&&(n=null),S({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?R(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function O(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function R(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function L(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"===typeof e?e:O(e);return A(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}function M(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null;function d(){f=t.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(N,d),h=e,function(){s.removeEventListener(N,d),h=null}},createHref:function(e){return n(s,e)},encodeLocation:function(e){var t=L("string"===typeof e?e:O(e));return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=D(p.location,e,n);r&&r(i,e);var a=P(i),o=p.createHref(i);try{l.pushState(a,"",o)}catch($L){s.location.assign(o)}c&&h&&h({action:f,location:p.location})},replace:function(e,n){f=t.Replace;var i=D(p.location,e,n);r&&r(i,e);var a=P(i),o=p.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:p.location})},go:function(e){return l.go(e)}};return p}function j(e,t,n){void 0===n&&(n="/");var r=W(("string"===typeof t?R(t):t).pathname||"/",n);if(null==r)return null;var i=q(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=B(i[o],H(r));return a}function q(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(A(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=G([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(A(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),q(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:V(o,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));var F=/^:\w+$/,U=function(e){return"*"===e};function V(e,t){var n=e.split("/"),r=n.length;return n.some(U)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!U(e)})).reduce((function(e,t){return e+(F.test(t)?3:""===t?1:10)}),r)}function B(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=z({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:G([i,l.pathname]),pathnameBase:Q(G([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=G([i,l.pathnameBase]))}return a}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);K("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch($L){return K(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+$L+")."),e}}(c[n]||"",t),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function H(e){try{return decodeURI(e)}catch($L){return K(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+$L+")."),e}}function W(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function K(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Zz){}}}var G=function(e){return e.join("/").replace(/\/\/+/g,"/")},Q=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Y=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(T(Error));var $=g((function e(t,n,r,i){d(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function X(e){return e instanceof $}var J=["post","put","patch","delete"],Z=(new Set(J),["get"].concat(J));new Set(Z),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}var te="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ne=r.useState,re=r.useEffect,ie=r.useLayoutEffect,ae=r.useDebugValue;function oe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!te(n,r)}catch($L){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var se=r.createContext(null);var ue=r.createContext(null);var ce=r.createContext(null);var le=r.createContext(null);var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext({outlet:null,matches:[]});var pe=r.createContext(null);function ve(){return null!=r.useContext(he)}function me(){return ve()||A(!1),r.useContext(he).location}function ge(){var e=r.useContext(de).matches,t=e[e.length-1];return t?t.params:{}}function ye(){var e=function(){var e,t=r.useContext(pe),n=Ee(ke.UseRouteError),i=r.useContext(de),a=i.matches[i.matches.length-1];if(t)return t;return i||A(!1),!a.route.id&&A(!1),null==(e=n.errors)?void 0:e[a.route.id]}(),t=X(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unhandled Thrown Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",r.createElement("code",{style:o},"errorElement")," props on\xa0",r.createElement("code",{style:o},"<Route>")))}var be,ke,_e=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return g(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(pe.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function we(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(se);return a&&n.route.errorElement&&(a._deepestRenderedBoundaryId=n.route.id),r.createElement(de.Provider,{value:t},i)}function xe(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||A(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||r.createElement(ye,null):null,l=function(){return r.createElement(we,{match:o,routeContext:{outlet:e,matches:t.concat(i.slice(0,s+1))}},u?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===s)?r.createElement(_e,{location:n.location,component:c,error:u,children:l()}):l()}),null)}function Ee(e){var t=r.useContext(ce);return t||A(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(be||(be={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(ke||(ke={}));var Ie;function Te(e){A(!1)}function Se(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;ve()&&A(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=R(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,b=void 0===y?"":y,k=v.hash,_=void 0===k?"":k,w=v.state,x=void 0===w?null:w,E=v.key,I=void 0===E?"default":E,T=r.useMemo((function(){var e=W(g,d);return null==e?null:{pathname:e,search:b,hash:_,state:x,key:I}}),[d,g,b,_,x,I]);return null==T?null:r.createElement(fe.Provider,{value:p},r.createElement(he.Provider,{children:o,value:{location:T,navigationType:c}}))}function Ce(e){var n=e.children,i=e.location,a=r.useContext(ue);return function(e,n){ve()||A(!1);var i,a=r.useContext(fe).navigator,o=r.useContext(ce),s=r.useContext(de).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,me());if(n){var h,d="string"===typeof n?R(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||A(!1),i=d}else i=f;var p=i.pathname||"/",v=j(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=xe(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:G([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:G([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,o||void 0);return n&&m?r.createElement(he.Provider,{value:{location:ee({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:Ae(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ie||(Ie={}));var Ne=new Promise((function(){}));r.Component;function Ae(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Te&&A(!1),e.props.index&&e.props.children&&A(!1);var a=[].concat(h(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Ae(e.props.children,a)),n.push(o)}else n.push.apply(n,Ae(e.props.children,t))})),n}function Pe(e){var t=e.basename,n=e.children,i=e.window,a=r.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),M((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:O(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,s=l(r.useState({action:o.action,location:o.location}),2),u=s[0],c=s[1];return r.useLayoutEffect((function(){return o.listen(c)}),[o]),r.createElement(Se,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o})}var De,Oe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(De||(De={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));function Re(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function qe(e,t){if(null==e)return{};var n,r,i=je(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Fe=n(694),Ue=n.n(Fe),Ve=n(184),Be=["xxl","xl","lg","md","sm","xs"],ze=r.createContext({prefixes:{},breakpoints:Be,minBreakpoint:"xs"});ze.Consumer,ze.Provider;function He(e,t){var n=(0,r.useContext)(ze).prefixes;return e||n[t]||t}var We=["bsPrefix","fluid","as","className"],Ke=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,s=qe(e,We),u=He(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,Ve.jsx)(a,Me(Me({ref:t},s),{},{className:Ue()(o,r?"".concat(u).concat(c):u)}))}));Ke.displayName="Container",Ke.defaultProps={fluid:!1};var Ge=Ke;n(573);function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}n(176);function Ye(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function $e(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Xe(e,t,n){var i=(0,r.useRef)(void 0!==e),a=(0,r.useState)(t),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==t&&s(t),[u?e:o,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}function Je(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[Ye(r)],s=a[r],u=je(a,[Ye(r),r].map($e)),c=t[r],l=Xe(s,o,e[c]),f=l[0],h=l[1];return Qe({},u,((i={})[r]=f,i[c]=h,i))}),e)}function Ze(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function et(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function tt(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Ze.__suppressDeprecationWarning=!0,et.__suppressDeprecationWarning=!0,tt.__suppressDeprecationWarning=!0;var nt=Function.prototype.bind.call(Function.prototype.call,[].slice);function rt(e,t){return nt(e.querySelectorAll(t))}function it(){return(0,r.useReducer)((function(e){return!e}),!1)[1]}var at=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var ot=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=at(e),r=at(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])},st=r.createContext(null);st.displayName="NavContext";var ut=st,ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},lt=r.createContext(null),ft=r.createContext(null);function ht(e){return"".concat("data-rr-ui-").concat(e)}var dt=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function pt(e){var t=dt(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var vt=["as","disabled"];function mt(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var gt=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,vt),a=l(mt(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,Ve.jsx)(s,Object.assign({},i,o,{ref:t}))}));gt.displayName="Button";var yt=gt,bt=["as","active","eventKey"];function kt(e){var t=e.key,n=e.onClick,i=e.active,a=e.id,o=e.role,s=e.disabled,u=(0,r.useContext)(lt),c=(0,r.useContext)(ut),l=(0,r.useContext)(ft),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=t?t:null),p=c.getControlledId(null!=t?t:null);h[ht("event-key")]=t,h.id=d||a,!(f=null==i&&null!=t?c.activeKey===t:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(h["aria-selected"]=f,f||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=pt((function(e){s||(null==n||n(e),null!=t&&u&&!e.isPropagationStopped()&&u(t,e))})),[h,{isActive:f}]}var _t=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?yt:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,bt),s=l(kt(Object.assign({key:ct(a,o.href),active:i},o)),2),u=s[0],c=s[1];return u[ht("active")]=c.isActive,(0,Ve.jsx)(r,Object.assign({},o,u,{ref:t}))}));_t.displayName="NavItem";var wt=_t,xt=["as","onSelect","activeKey","role","onKeyDown"];var Et=function(){},It=ht("event-key"),Tt=r.forwardRef((function(e,t){var n,i,a=e.as,o=void 0===a?"div":a,s=e.onSelect,u=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,xt),h=it(),d=(0,r.useRef)(!1),p=(0,r.useContext)(lt),v=(0,r.useContext)(ft);v&&(c=c||"tablist",u=v.activeKey,n=v.getControlledId,i=v.getControllerId);var m=(0,r.useRef)(null),g=function(e){var t=m.current;if(!t)return null;var n=rt(t,"[".concat(It,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},y=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,r.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(It,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var b=ot(t,m);return(0,Ve.jsx)(lt.Provider,{value:y,children:(0,Ve.jsx)(ut.Provider,{value:{role:c,activeKey:ct(u),getControlledId:n||Et,getControllerId:i||Et},children:(0,Ve.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}if(t)e.preventDefault(),y(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:b,role:c}))})})}));Tt.displayName="Nav";var St=Object.assign(Tt,{Item:wt}),Ct=r.createContext(null);Ct.displayName="NavbarContext";var Nt=Ct,At=r.createContext(null);At.displayName="CardHeaderContext";var Pt=At,Dt=/-(.)/g;var Ot=["className","bsPrefix","as"],Rt=function(e){return e[0].toUpperCase()+(t=e,t.replace(Dt,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?Rt(e):n,a=t.Component,o=t.defaultProps,s=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,u=qe(t,Ot),c=He(i,e);return(0,Ve.jsx)(s,Me({ref:n,className:Ue()(r,c)},u))}));return s.defaultProps=o,s.displayName=i,s}var Mt=Lt("nav-item");function jt(){return(0,r.useState)(null)}function qt(){var e=(0,r.useRef)(!0),t=(0,r.useRef)((function(){return e.current}));return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}function Ft(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){t.current=e})),t.current}var Ut="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Vt="undefined"!==typeof document||Ut?r.useLayoutEffect:r.useEffect;new WeakMap;var Bt=["onKeyDown"];var zt=r.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Bt),a=l(mt(Object.assign({tagName:"a"},i)),1)[0],o=pt((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,Ve.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,Ve.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));zt.displayName="Anchor";var Ht=zt,Wt=["bsPrefix","className","as","active","eventKey"],Kt=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?Ht:i,o=e.active,s=e.eventKey,u=qe(e,Wt);n=He(n,"nav-link");var c=l(kt(Me({key:ct(s,u.href),active:o},u)),2),f=c[0],h=c[1];return(0,Ve.jsx)(a,Me(Me(Me({},u),f),{},{ref:t,className:Ue()(r,n,u.disabled&&"disabled",h.isActive&&"active")}))}));Kt.displayName="NavLink",Kt.defaultProps={disabled:!1};var Gt=Kt,Qt=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Yt=r.forwardRef((function(e,t){var n,i,a,o=Je(e,{activeKey:"onSelect"}),s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,l=o.variant,f=o.fill,h=o.justify,d=o.navbar,p=o.navbarScroll,v=o.className,m=o.activeKey,g=qe(o,Qt),y=He(c,"nav"),b=!1,k=(0,r.useContext)(Nt),_=(0,r.useContext)(Pt);return k?(i=k.bsPrefix,b=null==d||d):_&&(a=_.cardHeaderBsPrefix),(0,Ve.jsx)(St,Me({as:u,ref:t,activeKey:m,className:Ue()(v,(n={},Re(n,y,!b),Re(n,"".concat(i,"-nav"),b),Re(n,"".concat(i,"-nav-scroll"),b&&p),Re(n,"".concat(a,"-").concat(l),!!a),Re(n,"".concat(y,"-").concat(l),!!l),Re(n,"".concat(y,"-fill"),f),Re(n,"".concat(y,"-justified"),h),n))},g))}));Yt.displayName="Nav",Yt.defaultProps={justify:!1,fill:!1};var $t=Object.assign(Yt,{Item:Mt,Link:Gt}),Xt=["bsPrefix","className","as"],Jt=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=qe(e,Xt);n=He(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,Ve.jsx)(o,Me(Me({},a),{},{ref:t,className:Ue()(r,n)}))}));Jt.displayName="NavbarBrand";var Zt=Jt;function en(e){return e&&e.ownerDocument||document}function tn(e,t){return function(e){var t=en(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var nn=/([A-Z])/g;var rn=/^ms-/;function an(e){return function(e){return e.replace(nn,"-$1").toLowerCase()}(e).replace(rn,"-ms-")}var on=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var sn=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(an(t))||tn(e).getPropertyValue(an(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!on.test(e))}(i)?n+=an(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(an(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var un=n(164),cn=!1,ln=r.createContext(null),fn="unmounted",hn="exited",dn="entering",pn="entered",vn="exiting",mn=function(e){var t,n;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=hn,r.appearStatus=dn):i=pn:i=t.unmountOnExit||t.mountOnEnter?fn:hn,r.state={status:i},r.nextCallback=null,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===fn?{status:hn}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==dn&&n!==pn&&(t=dn):n!==dn&&n!==pn||(t=vn)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===dn){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:un.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===hn&&this.setState({status:fn})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[un.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||cn?this.safeSetState({status:pn},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:dn},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:pn},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:un.findDOMNode(this);t&&!cn?(this.props.onExit(r),this.safeSetState({status:vn},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:hn},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:hn},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:un.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===fn)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,je(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(ln.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},i}(r.Component);function gn(){}mn.contextType=ln,mn.propTypes={},mn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gn,onEntering:gn,onEntered:gn,onExit:gn,onExiting:gn,onExited:gn},mn.UNMOUNTED=fn,mn.EXITED=hn,mn.ENTERING=dn,mn.ENTERED=pn,mn.EXITING=vn;var yn=mn,bn=!("undefined"===typeof window||!window.document||!window.document.createElement),kn=!1,_n=!1;try{var wn={get passive(){return kn=!0},get once(){return _n=kn=!0}};bn&&(window.addEventListener("test",wn,wn),window.removeEventListener("test",wn,!0))}catch(Zz){}var xn=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!_n){var i=r.once,a=r.capture,o=n;!_n&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,kn?r:a)}e.addEventListener(t,n,r)};var En=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var In=function(e,t,n,r){return xn(e,t,n,r),function(){En(e,t,n,r)}};function Tn(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=In(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Sn(e,t,n,r){null==n&&(n=function(e){var t=sn(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Tn(e,n,r),a=In(e,"transitionend",t);return function(){i(),a()}}function Cn(e,t){var n=sn(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Nn(e,t){var n=Cn(e,"transitionDuration"),r=Cn(e,"transitionDelay"),i=Sn(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var An=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function Pn(e){e.offsetHeight}var Dn,On=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Rn=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.onExited,c=e.addEndListener,l=e.children,f=e.childRef,h=qe(e,On),d=(0,r.useRef)(null),p=ot(d,f),v=function(e){var t;p((t=e)&&"setState"in t?un.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&d.current&&e(d.current,t)}},g=(0,r.useCallback)(m(n),[n]),y=(0,r.useCallback)(m(i),[i]),b=(0,r.useCallback)(m(a),[a]),k=(0,r.useCallback)(m(o),[o]),_=(0,r.useCallback)(m(s),[s]),w=(0,r.useCallback)(m(u),[u]),x=(0,r.useCallback)(m(c),[c]);return(0,Ve.jsx)(yn,Me(Me({ref:t},h),{},{onEnter:g,onEntered:b,onEntering:y,onExit:k,onExited:w,onExiting:_,addEndListener:x,nodeRef:d,children:"function"===typeof l?function(e,t){return l(e,Me(Me({},t),{},{ref:v}))}:r.cloneElement(l,{ref:v})}))})),Ln=Rn,Mn=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],jn={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function qn(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=jn[e];return n+parseInt(sn(t,r[0]),10)+parseInt(sn(t,r[1]),10)}var Fn=(Re(Dn={},hn,"collapse"),Re(Dn,vn,"collapsing"),Re(Dn,dn,"collapsing"),Re(Dn,pn,"collapse show"),Dn),Un={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:qn},Vn=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,h=e.getDimensionValue,d=void 0===h?qn:h,p=qe(e,Mn),v="function"===typeof f?f():f,m=(0,r.useMemo)((function(){return An((function(e){e.style[v]="0"}),n)}),[v,n]),g=(0,r.useMemo)((function(){return An((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),y=(0,r.useMemo)((function(){return An((function(e){e.style[v]=null}),a)}),[v,a]),b=(0,r.useMemo)((function(){return An((function(e){e.style[v]="".concat(d(v,e),"px"),Pn(e)}),o)}),[o,d,v]),k=(0,r.useMemo)((function(){return An((function(e){e.style[v]=null}),s)}),[v,s]);return(0,Ve.jsx)(Ln,Me(Me({ref:t,addEndListener:Nn},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:g,onEntered:y,onExit:b,onExiting:k,childRef:c.ref,children:function(e,t){return r.cloneElement(c,Me(Me({},t),{},{className:Ue()(u,c.props.className,Fn[e],"width"===v&&"collapse-horizontal")}))}}))}));Vn.defaultProps=Un;var Bn=Vn,zn=["children","bsPrefix"],Hn=r.forwardRef((function(e,t){var n=e.children,i=e.bsPrefix,a=qe(e,zn);i=He(i,"navbar-collapse");var o=(0,r.useContext)(Nt);return(0,Ve.jsx)(Bn,Me(Me({in:!(!o||!o.expanded)},a),{},{children:(0,Ve.jsx)("div",{ref:t,className:i,children:n})}))}));Hn.displayName="NavbarCollapse";var Wn=Hn,Kn=["bsPrefix","className","children","label","as","onClick"],Gn=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e.label,s=e.as,u=void 0===s?"button":s,c=e.onClick,l=qe(e,Kn);n=He(n,"navbar-toggler");var f=(0,r.useContext)(Nt)||{},h=f.onToggle,d=f.expanded,p=pt((function(e){c&&c(e),h&&h()}));return"button"===u&&(l.type="button"),(0,Ve.jsx)(u,Me(Me({},l),{},{ref:t,onClick:p,"aria-label":o,className:Ue()(i,n,!d&&"collapsed"),children:a||(0,Ve.jsx)("span",{className:"".concat(n,"-icon")})}))}));Gn.displayName="NavbarToggle",Gn.defaultProps={label:"Toggle navigation"};var Qn=Gn,Yn=new WeakMap,$n=function(e,t){if(e&&t){var n=Yn.get(t)||new Map;Yn.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function Xn(e,t){void 0===t&&(t="undefined"===typeof window?void 0:window);var n=$n(e,t),i=(0,r.useState)((function(){return!!n&&n.matches})),a=i[0],o=i[1];return Vt((function(){var n=$n(e,t);if(!n)return o(!1);var r=Yn.get(t),i=function(){o(n.matches)};return n.refCount++,n.addListener(i),i(),function(){n.removeListener(i),n.refCount--,n.refCount<=0&&(null==r||r.delete(n.media)),n=void 0}}),[e]),a}var Jn=function(e){var t=Object.keys(e);function n(e,t){return e===t?t:e?e+" and "+t:t}function i(n){var r=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(n),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(t,a,o){var s,u;"object"===typeof t?(s=t,o=a,a=!0):((u={})[t]=a=a||!0,s=u);var c=(0,r.useMemo)((function(){return Object.entries(s).reduce((function(t,r){var a=r[0],o=r[1];return"up"!==o&&!0!==o||(t=n(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=n(t,i(a))),t}),"")}),[JSON.stringify(s)]);return Xn(c,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Zn=Jn;function er(e){void 0===e&&(e=en());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(Zz){return e.body}}function tr(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function nr(e){var t=function(e){var t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((function(){return function(){return t.current()}}),[])}var rr=ht("modal-open"),ir=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;d(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return g(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=Re({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(sn(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(rr,""),sn(r,t)}},{key:"reset",value:function(){var e=this;h(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(rr),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),ar=ir,or=(0,r.createContext)(bn?window:void 0);or.Provider;function sr(){return(0,r.useContext)(or)}var ur=function(e,t){return bn?null==e?(t||en()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var cr,lr=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function fr(e){var t=sr(),n=e||function(e){return cr||(cr=new ar({ownerDocument:null==e?void 0:e.document})),cr}(t),i=(0,r.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return n.add(i.current)},remove:function(){return n.remove(i.current)},isTopModal:function(){return n.isTopModal(i.current)},setDialogRef:(0,r.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,r.useCallback)((function(e){i.current.backdrop=e}),[])})}var hr=(0,r.forwardRef)((function(e,t){var n=e.show,i=void 0!==n&&n,a=e.role,o=void 0===a?"dialog":a,s=e.className,u=e.style,c=e.children,f=e.backdrop,h=void 0===f||f,d=e.keyboard,p=void 0===d||d,v=e.onBackdropClick,m=e.onEscapeKeyDown,g=e.transition,y=e.backdropTransition,b=e.autoFocus,k=void 0===b||b,_=e.enforceFocus,w=void 0===_||_,x=e.restoreFocus,E=void 0===x||x,I=e.restoreFocusOptions,T=e.renderDialog,S=e.renderBackdrop,C=void 0===S?function(e){return(0,Ve.jsx)("div",Object.assign({},e))}:S,N=e.manager,A=e.container,P=e.onShow,D=e.onHide,O=void 0===D?function(){}:D,R=e.onExit,L=e.onExited,M=e.onExiting,j=e.onEnter,q=e.onEntering,F=e.onEntered,U=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,lr),V=function(e,t){var n=sr(),i=l((0,r.useState)((function(){return ur(e,null==n?void 0:n.document)})),2),a=i[0],o=i[1];if(!a){var s=ur(e);s&&o(s)}return(0,r.useEffect)((function(){t&&a&&t(a)}),[t,a]),(0,r.useEffect)((function(){var t=ur(e);t!==a&&o(t)}),[e,a]),a}(A),B=fr(N),z=qt(),H=Ft(i),W=l((0,r.useState)(!i),2),K=W[0],G=W[1],Q=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return B}),[B]),bn&&!H&&i&&(Q.current=er()),g||i||K?i&&K&&G(!1):G(!0);var Y=pt((function(){if(B.add(),te.current=In(document,"keydown",Z),ee.current=In(document,"focus",(function(){return setTimeout(X)}),!0),P&&P(),k){var e=er(document);B.dialog&&e&&!tr(B.dialog,e)&&(Q.current=e,B.dialog.focus())}})),$=pt((function(){var e;(B.remove(),null==te.current||te.current(),null==ee.current||ee.current(),E)&&(null==(e=Q.current)||null==e.focus||e.focus(I),Q.current=null)}));(0,r.useEffect)((function(){i&&V&&Y()}),[i,V,Y]),(0,r.useEffect)((function(){K&&$()}),[K,$]),nr((function(){$()}));var X=pt((function(){if(w&&z()&&B.isTopModal()){var e=er();B.dialog&&e&&!tr(B.dialog,e)&&B.dialog.focus()}})),J=pt((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===h&&O())})),Z=pt((function(e){p&&27===e.keyCode&&B.isTopModal()&&(null==m||m(e),e.defaultPrevented||O())})),ee=(0,r.useRef)(),te=(0,r.useRef)(),ne=g;if(!V||!(i||ne&&!K))return null;var re=Object.assign({role:o,ref:B.setDialogRef,"aria-modal":"dialog"===o||void 0},U,{style:u,className:s,tabIndex:-1}),ie=T?T(re):(0,Ve.jsx)("div",Object.assign({},re,{children:r.cloneElement(c,{role:"document"})}));ne&&(ie=(0,Ve.jsx)(ne,{appear:!0,unmountOnExit:!0,in:!!i,onExit:R,onExiting:M,onExited:function(){G(!0),null==L||L.apply(void 0,arguments)},onEnter:j,onEntering:q,onEntered:F,children:ie}));var ae=null;if(h){var oe=y;ae=C({ref:B.setBackdropRef,onClick:J}),oe&&(ae=(0,Ve.jsx)(oe,{appear:!0,in:!!i,children:ae}))}return(0,Ve.jsx)(Ve.Fragment,{children:un.createPortal((0,Ve.jsxs)(Ve.Fragment,{children:[ae,ie]}),V)})}));hr.displayName="Modal";var dr,pr=Object.assign(hr,{Manager:ar}),vr=["className","children","transitionClasses"],mr=(Re(dr={},dn,"show"),Re(dr,pn,"show"),dr),gr=r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=qe(e,vr),u=(0,r.useCallback)((function(e,t){Pn(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,Ve.jsx)(Ln,Me(Me({ref:t,addEndListener:Nn},s),{},{onEnter:u,childRef:i.ref,children:function(e,t){return r.cloneElement(i,Me(Me({},t),{},{className:Ue()("fade",n,i.props.className,mr[e],o[e])}))}}))}));gr.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},gr.displayName="Fade";var yr,br=gr,kr=Lt("offcanvas-body"),_r=["bsPrefix","className","children"],wr=(Re(yr={},dn,"show"),Re(yr,pn,"show"),yr),xr=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=qe(e,_r);return n=He(n,"offcanvas"),(0,Ve.jsx)(Ln,Me(Me({ref:t,addEndListener:Nn},o),{},{childRef:a.ref,children:function(e,t){return r.cloneElement(a,Me(Me({},t),{},{className:Ue()(i,a.props.className,(e===dn||e===vn)&&"".concat(n,"-toggling"),wr[e])}))}}))}));xr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},xr.displayName="OffcanvasToggling";var Er=xr,Ir=r.createContext({onHide:function(){}}),Tr=n(7),Sr=n.n(Tr),Cr=["className","variant"],Nr={"aria-label":Sr().string,onClick:Sr().func,variant:Sr().oneOf(["white"])},Ar=r.forwardRef((function(e,t){var n=e.className,r=e.variant,i=qe(e,Cr);return(0,Ve.jsx)("button",Me({ref:t,type:"button",className:Ue()("btn-close",r&&"btn-close-".concat(r),n)},i))}));Ar.displayName="CloseButton",Ar.propTypes=Nr,Ar.defaultProps={"aria-label":"Close"};var Pr=Ar,Dr=["closeLabel","closeVariant","closeButton","onHide","children"],Or=r.forwardRef((function(e,t){var n=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,s=e.children,u=qe(e,Dr),c=(0,r.useContext)(Ir),l=pt((function(){null==c||c.onHide(),null==o||o()}));return(0,Ve.jsxs)("div",Me(Me({ref:t},u),{},{children:[s,a&&(0,Ve.jsx)(Pr,{"aria-label":n,variant:i,onClick:l})]}))}));Or.defaultProps={closeLabel:"Close",closeButton:!1};var Rr=Or,Lr=["bsPrefix","className"],Mr=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=qe(e,Lr);return n=He(n,"offcanvas-header"),(0,Ve.jsx)(Rr,Me(Me({ref:t},i),{},{className:Ue()(r,n)}))}));Mr.displayName="OffcanvasHeader",Mr.defaultProps={closeLabel:"Close",closeButton:!1};var jr,qr=Mr,Fr=(jr="h5",r.forwardRef((function(e,t){return(0,Ve.jsx)("div",Me(Me({},e),{},{ref:t,className:Ue()(e.className,jr)}))}))),Ur=Lt("offcanvas-title",{Component:Fr});function Vr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function Br(){return Br="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Vr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Br.apply(this,arguments)}function zr(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Hr,Wr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Kr=".sticky-top",Gr=".navbar-toggler",Qr=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,sn(t,Re({},e,"".concat(parseFloat(sn(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],sn(t,Re({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Br(k(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";rt(r,Wr).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),rt(r,Kr).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),rt(r,Gr).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Br(k(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=zr(e.className,t):e.setAttribute("class",zr(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";rt(r,Wr).forEach((function(e){return t.restore(i,e)})),rt(r,Kr).forEach((function(e){return t.restore(a,e)})),rt(r,Gr).forEach((function(e){return t.restore(a,e)}))}}]),n}(ar);var Yr=Qr,$r=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function Xr(e){return(0,Ve.jsx)(Er,Me({},e))}function Jr(e){return(0,Ve.jsx)(br,Me({},e))}var Zr=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],s=e.placement,u=e.responsive,c=e.show,f=e.backdrop,h=e.keyboard,d=e.scroll,p=e.onEscapeKeyDown,v=e.onShow,m=e.onHide,g=e.container,y=e.autoFocus,b=e.enforceFocus,k=e.restoreFocus,_=e.restoreFocusOptions,w=e.onEntered,x=e.onExit,E=e.onExiting,I=e.onEnter,T=e.onEntering,S=e.onExited,C=e.backdropClassName,N=e.manager,A=e.renderStaticNode,P=qe(e,$r),D=(0,r.useRef)();n=He(n,"offcanvas");var O=((0,r.useContext)(Nt)||{}).onToggle,R=l((0,r.useState)(!1),2),L=R[0],M=R[1],j=Zn(u||"xs","up");(0,r.useEffect)((function(){M(u?c&&!j:c)}),[c,u,j]);var q=pt((function(){null==O||O(),null==m||m()})),F=(0,r.useMemo)((function(){return{onHide:q}}),[q]);var U=(0,r.useCallback)((function(e){return(0,Ve.jsx)("div",Me(Me({},e),{},{className:Ue()("".concat(n,"-backdrop"),C)}))}),[C,n]),V=function(e){return(0,Ve.jsx)("div",Me(Me(Me({},e),P),{},{className:Ue()(i,u?"".concat(n,"-").concat(u):n,"".concat(n,"-").concat(s)),"aria-labelledby":o,children:a}))};return(0,Ve.jsxs)(Ve.Fragment,{children:[!L&&(u||A)&&V({}),(0,Ve.jsx)(Ir.Provider,{value:F,children:(0,Ve.jsx)(pr,{show:L,ref:t,backdrop:f,container:g,keyboard:h,autoFocus:y,enforceFocus:b&&!d,restoreFocus:k,restoreFocusOptions:_,onEscapeKeyDown:p,onShow:v,onHide:q,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==I||I.apply(void 0,[e].concat(n))},onEntering:T,onEntered:w,onExit:x,onExiting:E,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==S||S.apply(void 0,n)},manager:N||(d?(D.current||(D.current=new Yr({handleContainerOverflow:!1})),D.current):function(e){return Hr||(Hr=new Qr(e)),Hr}()),transition:Xr,backdropTransition:Jr,renderBackdrop:U,renderDialog:V})})]})}));Zr.displayName="Offcanvas",Zr.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};var ei=Object.assign(Zr,{Body:kr,Header:qr,Title:Ur}),ti=r.forwardRef((function(e,t){var n=(0,r.useContext)(Nt);return(0,Ve.jsx)(ei,Me(Me({ref:t,show:!(null==n||!n.expanded)},e),{},{renderStaticNode:!0}))}));ti.displayName="NavbarOffcanvas";var ni=ti,ri=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],ii=Lt("navbar-text",{Component:"span"}),ai=r.forwardRef((function(e,t){var n=Je(e,{expanded:"onToggle"}),i=n.bsPrefix,a=n.expand,o=n.variant,s=n.bg,u=n.fixed,c=n.sticky,l=n.className,f=n.as,h=void 0===f?"nav":f,d=n.expanded,p=n.onToggle,v=n.onSelect,m=n.collapseOnSelect,g=qe(n,ri),y=He(i,"navbar"),b=(0,r.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&d&&(null==p||p(!1))}),[v,m,d,p]);void 0===g.role&&"nav"!==h&&(g.role="navigation");var k="".concat(y,"-expand");"string"===typeof a&&(k="".concat(k,"-").concat(a));var _=(0,r.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:y,expanded:!!d,expand:a}}),[y,d,a,p]);return(0,Ve.jsx)(Nt.Provider,{value:_,children:(0,Ve.jsx)(lt.Provider,{value:b,children:(0,Ve.jsx)(h,Me(Me({ref:t},g),{},{className:Ue()(l,y,a&&k,o&&"".concat(y,"-").concat(o),s&&"bg-".concat(s),c&&"sticky-".concat(c),u&&"fixed-".concat(u))}))})})}));ai.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},ai.displayName="Navbar";var oi=Object.assign(ai,{Brand:Zt,Collapse:Wn,Offcanvas:ni,Text:ii,Toggle:Qn}),si=r.createContext(null);function ui(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var ci=Object.prototype.hasOwnProperty;function li(e,t,n){var r,i=ui(e.keys());try{for(i.s();!(r=i.n()).done;)if(fi(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function fi(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&fi(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=ui(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=li(t,i)))return!1;if(!t.has(i))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var s,u=ui(e);try{for(u.s();!(s=u.n()).done;){if((i=(r=s.value)[0])&&"object"===typeof i&&!(i=li(t,i)))return!1;if(!fi(r[1],t.get(i)))return!1}}catch(c){u.e(c)}finally{u.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(ci.call(e,n)&&++r&&!ci.call(t,n))return!1;if(!(n in t)||!fi(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var hi=function(e){var t=qt();return[e[0],(0,r.useCallback)((function(n){if(t())return e[1](n)}),[t,e[1]])]};function di(e){return e.split("-")[0]}function pi(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vi(e){return e instanceof pi(e).Element||e instanceof Element}function mi(e){return e instanceof pi(e).HTMLElement||e instanceof HTMLElement}function gi(e){return"undefined"!==typeof ShadowRoot&&(e instanceof pi(e).ShadowRoot||e instanceof ShadowRoot)}var yi=Math.max,bi=Math.min,ki=Math.round;function _i(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function wi(){return!/^((?!chrome|android).)*safari/i.test(_i())}function xi(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&mi(e)&&(i=e.offsetWidth>0&&ki(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&ki(r.height)/e.offsetHeight||1);var o=(vi(e)?pi(e):window).visualViewport,s=!wi()&&n,u=(r.left+(s&&o?o.offsetLeft:0))/i,c=(r.top+(s&&o?o.offsetTop:0))/a,l=r.width/i,f=r.height/a;return{width:l,height:f,top:c,right:u+l,bottom:c+f,left:u,x:u,y:c}}function Ei(e){var t=xi(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Ii(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&gi(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ti(e){return e?(e.nodeName||"").toLowerCase():null}function Si(e){return pi(e).getComputedStyle(e)}function Ci(e){return["table","td","th"].indexOf(Ti(e))>=0}function Ni(e){return((vi(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ai(e){return"html"===Ti(e)?e:e.assignedSlot||e.parentNode||(gi(e)?e.host:null)||Ni(e)}function Pi(e){return mi(e)&&"fixed"!==Si(e).position?e.offsetParent:null}function Di(e){for(var t=pi(e),n=Pi(e);n&&Ci(n)&&"static"===Si(n).position;)n=Pi(n);return n&&("html"===Ti(n)||"body"===Ti(n)&&"static"===Si(n).position)?t:n||function(e){var t=/firefox/i.test(_i());if(/Trident/i.test(_i())&&mi(e)&&"fixed"===Si(e).position)return null;var n=Ai(e);for(gi(n)&&(n=n.host);mi(n)&&["html","body"].indexOf(Ti(n))<0;){var r=Si(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Oi(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ri(e,t,n){return yi(e,bi(t,n))}function Li(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Mi(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var ji="top",qi="bottom",Fi="right",Ui="left",Vi="auto",Bi=[ji,qi,Fi,Ui],zi="start",Hi="end",Wi="viewport",Ki="popper",Gi=Bi.reduce((function(e,t){return e.concat([t+"-"+zi,t+"-"+Hi])}),[]),Qi=[].concat(Bi,[Vi]).reduce((function(e,t){return e.concat([t,t+"-"+zi,t+"-"+Hi])}),[]),Yi=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var $i={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=di(n.placement),u=Oi(s),c=[Ui,Fi].indexOf(s)>=0?"height":"width";if(a&&o){var l=function(e,t){return Li("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Mi(e,Bi))}(i.padding,n),f=Ei(a),h="y"===u?ji:Ui,d="y"===u?qi:Fi,p=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],v=o[u]-n.rects.reference[u],m=Di(a),g=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,b=l[h],k=g-f[c]-l[d],_=g/2-f[c]/2+y,w=Ri(b,_,k),x=u;n.modifiersData[r]=((t={})[x]=w,t.centerOffset=w-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Ii(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xi(e){return e.split("-")[1]}var Ji={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Zi(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var g=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=Ui,k=ji,_=window;if(c){var w=Di(n),x="clientHeight",E="clientWidth";if(w===pi(n)&&"static"!==Si(w=Ni(n)).position&&"absolute"===s&&(x="scrollHeight",E="scrollWidth"),i===ji||(i===Ui||i===Fi)&&a===Hi)k=qi,v-=(f&&w===_&&_.visualViewport?_.visualViewport.height:w[x])-r.height,v*=u?1:-1;if(i===Ui||(i===ji||i===qi)&&a===Hi)b=Fi,d-=(f&&w===_&&_.visualViewport?_.visualViewport.width:w[E])-r.width,d*=u?1:-1}var I,T=Object.assign({position:s},c&&Ji),S=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:ki(t*r)/r||0,y:ki(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=S.x,v=S.y,u?Object.assign({},T,((I={})[k]=y?"0":"",I[b]=g?"0":"",I.transform=(_.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",I)):Object.assign({},T,((t={})[k]=y?v+"px":"",t[b]=g?d+"px":"",t.transform="",t))}var ea={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,c={placement:di(t.placement),variation:Xi(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Zi(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Zi(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},ta={passive:!0};var na={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=pi(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,ta)})),s&&u.addEventListener("resize",n.update,ta),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,ta)})),s&&u.removeEventListener("resize",n.update,ta)}},data:{}},ra={left:"right",right:"left",bottom:"top",top:"bottom"};function ia(e){return e.replace(/left|right|bottom|top/g,(function(e){return ra[e]}))}var aa={start:"end",end:"start"};function oa(e){return e.replace(/start|end/g,(function(e){return aa[e]}))}function sa(e){var t=pi(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ua(e){return xi(Ni(e)).left+sa(e).scrollLeft}function ca(e){var t=Si(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function la(e){return["html","body","#document"].indexOf(Ti(e))>=0?e.ownerDocument.body:mi(e)&&ca(e)?e:la(Ai(e))}function fa(e,t){var n;void 0===t&&(t=[]);var r=la(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=pi(r),o=i?[a].concat(a.visualViewport||[],ca(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(fa(Ai(o)))}function ha(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function da(e,t,n){return t===Wi?ha(function(e,t){var n=pi(e),r=Ni(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,u=0;if(i){a=i.width,o=i.height;var c=wi();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:s+ua(e),y:u}}(e,n)):vi(t)?function(e,t){var n=xi(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):ha(function(e){var t,n=Ni(e),r=sa(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=yi(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=yi(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+ua(e),u=-r.scrollTop;return"rtl"===Si(i||n).direction&&(s+=yi(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(Ni(e)))}function pa(e,t,n,r){var i="clippingParents"===t?function(e){var t=fa(Ai(e)),n=["absolute","fixed"].indexOf(Si(e).position)>=0&&mi(e)?Di(e):e;return vi(n)?t.filter((function(e){return vi(e)&&Ii(e,n)&&"body"!==Ti(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=da(e,n,r);return t.top=yi(i.top,t.top),t.right=bi(i.right,t.right),t.bottom=bi(i.bottom,t.bottom),t.left=yi(i.left,t.left),t}),da(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function va(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?di(i):null,o=i?Xi(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case ji:t={x:s,y:n.y-r.height};break;case qi:t={x:s,y:n.y+n.height};break;case Fi:t={x:n.x+n.width,y:u};break;case Ui:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=a?Oi(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case zi:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Hi:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function ma(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,s=n.boundary,u=void 0===s?"clippingParents":s,c=n.rootBoundary,l=void 0===c?Wi:c,f=n.elementContext,h=void 0===f?Ki:f,d=n.altBoundary,p=void 0!==d&&d,v=n.padding,m=void 0===v?0:v,g=Li("number"!==typeof m?m:Mi(m,Bi)),y=h===Ki?"reference":Ki,b=e.rects.popper,k=e.elements[p?y:h],_=pa(vi(k)?k:k.contextElement||Ni(e.elements.popper),u,l,o),w=xi(e.elements.reference),x=va({reference:w,element:b,strategy:"absolute",placement:i}),E=ha(Object.assign({},b,x)),I=h===Ki?E:w,T={top:_.top-I.top+g.top,bottom:I.bottom-_.bottom+g.bottom,left:_.left-I.left+g.left,right:I.right-_.right+g.right},S=e.modifiersData.offset;if(h===Ki&&S){var C=S[i];Object.keys(T).forEach((function(e){var t=[Fi,qi].indexOf(e)>=0?1:-1,n=[ji,qi].indexOf(e)>=0?"y":"x";T[e]+=C[n]*t}))}return T}var ga={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,g=di(m),y=u||(g===m||!p?[ia(m)]:function(e){if(di(e)===Vi)return[];var t=ia(e);return[oa(e),t,oa(t)]}(m)),b=[m].concat(y).reduce((function(e,n){return e.concat(di(n)===Vi?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?Qi:u,l=Xi(r),f=l?s?Gi:Gi.filter((function(e){return Xi(e)===l})):Bi,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=ma(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[di(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),k=t.rects.reference,_=t.rects.popper,w=new Map,x=!0,E=b[0],I=0;I<b.length;I++){var T=b[I],S=di(T),C=Xi(T)===zi,N=[ji,qi].indexOf(S)>=0,A=N?"width":"height",P=ma(t,{placement:T,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),D=N?C?Fi:Ui:C?qi:ji;k[A]>_[A]&&(D=ia(D));var O=ia(D),R=[];if(a&&R.push(P[S]<=0),s&&R.push(P[D]<=0,P[O]<=0),R.every((function(e){return e}))){E=T,x=!1;break}w.set(T,R)}if(x)for(var L=function(e){var t=b.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ya(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ba(e){return[ji,Fi,qi,Ui].some((function(t){return e[t]>=0}))}var ka={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Qi.reduce((function(e,n){return e[n]=function(e,t,n){var r=di(e),i=[Ui,ji].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Ui,Fi].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var _a={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=ma(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),g=di(t.placement),y=Xi(t.placement),b=!y,k=Oi(g),_="x"===k?"y":"x",w=t.modifiersData.popperOffsets,x=t.rects.reference,E=t.rects.popper,I="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,T="number"===typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(w){if(a){var N,A="y"===k?ji:Ui,P="y"===k?qi:Fi,D="y"===k?"height":"width",O=w[k],R=O+m[A],L=O-m[P],M=d?-E[D]/2:0,j=y===zi?x[D]:E[D],q=y===zi?-E[D]:-x[D],F=t.elements.arrow,U=d&&F?Ei(F):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=V[A],z=V[P],H=Ri(0,x[D],U[D]),W=b?x[D]/2-M-H-B-T.mainAxis:j-H-B-T.mainAxis,K=b?-x[D]/2+M+H+z+T.mainAxis:q+H+z+T.mainAxis,G=t.elements.arrow&&Di(t.elements.arrow),Q=G?"y"===k?G.clientTop||0:G.clientLeft||0:0,Y=null!=(N=null==S?void 0:S[k])?N:0,$=O+K-Y,X=Ri(d?bi(R,O+W-Y-Q):R,O,d?yi(L,$):L);w[k]=X,C[k]=X-O}if(s){var J,Z="x"===k?ji:Ui,ee="x"===k?qi:Fi,te=w[_],ne="y"===_?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[ji,Ui].indexOf(g),oe=null!=(J=null==S?void 0:S[_])?J:0,se=ae?re:te-x[ne]-E[ne]-oe+T.altAxis,ue=ae?te+x[ne]+E[ne]-oe-T.altAxis:ie,ce=d&&ae?function(e,t,n){var r=Ri(e,t,n);return r>n?n:r}(se,te,ue):Ri(d?se:re,te,d?ue:ie);w[_]=ce,C[_]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function wa(e,t,n){void 0===n&&(n=!1);var r=mi(t),i=mi(t)&&function(e){var t=e.getBoundingClientRect(),n=ki(t.width)/e.offsetWidth||1,r=ki(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=Ni(t),o=xi(e,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==Ti(t)||ca(a))&&(s=function(e){return e!==pi(e)&&mi(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:sa(e);var t}(t)),mi(t)?((u=xi(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=ua(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function xa(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Ea(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Ia={placement:"bottom",modifiers:[],strategy:"absolute"};function Ta(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Sa(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Ia:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ia,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:vi(e)?fa(e):e.contextElement?fa(e.contextElement):[],popper:fa(t)};var l=function(e){var t=xa(e);return Yi.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:u,options:r}),c=function(){};o.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(Ta(t,n)){i.rects={reference:wa(t,Di(n),"fixed"===i.options.strategy),popper:Ei(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:Ea((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!Ta(e,t))return u;function c(){o.forEach((function(e){return e()})),o=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Ca=Sa({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=ma(t,{elementContext:"reference"}),s=ma(t,{altBoundary:!0}),u=ya(o,r),c=ya(s,i,a),l=ba(u),f=ba(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=va({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ea,na,ka,ga,_a,$i]}),Na=["enabled","placement","strategy","modifiers"];function Aa(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Pa={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},Da={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},Oa=[];var Ra=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.enabled,a=void 0===i||i,o=n.placement,s=void 0===o?"bottom":o,u=n.strategy,c=void 0===u?"absolute":u,f=n.modifiers,d=void 0===f?Oa:f,p=Aa(n,Na),v=(0,r.useRef)(d),m=(0,r.useRef)(),g=(0,r.useCallback)((function(){var e;null==(e=m.current)||e.update()}),[]),y=(0,r.useCallback)((function(){var e;null==(e=m.current)||e.forceUpdate()}),[]),b=hi((0,r.useState)({placement:s,update:g,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),k=l(b,2),_=k[0],w=k[1],x=(0,r.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),w({state:t,styles:n,attributes:r,update:g,forceUpdate:y,placement:t.placement})}}}),[g,y,w]),E=(0,r.useMemo)((function(){return fi(v.current,d)||(v.current=d),v.current}),[d]);return(0,r.useEffect)((function(){m.current&&a&&m.current.setOptions({placement:s,strategy:c,modifiers:[].concat(h(E),[x,Pa])})}),[c,s,x,a,E]),(0,r.useEffect)((function(){if(a&&null!=e&&null!=t)return m.current=Ca(e,t,Object.assign({},p,{placement:s,strategy:c,modifiers:[].concat(h(E),[Da,x])})),function(){null!=m.current&&(m.current.destroy(),m.current=void 0,w((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,t]),_},La=n(391),Ma=n.n(La),ja=function(){};function qa(e){return 0===e.button}function Fa(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Ua=function(e){return e&&("current"in e?e.current:e)},Va={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var Ba=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ja,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.disabled,a=n.clickTrigger,o=void 0===a?"click":a,s=(0,r.useRef)(!1),u=(0,r.useRef)(!1),c=(0,r.useCallback)((function(t){var n=Ua(e);Ma()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!n||Fa(t)||!qa(t)||!!tr(n,t.target)||u.current,u.current=!1}),[e]),l=pt((function(t){var n=Ua(e);n&&tr(n,t.target)&&(u.current=!0)})),f=pt((function(e){s.current||t(e)}));(0,r.useEffect)((function(){if(!i&&null!=e){var t=en(Ua(e)),n=(t.defaultView||window).event,r=null;Va[o]&&(r=In(t,Va[o],l,!0));var a=In(t,o,c,!0),s=In(t,o,(function(e){e!==n?f(e):n=void 0})),u=[];return"ontouchstart"in t.documentElement&&(u=[].slice.call(t.body.children).map((function(e){return In(e,"mousemove",ja)}))),function(){null==r||r(),a(),s(),u.forEach((function(e){return e()}))}}}),[e,i,o,c,l,f])};function za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function Ha(e){var t,n,r,i,a,o=e.enabled,s=e.enableEvents,u=e.placement,c=e.flip,l=e.offset,f=e.fixed,h=e.containerPadding,d=e.arrowElement,p=e.popperConfig,v=void 0===p?{}:p,m=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(v.modifiers);return Object.assign({},v,{placement:u,enabled:o,strategy:f?"fixed":v.strategy,modifiers:za(Object.assign({},m,{eventListeners:{enabled:s,options:null==(t=m.eventListeners)?void 0:t.options},preventOverflow:Object.assign({},m.preventOverflow,{options:h?Object.assign({padding:h},null==(n=m.preventOverflow)?void 0:n.options):null==(r=m.preventOverflow)?void 0:r.options}),offset:{options:Object.assign({offset:l},null==(i=m.offset)?void 0:i.options)},arrow:Object.assign({},m.arrow,{enabled:!!d,options:Object.assign({},null==(a=m.arrow)?void 0:a.options,{element:d})}),flip:Object.assign({enabled:!!c},m.flip)}))})}var Wa=["children"];var Ka=function(){};function Ga(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.useContext)(si),n=jt(),i=l(n,2),a=i[0],o=i[1],s=(0,r.useRef)(!1),u=e.flip,c=e.offset,f=e.rootCloseEvent,h=e.fixed,d=void 0!==h&&h,p=e.placement,v=e.popperConfig,m=void 0===v?{}:v,g=e.enableEventListeners,y=void 0===g||g,b=e.usePopper,k=void 0===b?!!t:b,_=null==(null==t?void 0:t.show)?!!e.show:t.show;_&&!s.current&&(s.current=!0);var w=function(e){null==t||t.toggle(!1,e)},x=t||{},E=x.placement,I=x.setMenu,T=x.menuElement,S=x.toggleElement,C=Ra(S,T,Ha({placement:p||E||"bottom-start",enabled:k,enableEvents:null==y?_:y,offset:c,flip:u,fixed:d,arrowElement:a,popperConfig:m})),N=Object.assign({ref:I||Ka,"aria-labelledby":null==S?void 0:S.id},C.attributes.popper,{style:C.styles.popper}),A={show:_,placement:E,hasShown:s.current,toggle:null==t?void 0:t.toggle,popper:k?C:null,arrowProps:k?Object.assign({ref:o},C.attributes.arrow,{style:C.styles.arrow}):{}};return Ba(T,w,{clickTrigger:f,disabled:!_}),[N,A]}function Qa(e){var t=e.children,n=l(Ga(function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Wa)),2),r=n[0],i=n[1];return(0,Ve.jsx)(Ve.Fragment,{children:t(r,i)})}Qa.displayName="DropdownMenu",Qa.defaultProps={usePopper:!0};var Ya=Qa,$a={prefix:String(Math.round(1e10*Math.random())),current:0},Xa=r.createContext($a);var Ja=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);var Za=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},eo=function(){};function to(){var e=function(e){var t=(0,r.useContext)(Xa);return t!==$a||Ja||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,r.useMemo)((function(){return e||"react-aria".concat(t.prefix,"-").concat(++t.current)}),[e])}(),t=(0,r.useContext)(si)||{},n=t.show,i=void 0!==n&&n,a=t.toggle,o=void 0===a?eo:a,s=t.setToggle,u=t.menuElement,c=(0,r.useCallback)((function(e){o(!i,e)}),[i,o]),l={id:e,ref:s||eo,onClick:c,"aria-expanded":!!i};return u&&Za(u)&&(l["aria-haspopup"]=!0),[l,{show:i,toggle:o}]}function no(e){var t=e.children,n=l(to(),2),r=n[0],i=n[1];return(0,Ve.jsx)(Ve.Fragment,{children:t(r,i)})}no.displayName="DropdownToggle";var ro=no,io=["eventKey","disabled","onClick","active","as"];function ao(e){var t=e.key,n=e.href,i=e.active,a=e.disabled,o=e.onClick,s=(0,r.useContext)(lt),u=((0,r.useContext)(ut)||{}).activeKey,c=ct(t,n),l=null==i&&null!=t?ct(u)===c:i;return[Re({onClick:pt((function(e){a||(null==o||o(e),s&&!e.isPropagationStopped()&&s(c,e))})),"aria-disabled":a||void 0,"aria-selected":l},ht("dropdown-item"),""),{isActive:l}]}var oo=r.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,o=e.as,s=void 0===o?yt:o,u=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,io),c=l(ao({key:n,href:u.href,disabled:r,onClick:i,active:a}),1)[0];return(0,Ve.jsx)(s,Object.assign({},u,{ref:t},c))}));oo.displayName="DropdownItem";var so=oo;function uo(){var e=it(),t=(0,r.useRef)(null),n=(0,r.useCallback)((function(n){t.current=n,e()}),[e]);return[t,n]}function co(e){var t=e.defaultShow,n=e.show,i=e.onSelect,a=e.onToggle,o=e.itemSelector,s=void 0===o?"* [".concat(ht("dropdown-item"),"]"):o,u=e.focusFirstItemOnShow,c=e.placement,f=void 0===c?"bottom-start":c,h=e.children,d=sr(),p=l(Xe(n,t,a),2),v=p[0],m=p[1],g=l(uo(),2),y=g[0],b=g[1],k=y.current,_=l(uo(),2),w=_[0],x=_[1],E=w.current,I=Ft(v),T=(0,r.useRef)(null),S=(0,r.useRef)(!1),C=(0,r.useContext)(lt),N=(0,r.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;m(e,{originalEvent:t,source:n})}),[m]),A=pt((function(e,t){null==i||i(e,t),N(!1,t,"select"),t.isPropagationStopped()||null==C||C(e,t)})),P=(0,r.useMemo)((function(){return{toggle:N,placement:f,show:v,menuElement:k,toggleElement:E,setMenu:b,setToggle:x}}),[N,f,v,k,E,b,x]);k&&I&&!v&&(S.current=k.contains(k.ownerDocument.activeElement));var D=pt((function(){E&&E.focus&&E.focus()})),O=pt((function(){var e=T.current,t=u;if(null==t&&(t=!(!y.current||!Za(y.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=rt(y.current,s)[0];n&&n.focus&&n.focus()}}));(0,r.useEffect)((function(){v?O():S.current&&(S.current=!1,D())}),[v,S,D,O]),(0,r.useEffect)((function(){T.current=null}));var R=function(e,t){if(!y.current)return null;var n=rt(y.current,s),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,t,n,i){void 0===i&&(i=!1);var a=pt(n);(0,r.useEffect)((function(){var n="function"===typeof e?e():e;return n.addEventListener(t,a,i),function(){return n.removeEventListener(t,a,i)}}),[e])}((0,r.useCallback)((function(){return d.document}),[d]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=y.current)?void 0:t.contains(i),o=null==(n=w.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===i.type))&&(a||o)&&("Tab"!==r||y.current&&v)){T.current=e.type;var s={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var u=R(i,-1);return u&&u.focus&&u.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var c=R(i,1);c&&c.focus&&c.focus()}else m(!0,s);return;case"Tab":xn(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=y.current)&&t.contains(e.target)||m(!1,s)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),m(!1,s)}}})),(0,Ve.jsx)(lt.Provider,{value:A,children:(0,Ve.jsx)(si.Provider,{value:P,children:h})})}co.displayName="Dropdown",co.Menu=Ya,co.Toggle=ro,co.Item=so;var lo=co,fo=r.createContext({});fo.displayName="DropdownContext";var ho=fo,po=["bsPrefix","className","eventKey","disabled","onClick","active","as"],vo=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,o=void 0!==a&&a,s=e.onClick,u=e.active,c=e.as,f=void 0===c?Ht:c,h=qe(e,po),d=He(n,"dropdown-item"),p=l(ao({key:i,href:h.href,disabled:o,onClick:s,active:u}),2),v=p[0],m=p[1];return(0,Ve.jsx)(f,Me(Me(Me({},h),v),{},{ref:t,className:Ue()(r,d,m.isActive&&"active",o&&"disabled")}))}));vo.displayName="DropdownItem";var mo=vo,go=r.createContext(null);go.displayName="InputGroupContext";var yo=go;function bo(e,t){return e}var ko=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function _o(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}var wo=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.align,o=e.rootCloseEvent,s=e.flip,u=e.show,c=e.renderOnMount,f=e.as,h=void 0===f?"div":f,d=e.popperConfig,p=e.variant,v=qe(e,ko),m=!1,g=(0,r.useContext)(Nt),y=He(n,"dropdown-menu"),b=(0,r.useContext)(ho),k=b.align,_=b.drop,w=b.isRTL;a=a||k;var x=(0,r.useContext)(yo),E=[];if(a)if("object"===typeof a){var I=Object.keys(a);if(I.length){var T=I[0],S=a[T];m="start"===S,E.push("".concat(y,"-").concat(T,"-").concat(S))}}else"end"===a&&(m=!0);var C=_o(m,_,w),N=l(Ga({flip:s,rootCloseEvent:o,show:u,usePopper:!g&&0===E.length,offset:[0,2],popperConfig:d,placement:C}),2),A=N[0],P=N[1],D=P.hasShown,O=P.popper,R=P.show,L=P.toggle;if(A.ref=ot(bo(t),A.ref),Vt((function(){R&&(null==O||O.update())}),[R]),!D&&!c&&!x)return null;"string"!==typeof h&&(A.show=R,A.close=function(){return null==L?void 0:L(!1)},A.align=a);var M=v.style;return null!=O&&O.placement&&(M=Me(Me({},v.style),A.style),v["x-placement"]=O.placement),(0,Ve.jsx)(h,Me(Me(Me(Me({},v),A),{},{style:M},(E.length||g)&&{"data-bs-popper":"static"}),{},{className:Ue().apply(void 0,[i,y,R&&"show",m&&"".concat(y,"-end"),p&&"".concat(y,"-").concat(p)].concat(E))}))}));wo.displayName="DropdownMenu",wo.defaultProps={flip:!0};var xo=wo,Eo=["as","bsPrefix","variant","size","active","className"],Io=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,s=e.className,u=qe(e,Eo),c=He(r,"btn"),f=l(mt(Me({tagName:n},u)),2),h=f[0],d=f[1].tagName;return(0,Ve.jsx)(d,Me(Me(Me({},h),u),{},{ref:t,className:Ue()(s,c,o&&"active",i&&"".concat(c,"-").concat(i),a&&"".concat(c,"-").concat(a),u.href&&u.disabled&&"disabled")}))}));Io.displayName="Button",Io.defaultProps={variant:"primary",active:!1,disabled:!1};var To=Io,So=["bsPrefix","split","className","childBsPrefix","as"],Co=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.split,a=e.className,o=e.childBsPrefix,s=e.as,u=void 0===s?To:s,c=qe(e,So),f=He(n,"dropdown-toggle"),h=(0,r.useContext)(si),d=(0,r.useContext)(yo);void 0!==o&&(c.bsPrefix=o);var p=l(to(),1)[0];return p.ref=ot(p.ref,bo(t)),(0,Ve.jsx)(u,Me(Me({className:Ue()(a,f,i&&"".concat(f,"-split"),!!d&&(null==h?void 0:h.show)&&"show")},p),c))}));Co.displayName="DropdownToggle";var No=Co,Ao=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],Po=Lt("dropdown-header",{defaultProps:{role:"heading"}}),Do=Lt("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),Oo=Lt("dropdown-item-text",{Component:"span"}),Ro=r.forwardRef((function(e,t){var n=Je(e,{show:"onToggle"}),i=n.bsPrefix,a=n.drop,o=n.show,s=n.className,u=n.align,c=n.onSelect,l=n.onToggle,f=n.focusFirstItemOnShow,h=n.as,d=void 0===h?"div":h,p=(n.navbar,n.autoClose),v=qe(n,Ao),m=(0,r.useContext)(yo),g=He(i,"dropdown"),y="rtl"===(0,r.useContext)(ze).dir,b=pt((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===p?"click"===n:"inside"===p?"rootClose"!==n:"outside"!==p||"select"!==n)&&(null==l||l(e,t))})),k=_o("end"===u,a,y),_=(0,r.useMemo)((function(){return{align:u,drop:a,isRTL:y}}),[u,a,y]);return(0,Ve.jsx)(ho.Provider,{value:_,children:(0,Ve.jsx)(lo,{placement:k,show:o,onSelect:c,onToggle:b,focusFirstItemOnShow:f,itemSelector:".".concat(g,"-item:not(.disabled):not(:disabled)"),children:m?v.children:(0,Ve.jsx)(d,Me(Me({},v),{},{ref:t,className:Ue()(s,o&&"show",(!a||"down"===a)&&g,"up"===a&&"dropup","end"===a&&"dropend","start"===a&&"dropstart")}))})})}));Ro.displayName="Dropdown",Ro.defaultProps={navbar:!1,align:"start",autoClose:!0};var Lo=Object.assign(Ro,{Toggle:No,Menu:xo,Item:mo,ItemText:Oo,Divider:Do,Header:Po}),Mo=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],jo=r.forwardRef((function(e,t){var n=e.id,r=e.title,i=e.children,a=e.bsPrefix,o=e.className,s=e.rootCloseEvent,u=e.menuRole,c=e.disabled,l=e.active,f=e.renderMenuOnMount,h=e.menuVariant,d=qe(e,Mo),p=He(void 0,"nav-item");return(0,Ve.jsxs)(Lo,Me(Me({ref:t},d),{},{className:Ue()(o,p),children:[(0,Ve.jsx)(Lo.Toggle,{id:n,eventKey:null,active:l,disabled:c,childBsPrefix:a,as:Gt,children:r}),(0,Ve.jsx)(Lo.Menu,{role:u,renderOnMount:f,rootCloseEvent:s,variant:h,children:i})]}))}));jo.displayName="NavDropdown";var qo=Object.assign(jo,{Item:Lo.Item,ItemText:Lo.ItemText,Divider:Lo.Divider,Header:Lo.Header}),Fo=function(){return(0,Ve.jsx)(oi,{expand:"lg",className:"bg-trasnparent navbar-dark",style:{position:"relative",zIndex:10},children:(0,Ve.jsxs)(Ge,{children:[(0,Ve.jsx)(oi.Brand,{href:"/",children:(0,Ve.jsx)("img",{src:"/imgs/Servin-Logo-White.png",height:"70"})}),(0,Ve.jsx)(oi.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,Ve.jsx)(oi.Collapse,{id:"basic-navbar-nav",children:(0,Ve.jsxs)($t,{className:"me-auto",children:[(0,Ve.jsx)($t.Link,{href:"/",className:"fw-bold",children:"Inicio"}),(0,Ve.jsx)($t.Link,{href:"/Acerca_De",className:"fw-bold",children:"Empresa"}),(0,Ve.jsxs)(qo,{title:"Servicios",id:"basic-nav-dropdown",className:"fw-bold",children:[(0,Ve.jsx)(qo.Item,{href:"#action/3.1",children:"Servicios 1"}),(0,Ve.jsx)(qo.Item,{href:"#action/3.2",children:"Servicios 2"}),(0,Ve.jsx)(qo.Item,{href:"#action/3.3",children:"Servicios 3"}),(0,Ve.jsx)(qo.Divider,{}),(0,Ve.jsx)(qo.Item,{href:"/Servicios",children:"Todos los Servicios"})]}),(0,Ve.jsx)($t.Link,{href:"/Proyectos",className:"fw-bold",children:"Proyectos"}),(0,Ve.jsx)($t.Link,{href:"/Contacto",className:"fw-bold",children:"Contacto"})]})})]})})},Uo=function(){return(0,Ve.jsxs)("div",{className:"header__container",children:[(0,Ve.jsx)("img",{src:"https://images.unsplash.com/photo-1501523460185-2aa5d2a0f981?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1531&q=80",alt:"",className:"header__img"}),(0,Ve.jsxs)("div",{className:"header__info",children:[(0,Ve.jsx)("img",{src:"/imgs/Servin-Logo1-White.png",alt:"",className:"header__logo mx-auto"}),(0,Ve.jsx)("h1",{className:"header__title display-5 text-center fw-bold text-light text-shadow",children:"Servicios Industriales"}),(0,Ve.jsx)("hr",{className:"header__divisor mx-auto border-light border border-1"}),(0,Ve.jsx)("h2",{className:"header__subtitle display-2 text-center fw-bold text-light text-shadow",children:"Aqui deberia ir algo similar a un slogan"}),(0,Ve.jsx)("div",{className:"header__btn-container",children:(0,Ve.jsx)("a",{href:"/Acerca_De",children:(0,Ve.jsx)("button",{className:"header__btn",children:"Ver Mas"})})})]})]})},Vo=function(e){return(0,Ve.jsxs)("div",{className:"home-main-card__container",children:[(0,Ve.jsx)("div",{className:"home-main-card__background",children:(0,Ve.jsxs)("div",{className:"home-main-card__info bg-"+e.color+" opacity-75",children:[(0,Ve.jsx)("h3",{className:"home-main-card__title text-center text-light",children:"This is a title that should be two lines"}),(0,Ve.jsx)("hr",{className:"home-main-card__divisor"}),(0,Ve.jsx)("p",{className:"home-main-card__content text-light",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum voluptatem quasi at delectus adipisci repudiandae accusamus soluta distinctio eaque earum, optio ducimus iure rem quos, nulla dolorem blanditiis voluptates sunt."}),(0,Ve.jsx)("button",{className:"btn btn-outline-light rounded-pill",children:"Ver Mas"})]})}),(0,Ve.jsx)("a",{href:"",children:(0,Ve.jsx)("img",{src:"https://images.unsplash.com/photo-1589939705384-5185137a7f0f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",alt:"",className:"home-main-card__img"})})]})},Bo=function(){return(0,Ve.jsxs)("div",{className:"home-about-us__container",children:[(0,Ve.jsx)("img",{src:"https://images.unsplash.com/photo-1508873535684-277a3cbcc4e8?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",alt:"",className:"home-about-us__img"}),(0,Ve.jsx)("div",{className:"home-about-us__info-container",children:(0,Ve.jsxs)("div",{className:"home-about-us__info",children:[(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"Contactanos"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsx)("p",{className:"home-about-us__content opacity-75",children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repellendus similique dignissimos nam, qui, corporis ipsam provident pariatur quasi atque consequatur obcaecati voluptate delectus vel a quibusdam doloremque sapiente! Architecto, est! Lorem ipsum, dolor sit amet consectetur adipisicing elit. Exercitationem, autem odit commodi aperiam eos at debitis accusantium consequatur aliquam ut quis vero iusto. Dolor sequi qui ipsa, necessitatibus saepe ad!"}),(0,Ve.jsx)("a",{href:"/Contacto",children:(0,Ve.jsx)("button",{className:"btn btn-outline-primary rounded-pill",children:"Ver Mas"})})]})})]})},zo=function(){return(0,Ve.jsxs)("div",{className:"footer__container",children:[(0,Ve.jsx)("img",{src:"https://images.unsplash.com/photo-1516937941344-00b4e0337589?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",className:"footer__background"}),(0,Ve.jsx)("div",{className:"footer__darken"}),(0,Ve.jsxs)("div",{className:"footer__content d-flex flex-column",children:[(0,Ve.jsxs)("div",{className:"footer__main-content d-flex justify-content-around flex-wrap",children:[(0,Ve.jsx)("img",{src:"/imgs/Servin-Logo-White.png",alt:"",className:"footer__logo"}),(0,Ve.jsxs)("div",{className:"footer__link-group d-flex",children:[(0,Ve.jsx)("div",{className:"footer__link-deco bg-secondary d-flex"}),(0,Ve.jsxs)("div",{className:"footer__links d-flex flex-column",children:[(0,Ve.jsx)("a",{href:"/",children:"INICIO"}),(0,Ve.jsx)("a",{href:"/Acerca_De",children:"EMPRESA"}),(0,Ve.jsx)("a",{href:"/Servicios",children:"SERVICIOS"}),(0,Ve.jsx)("a",{href:"/Proyectos",children:"PROYECTOS"})]})]}),(0,Ve.jsxs)("div",{className:"footer__link-group d-flex ",children:[(0,Ve.jsx)("div",{className:"footer__link-deco bg-secondary"}),(0,Ve.jsx)("div",{className:"footer__links d-flex flex-column",children:(0,Ve.jsx)("a",{href:"/Contacto",children:"CONTACTO"})})]}),(0,Ve.jsx)("div",{className:"footer__link-group2 d-flex ",children:(0,Ve.jsxs)("div",{className:"footer__links d-flex flex-column",children:[(0,Ve.jsxs)("p",{className:"text-light",children:[(0,Ve.jsx)("i",{className:" text-secondary fa-sharp fa-solid fa-location-dot"}),"Here goes the address"]}),(0,Ve.jsxs)("p",{className:"text-light",children:[(0,Ve.jsx)("i",{className:" text-secondary fa-solid fa-phone"}),"Here goes the phone number"]}),(0,Ve.jsxs)("p",{className:"text-light",children:[(0,Ve.jsx)("i",{className:" text-secondary fa-sharp fa-solid fa-envelope"}),"Here goes the email"]}),(0,Ve.jsx)("p",{className:"text-light"})]})})]}),(0,Ve.jsx)("hr",{className:"footer__division"}),(0,Ve.jsxs)("div",{className:"footer__social d-flex flex-wrap",children:[(0,Ve.jsx)("p",{className:"text-secondary",children:"SERVIN - Servicios Industriales S de R L"}),(0,Ve.jsxs)("div",{className:"footer__social-icons justify-content-end d-flex ",children:[(0,Ve.jsx)("a",{href:"",children:(0,Ve.jsx)("i",{className:"fa-regular fa-envelope text-light"})}),(0,Ve.jsx)("a",{href:"",children:(0,Ve.jsx)("i",{className:"fa-brands fa-linkedin-in text-light"})}),(0,Ve.jsx)("a",{href:"",children:(0,Ve.jsx)("i",{className:"fa-brands fa-whatsapp text-light"})})]})]})]})]})},Ho=function(){return(0,Ve.jsxs)("div",{className:"home-partners__containers",children:[(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"Empresas Asociadas"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsxs)("div",{className:"home-partners__logo-container d-flex flex-wrap justify-content-around",children:[(0,Ve.jsx)("img",{src:"https://seeklogo.com/images/M/modern-company-logo-96A0E1E45E-seeklogo.com.png",alt:"",className:"home-partners__logo"}),(0,Ve.jsx)("img",{src:"https://seeklogo.com/images/W/w-letter-company-logo-3102E4E551-seeklogo.com.png",alt:"",className:"home-partners__logo"}),(0,Ve.jsx)("img",{src:"https://99designs-blog.imgix.net/blog/wp-content/uploads/2020/04/John_Deere_logo.svg-700x468.png?auto=format&q=60&fit=max&w=930",alt:"",className:"home-partners__logo"})]})]})};function Wo(){Wo=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new T(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(_.prototype),u(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ko(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch($L){return void n($L)}s.done?t(u):Promise.resolve(u).then(r,i)}function Go(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ko(a,r,i,o,s,"next",e)}function s(e){Ko(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Qo=!1,Yo=!1,$o="${JSCORE_VERSION}",Xo=function(e,t){if(!e)throw Jo(t)},Jo=function(e){return new Error("Firebase Database ("+$o+") INTERNAL ASSERT FAILED: "+e)},Zo=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},es={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Zo(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ts=function(e){var t=Zo(e);return es.encodeByteArray(t,!0)},ns=function(e){return ts(e).replace(/\./g,"")},rs=function(e){try{return es.decodeString(e,!0)}catch(Zz){console.error("base64Decode failed: ",Zz)}return null};function is(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=is(e[n],t[n]));return e}function as(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function os(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(as())}function ss(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Zz){return!1}}function us(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function cs(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ls(){var e=as();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function fs(){return!0===Qo||!0===Yo}function hs(){try{return"object"===typeof indexedDB}catch(Zz){return!1}}var ds=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ps=function(){try{return ds()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Zz){return}var t=e&&rs(e[1]);return t&&JSON.parse(t)}}()}catch(Zz){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Zz))}},vs=function(e){var t=function(e){var t,n;return null===(n=null===(t=ps())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},ms=function(){var e;return null===(e=ps())||void 0===e?void 0:e.config},gs=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ys(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ns(JSON.stringify({alg:"none",type:"JWT"})),ns(JSON.stringify(a)),""].join(".")}var bs=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),ks.prototype.create),a}return g(n)}(T(Error)),ks=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?_s(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new bs(n,a,t);return o}}]),e}();function _s(e,t){return e.replace(ws,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ws=/\{\$([^}]+)}/g;function xs(e){return JSON.parse(e)}function Es(e){return JSON.stringify(e)}var Is=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=xs(rs(a[0])||""),n=xs(rs(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(Zz){}return{header:t,claims:n,data:r,signature:i}};function Ts(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ss(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Cs(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ns(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function As(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Ps(s)&&Ps(u)){if(!As(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ps(e){return null!==e&&"object"===typeof e}function Ds(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Os(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Rs(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ls=function(){function e(){d(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return g(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Ms(e,t){var n=new js(e,t);return n.subscribe.bind(n)}var js=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ui(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=qs),void 0===r.error&&(r.error=qs),void 0===r.complete&&(r.complete=qs);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Zz){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(Zz){"undefined"!==typeof console&&console.error&&console.error(Zz)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function qs(){}function Fs(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Us=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},Vs=144e5;function Bs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(Vs,r+i)}function zs(e){return e&&e._delegate?e._delegate:e}var Hs=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ws="[DEFAULT]",Ks=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new gs;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Zz){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Zz){if(r)return null;throw Zz}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch(Zz){}var t,n=ui(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(Zz){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ui(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ui(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(WA){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ws?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(WA){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws;return this.component?this.component.multipleInstances?e:Ws:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Gs,Qs,Ys=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ks(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),$s=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Qs||(Qs={}));var Xs={debug:Qs.DEBUG,verbose:Qs.VERBOSE,info:Qs.INFO,warn:Qs.WARN,error:Qs.ERROR,silent:Qs.SILENT},Js=Qs.INFO,Zs=(Re(Gs={},Qs.DEBUG,"log"),Re(Gs,Qs.VERBOSE,"log"),Re(Gs,Qs.INFO,"info"),Re(Gs,Qs.WARN,"warn"),Re(Gs,Qs.ERROR,"error"),Gs),eu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Zs[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},tu=function(){function e(t){d(this,e),this.name=t,this._logLevel=Js,this._logHandler=eu,this._userLogHandler=null,$s.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Qs))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Xs[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qs.DEBUG].concat(t)),this._logHandler.apply(this,[this,Qs.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qs.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Qs.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qs.INFO].concat(t)),this._logHandler.apply(this,[this,Qs.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qs.WARN].concat(t)),this._logHandler.apply(this,[this,Qs.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qs.ERROR].concat(t)),this._logHandler.apply(this,[this,Qs.ERROR].concat(t))}}]),e}();var nu,ru;var iu=new WeakMap,au=new WeakMap,ou=new WeakMap,su=new WeakMap,uu=new WeakMap;var cu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return au.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ou.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function lu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ru||(ru=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(du(this),n),hu(iu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hu(e.apply(du(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[du(this),t].concat(r));return ou.set(a,t.sort?t.sort():[t]),hu(a)}}function fu(e){return"function"===typeof e?lu(e):(e instanceof IDBTransaction&&function(e){if(!au.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));au.set(e,t)}}(e),t=e,(nu||(nu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,cu):e);var t}function hu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(hu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&iu.set(t,e)})).catch((function(){})),uu.set(t,e),t}(e);if(su.has(e))return su.get(e);var t=fu(e);return t!==e&&(su.set(e,t),uu.set(t,e)),t}var du=function(e){return uu.get(e)};var pu,vu,mu=["get","getKey","getAll","getAllKeys","count"],gu=["put","add","delete","clear"],yu=new Map;function bu(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(yu.get(t))return yu.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=gu.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||mu.includes(n))){var a=function(){var e=Go(Wo().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return yu.set(t,a),a}}}cu=function(e){return Me(Me({},e),{},{get:function(t,n,r){return bu(t,n)||e.get(t,n,r)},has:function(t,n){return!!bu(t,n)||e.has(t,n)}})}(cu);var ku=function(){function e(t){d(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var _u="@firebase/app",wu="0.9.0",xu=new tu("@firebase/app"),Eu="[DEFAULT]",Iu=(Re(pu={},_u,"fire-core"),Re(pu,"@firebase/app-compat","fire-core-compat"),Re(pu,"@firebase/analytics","fire-analytics"),Re(pu,"@firebase/analytics-compat","fire-analytics-compat"),Re(pu,"@firebase/app-check","fire-app-check"),Re(pu,"@firebase/app-check-compat","fire-app-check-compat"),Re(pu,"@firebase/auth","fire-auth"),Re(pu,"@firebase/auth-compat","fire-auth-compat"),Re(pu,"@firebase/database","fire-rtdb"),Re(pu,"@firebase/database-compat","fire-rtdb-compat"),Re(pu,"@firebase/functions","fire-fn"),Re(pu,"@firebase/functions-compat","fire-fn-compat"),Re(pu,"@firebase/installations","fire-iid"),Re(pu,"@firebase/installations-compat","fire-iid-compat"),Re(pu,"@firebase/messaging","fire-fcm"),Re(pu,"@firebase/messaging-compat","fire-fcm-compat"),Re(pu,"@firebase/performance","fire-perf"),Re(pu,"@firebase/performance-compat","fire-perf-compat"),Re(pu,"@firebase/remote-config","fire-rc"),Re(pu,"@firebase/remote-config-compat","fire-rc-compat"),Re(pu,"@firebase/storage","fire-gcs"),Re(pu,"@firebase/storage-compat","fire-gcs-compat"),Re(pu,"@firebase/firestore","fire-fst"),Re(pu,"@firebase/firestore-compat","fire-fst-compat"),Re(pu,"fire-js","fire-js"),Re(pu,"firebase","fire-js-all"),pu),Tu=new Map,Su=new Map;function Cu(e,t){try{e.container.addComponent(t)}catch(Zz){xu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Zz)}}function Nu(e,t){e.container.addOrOverwriteComponent(t)}function Au(e){var t=e.name;if(Su.has(t))return xu.debug("There were multiple attempts to register component ".concat(t,".")),!1;Su.set(t,e);var n,r=ui(Tu.values());try{for(r.s();!(n=r.n()).done;){Cu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Pu(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Du(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Eu;Pu(e,t).clearInstance(n)}function Ou(){Su.clear()}var Ru=(Re(vu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Re(vu,"bad-app-name","Illegal App name: '{$appName}"),Re(vu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Re(vu,"app-deleted","Firebase App named '{$appName}' already deleted"),Re(vu,"no-options","Need to provide options, when not being deployed to hosting via source."),Re(vu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Re(vu,"invalid-log-argument","First argument to `onLog` must be null or a function."),Re(vu,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Re(vu,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Re(vu,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Re(vu,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),vu),Lu=new ks("app","Firebase",Ru),Mu=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Lu.create("app-deleted",{appName:this._name})}}]),e}(),ju="9.15.0";function qu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Eu,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Lu.create("bad-app-name",{appName:String(a)});if(n||(n=ms()),!n)throw Lu.create("no-options");var o=Tu.get(a);if(o){if(As(n,o.options)&&As(i,o.config))return o;throw Lu.create("duplicate-app",{appName:a})}var s,u=new Ys(a),c=ui(Su.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Mu(n,i,u);return Tu.set(a,f),f}function Fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eu,t=Tu.get(e);if(!t&&e===Eu)return qu();if(!t)throw Lu.create("no-app",{appName:e});return t}function Uu(){return Array.from(Tu.values())}function Vu(e){return Bu.apply(this,arguments)}function Bu(){return(Bu=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Tu.has(n)){e.next=6;break}return Tu.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(e,t,n){var r,i=null!==(r=Iu[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xu.warn(s.join(" "))}Au(new Hs("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Hu(e,t){if(null!==e&&"function"!==typeof e)throw Lu.create("invalid-log-argument");!function(e,t){var n,r=ui($s);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Xs[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Qs[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Wu(e){var t;t=e,$s.forEach((function(e){e.setLogLevel(t)}))}var Ku="firebase-heartbeat-store",Gu=null;function Qu(){return Gu||(Gu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=hu(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(hu(s.result),e.oldVersion,e.newVersion,hu(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ku)}}).catch((function(e){throw Lu.create("idb-open",{originalErrorMessage:e.message})}))),Gu}function Yu(e){return $u.apply(this,arguments)}function $u(){return $u=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qu();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ku).objectStore(Ku).get(Zu(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof bs?xu.warn(e.t0.message):(r=Lu.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),xu.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),$u.apply(this,arguments)}function Xu(e,t){return Ju.apply(this,arguments)}function Ju(){return Ju=Go(Wo().mark((function e(t,n){var r,i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qu();case 3:return r=e.sent,i=r.transaction(Ku,"readwrite"),a=i.objectStore(Ku),e.next=8,a.put(n,Zu(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof bs?xu.warn(e.t0.message):(o=Lu.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),xu.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ju.apply(this,arguments)}function Zu(e){return"".concat(e.name,"!").concat(e.options.appId)}var ec=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ac(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=Go(Wo().mark((function e(){var t,n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=tc(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Go(Wo().mark((function e(){var t,n,r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=tc(),n=nc(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ns(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function tc(){return(new Date).toISOString().substring(0,10)}function nc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ui(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),oc(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),oc(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var rc,ic,ac=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hs()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch($L){t($L)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Yu(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function oc(e){return ns(JSON.stringify({version:2,heartbeats:e})).length}rc="",Au(new Hs("platform-logger",(function(e){return new ku(e)}),"PRIVATE")),Au(new Hs("heartbeat",(function(e){return new ec(e)}),"PRIVATE")),zu(_u,wu,rc),zu(_u,wu,"esm2017"),zu("fire-js","");var sc=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,Cu(t,new Hs("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Vu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eu;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eu;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Cu(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Nu(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),uc=(Re(ic={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Re(ic,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ic),cc=new ks("app-compat","Firebase",uc);var lc=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=qu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ts(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:zu,setLogLevel:Wu,onLog:Hu,apps:null,SDK_VERSION:ju,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Au(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw cc.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&is(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ts(n,e=e||Eu))throw cc.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(sc);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){is(n,e)},createSubscribe:Ms,ErrorFactory:ks,deepExtend:is}),n}(),fc=new tu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){fc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var hc=self.firebase.SDK_VERSION;hc&&hc.indexOf("LITE")>=0&&fc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var dc=lc;!function(e){zu("@firebase/app-compat","0.2.0",e)}();dc.registerVersion("firebase","9.15.0","app-compat");var pc={apiKey:"AIzaSyAU_AQXbY_YKZxhfDnZm7ZdGfuU3FFSPcI",authDomain:"servin-servicios-industriales.firebaseapp.com",projectId:"servin-servicios-industriales",storageBucket:"servin-servicios-industriales.appspot.com",messagingSenderId:"499128081066",appId:"1:499128081066:web:ff33025144f94ccca10ed3",measurementId:"G-T8YCED33FZ"};function vc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var mc;Object.create;var gc="facebook.com",yc="github.com",bc="google.com",kc="password",_c="twitter.com",wc="EMAIL_SIGNIN",xc="PASSWORD_RESET",Ec="RECOVER_EMAIL",Ic="REVERT_SECOND_FACTOR_ADDITION",Tc="VERIFY_AND_CHANGE_EMAIL",Sc="VERIFY_EMAIL";function Cc(){return Re({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Nc=function(){var e;return Re(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Re(e,"argument-error",""),Re(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Re(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Re(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Re(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Re(e,"cordova-not-ready","Cordova framework is not ready."),Re(e,"cors-unsupported","This browser is not supported."),Re(e,"credential-already-in-use","This credential is already associated with a different user account."),Re(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Re(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Re(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Re(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Re(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Re(e,"email-already-in-use","The email address is already in use by another account."),Re(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Re(e,"expired-action-code","The action code has expired."),Re(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Re(e,"internal-error","An internal AuthError has occurred."),Re(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Re(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Re(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Re(e,"invalid-auth-event","An internal AuthError has occurred."),Re(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Re(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Re(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Re(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Re(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Re(e,"invalid-email","The email address is badly formatted."),Re(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Re(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Re(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Re(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Re(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Re(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Re(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Re(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Re(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Re(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Re(e,"wrong-password","The password is invalid or the user does not have a password."),Re(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Re(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Re(e,"invalid-provider-id","The specified provider ID is invalid."),Re(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Re(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Re(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Re(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Re(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Re(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Re(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Re(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Re(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Re(e,"missing-continue-uri","A continue URL must be provided in the request."),Re(e,"missing-iframe-start","An internal AuthError has occurred."),Re(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Re(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Re(e,"missing-multi-factor-info","No second factor identifier is provided."),Re(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Re(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Re(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Re(e,"app-deleted","This instance of FirebaseApp has been deleted."),Re(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Re(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Re(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Re(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Re(e,"no-auth-event","An internal AuthError has occurred."),Re(e,"no-such-provider","User was not linked to an account with the given provider."),Re(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Re(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Re(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Re(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Re(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Re(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Re(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Re(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Re(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Re(e,"rejected-credential","The request contains malformed or mismatching credentials."),Re(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Re(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Re(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Re(e,"timeout","The operation has timed out."),Re(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Re(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Re(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Re(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Re(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Re(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Re(e,"unverified-email","The operation requires a verified email."),Re(e,"user-cancelled","The user did not grant your application the permissions it requested."),Re(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Re(e,"user-disabled","The user account has been disabled by an administrator."),Re(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Re(e,"user-signed-out",""),Re(e,"weak-password","The password must be 6 characters long or more."),Re(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Re(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Ac=Cc,Pc=new ks("auth","Firebase",Cc()),Dc=new tu("@firebase/auth");function Oc(e){if(Dc.logLevel<=Qs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dc.error.apply(Dc,["Auth (".concat(ju,"): ").concat(e)].concat(n))}}function Rc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw qc.apply(void 0,[e].concat(n))}function Lc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qc.apply(void 0,[e].concat(n))}function Mc(e,t,n){var r=Object.assign(Object.assign({},Ac()),Re({},t,n));return new ks("auth","Firebase",r).create(t,{appName:e.name})}function jc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Rc(e,"argument-error"),Mc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function qc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return Pc.create.apply(Pc,[e].concat(n))}function Fc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw qc.apply(void 0,[t].concat(r))}}function Uc(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Oc(t),new Error(t)}function Vc(e,t){e||Uc(t)}var Bc=new Map;function zc(e){Vc(e instanceof Function,"Expected a class definition");var t=Bc.get(e);return t?(Vc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Bc.set(e,t),t)}function Hc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Wc(){return"http:"===Kc()||"https:"===Kc()}function Kc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Gc=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,Vc(n>t,"Short delay should be less than long delay!"),this.isMobile=os()||cs()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Wc()||us()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Qc(e,t){Vc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Yc=function(){function e(){d(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Uc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Uc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Uc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),$c=(Re(mc={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Re(mc,"MISSING_CUSTOM_TOKEN","internal-error"),Re(mc,"INVALID_IDENTIFIER","invalid-email"),Re(mc,"MISSING_CONTINUE_URI","internal-error"),Re(mc,"INVALID_PASSWORD","wrong-password"),Re(mc,"MISSING_PASSWORD","internal-error"),Re(mc,"EMAIL_EXISTS","email-already-in-use"),Re(mc,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Re(mc,"INVALID_IDP_RESPONSE","invalid-credential"),Re(mc,"INVALID_PENDING_TOKEN","invalid-credential"),Re(mc,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Re(mc,"MISSING_REQ_TYPE","internal-error"),Re(mc,"EMAIL_NOT_FOUND","user-not-found"),Re(mc,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Re(mc,"EXPIRED_OOB_CODE","expired-action-code"),Re(mc,"INVALID_OOB_CODE","invalid-action-code"),Re(mc,"MISSING_OOB_CODE","internal-error"),Re(mc,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Re(mc,"INVALID_ID_TOKEN","invalid-user-token"),Re(mc,"TOKEN_EXPIRED","user-token-expired"),Re(mc,"USER_NOT_FOUND","user-token-expired"),Re(mc,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Re(mc,"INVALID_CODE","invalid-verification-code"),Re(mc,"INVALID_SESSION_INFO","invalid-verification-id"),Re(mc,"INVALID_TEMPORARY_PROOF","invalid-credential"),Re(mc,"MISSING_SESSION_INFO","missing-verification-id"),Re(mc,"SESSION_EXPIRED","code-expired"),Re(mc,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Re(mc,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Re(mc,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Re(mc,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Re(mc,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Re(mc,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Re(mc,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Re(mc,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Re(mc,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Re(mc,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Re(mc,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),mc),Xc=new Gc(3e4,6e4);function Jc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Zc(e,t,n,r){return el.apply(this,arguments)}function el(){return el=Go(Wo().mark((function e(t,n,r,i){var a,o=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",tl(t,a,Go(Wo().mark((function e(){var a,o,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ds(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Yc.fetch()(al(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}function tl(e,t,n){return nl.apply(this,arguments)}function nl(){return nl=Go(Wo().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d,p;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},$c),n),e.prev=2,a=new ol(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw sl(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw sl(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw sl(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw sl(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Mc(t,p,d);case 34:Rc(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof bs)){e.next=41;break}throw e.t0;case 41:Rc(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),nl.apply(this,arguments)}function rl(e,t,n,r){return il.apply(this,arguments)}function il(){return il=Go(Wo().mark((function e(t,n,r,i){var a,o,s=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Zc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Rc(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),il.apply(this,arguments)}function al(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Qc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ol=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Lc(n.auth,"network-request-failed"))}),Xc.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function sl(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Lc(e,t,r);return i.customData._tokenResponse=n,i}function ul(e,t){return cl.apply(this,arguments)}function cl(){return(cl=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ll(e,t){return fl.apply(this,arguments)}function fl(){return(fl=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hl(e,t){return dl.apply(this,arguments)}function dl(){return(dl=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pl(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Zz){}}function vl(){return vl=Go(Wo().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=zs(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Fc((a=gl(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:pl(ml(a.auth_time)),issuedAtTime:pl(ml(a.iat)),expirationTime:pl(ml(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}function ml(e){return 1e3*Number(e)}function gl(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{var a=rs(r);return a?JSON.parse(a):(Oc("Failed to decode base64 JWT payload"),null)}catch(Zz){return Oc("Caught error parsing JWT payload as JSON",null===Zz||void 0===Zz?void 0:Zz.toString()),null}}function yl(e,t){return bl.apply(this,arguments)}function bl(){return bl=Go(Wo().mark((function e(t,n){var r=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof bs&&kl(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),bl.apply(this,arguments)}function kl(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var _l=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Go(Wo().mark((function t(){return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),wl=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function xl(e){return El.apply(this,arguments)}function El(){return El=Go(Wo().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,yl(t,hl(r,{idToken:i}));case 6:Fc(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Sl(o.providerUserInfo):[],u=Tl(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new wl(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),El.apply(this,arguments)}function Il(){return(Il=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zs(t),e.next=3,xl(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tl(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function Sl(e){return e.map((function(e){var t=e.providerId,n=vc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Cl(e,t){return Nl.apply(this,arguments)}function Nl(){return(Nl=Go(Wo().mark((function e(t,n){var r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tl(t,{},Go(Wo().mark((function e(){var r,i,a,o,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ds({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=al(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Yc.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Al=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Fc(e.idToken,"internal-error"),Fc("undefined"!==typeof e.idToken,"internal-error"),Fc("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=gl(e);return Fc(t,"internal-error"),Fc("undefined"!==typeof t.exp,"internal-error"),Fc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Go(Wo().mark((function e(t){var n,r=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Fc(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Go(Wo().mark((function e(t,n){var r,i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cl(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Uc("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Fc("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Fc("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Fc("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Pl(e,t){Fc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Dl=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=vc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _l(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new wl(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yl(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Fc(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return vl.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Il.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Fc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Fc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Go(Wo().mark((function e(t){var n,r,i=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,xl(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,yl(this,ul(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,_=n.isAnonymous,w=n.providerData,x=n.stsTokenManager;Fc(b&&x,t,"internal-error");var E=Al.fromJSON(this.name,x);Fc("string"===typeof b,t,"internal-error"),Pl(f,t.name),Pl(h,t.name),Fc("boolean"===typeof k,t,"internal-error"),Fc("boolean"===typeof _,t,"internal-error"),Pl(d,t.name),Pl(p,t.name),Pl(v,t.name),Pl(m,t.name),Pl(g,t.name),Pl(y,t.name);var I=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:_,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(I.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Go(Wo().mark((function t(n,r){var i,a,o,s=arguments;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Al).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,xl(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ol=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ol.type="NONE";var Rl=Ol;function Ll(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ml=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ll(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ll("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Dl._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Go(Wo().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(zc(Rl),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||zc(Rl),s=Ll(i,n.config.apiKey,n.name),u=null,c=ui(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Dl._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function jl(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ql(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zl(t))return"Blackberry";if(Hl(t))return"Webos";if(Fl(t))return"Safari";if((t.includes("chrome/")||Ul(t))&&!t.includes("edge/"))return"Chrome";if(Bl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ql(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as();return/firefox\//i.test(e)}function Fl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ul(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as();return/crios\//i.test(e)}function Vl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as();return/iemobile/i.test(e)}function Bl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as();return/android/i.test(e)}function zl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as();return/blackberry/i.test(e)}function Hl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as();return/webos/i.test(e)}function Wl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Kl(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as();return Wl(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Gl(){return ls()&&10===document.documentMode}function Ql(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as();return Wl(e)||Bl(e)||Hl(e)||zl(e)||/windows phone/i.test(e)||Vl(e)}function Yl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=jl(as());break;case"Worker":t="".concat(jl(as()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ju,"/").concat(r)}var $l=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(Zz){r(Zz)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Go(Wo().mark((function e(t){var n,r,i,a,o,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=ui(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=ui(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Xl=function(){function e(t,n,r){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zl(this),this.idTokenSubscription=new Zl(this),this.beforeStateQueue=new $l(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pc,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=zc(t)),this._initializationPromise=this.queue(Go(Wo().mark((function r(){var i,a;return Wo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ml.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Go(Wo().mark((function e(t){var n,r,i,a,o,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Fc(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xl(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?zs(t):null)&&Fc(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Go(Wo().mark((function e(t){var n,r=this,i=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Fc(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Go(Wo().mark((function n(){return Wo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(zc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ks("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Go(Wo().mark((function e(t,n){var r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Fc(n=t&&zc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ml.create(this,[zc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Go(Wo().mark((function e(t){var n=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Fc(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Fc(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yl(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Go(Wo().mark((function e(){var t,n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Re({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Jl(e){return zs(e)}var Zl=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=Ms((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return Fc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ef(e,t,n){var r=Jl(e);Fc(r._canInitEmulator,r,"emulator-config-failed"),Fc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=tf(t),o=function(e){var t=tf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:nf(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:nf(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function tf(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function nf(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var rf=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return Uc("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Uc("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Uc("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Uc("not implemented")}}]),e}();function af(e,t){return of.apply(this,arguments)}function of(){return(of=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zc(t,"POST","/v1/accounts:resetPassword",Jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sf(e,t){return uf.apply(this,arguments)}function uf(){return(uf=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cf(e,t){return lf.apply(this,arguments)}function lf(){return(lf=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zc(t,"POST","/v1/accounts:update",Jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ff(e,t){return hf.apply(this,arguments)}function hf(){return(hf=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rl(t,"POST","/v1/accounts:signInWithPassword",Jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function df(e,t){return pf.apply(this,arguments)}function pf(){return(pf=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zc(t,"POST","/v1/accounts:sendOobCode",Jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vf(e,t){return mf.apply(this,arguments)}function mf(){return(mf=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",df(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gf(e,t){return yf.apply(this,arguments)}function yf(){return(yf=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",df(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bf(e,t){return kf.apply(this,arguments)}function kf(){return(kf=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",df(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _f(e,t){return wf.apply(this,arguments)}function wf(){return(wf=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",df(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xf(e,t){return Ef.apply(this,arguments)}function Ef(){return(Ef=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rl(t,"POST","/v1/accounts:signInWithEmailLink",Jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function If(e,t){return Tf.apply(this,arguments)}function Tf(){return(Tf=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rl(t,"POST","/v1/accounts:signInWithEmailLink",Jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sf=function(e){b(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ff(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",xf(t,{email:this._email,oobCode:this._password}));case 5:Rc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",sf(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",If(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Rc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(rf);function Cf(e,t){return Nf.apply(this,arguments)}function Nf(){return(Nf=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rl(t,"POST","/v1/accounts:signInWithIdp",Jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Af=function(e){b(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Cf(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Cf(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Cf(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ds(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rc("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=vc(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(rf);function Pf(e,t){return Df.apply(this,arguments)}function Df(){return(Df=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zc(t,"POST","/v1/accounts:sendVerificationCode",Jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Of(){return(Of=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rl(t,"POST","/v1/accounts:signInWithPhoneNumber",Jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rf(){return(Rf=Go(Wo().mark((function e(t,n){var r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rl(t,"POST","/v1/accounts:signInWithPhoneNumber",Jc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw sl(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lf=Re({},"USER_NOT_FOUND","user-not-found");function Mf(){return(Mf=Go(Wo().mark((function e(t,n){var r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",rl(t,"POST","/v1/accounts:signInWithPhoneNumber",Jc(t,r),Lf));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jf=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Of.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Rf.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Mf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(rf);var qf=function(){function e(t){var n,r,i,a,o,s;d(this,e);var u=Os(Rs(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Fc(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Os(Rs(e)).link,n=t?Os(Rs(t)).deep_link_id:null,r=Os(Rs(e)).deep_link_id;return(r?Os(Rs(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(WA){return null}}}]),e}();var Ff=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return Sf._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=qf.parseLink(t);return Fc(n,"argument-error"),Sf._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ff.PROVIDER_ID="password",Ff.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ff.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Uf=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Vf=function(e){b(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(Uf),Bf=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Fc(e.idToken||e.accessToken,"argument-error"),Af._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Fc("providerId"in t&&"signInMethod"in t,"argument-error"),Af._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(Zz){return null}}}]),n}(Vf),zf=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return Af._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(WA){return null}}}]),n}(Vf);zf.FACEBOOK_SIGN_IN_METHOD="facebook.com",zf.PROVIDER_ID="facebook.com";var Hf=function(e){b(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return Af._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(WA){return null}}}]),n}(Vf);Hf.GOOGLE_SIGN_IN_METHOD="google.com",Hf.PROVIDER_ID="google.com";var Wf=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return Af._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(WA){return null}}}]),n}(Vf);Wf.GITHUB_SIGN_IN_METHOD="github.com",Wf.PROVIDER_ID="github.com";var Kf=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Cf(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Cf(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Cf(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(rf),Gf=function(e){b(n,e);var t=E(n);function n(e){return d(this,n),Fc(e.startsWith("saml."),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Kf.fromJSON(e);return Fc(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Kf._create(r,n)}catch(Zz){return null}}}]),n}(Uf),Qf=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return Af._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(WA){return null}}}]),n}(Vf);function Yf(e,t){return $f.apply(this,arguments)}function $f(){return($f=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rl(t,"POST","/v1/accounts:signUp",Jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Qf.TWITTER_SIGN_IN_METHOD="twitter.com",Qf.PROVIDER_ID="twitter.com";var Xf=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Go(Wo().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Dl._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Jf(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Go(Wo().mark((function t(n,r,i){var a;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Jf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Jf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Zf(){return Zf=Go(Wo().mark((function e(t){var n,r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Xf({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Yf(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Xf._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Zf.apply(this,arguments)}var eh=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o,s;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(w(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(bs);function th(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw eh._fromErrorAndOperation(e,n,t,r);throw n}))}function nh(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function rh(e,t){return ih.apply(this,arguments)}function ih(){return ih=Go(Wo().mark((function e(t,n){var r,i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zs(t),e.next=3,sh(!0,r,n);case 3:return e.t0=ll,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=nh(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}function ah(e,t){return oh.apply(this,arguments)}function oh(){return oh=Go(Wo().mark((function e(t,n){var r,i,a=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=yl,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Xf._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}function sh(e,t,n){return uh.apply(this,arguments)}function uh(){return(uh=Go(Wo().mark((function e(t,n,r){var i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xl(n);case 2:i=nh(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Fc(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ch(e,t){return lh.apply(this,arguments)}function lh(){return lh=Go(Wo().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,yl(t,th(i,a,n,t),r);case 6:return Fc((o=e.sent).idToken,i,"internal-error"),Fc(s=gl(o.idToken),i,"internal-error"),u=s.sub,Fc(t.uid===u,i,"user-mismatch"),e.abrupt("return",Xf._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Rc(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),lh.apply(this,arguments)}function fh(e,t){return hh.apply(this,arguments)}function hh(){return hh=Go(Wo().mark((function e(t,n){var r,i,a,o,s=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,th(t,i,n);case 4:return a=e.sent,e.next=7,Xf._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}function dh(e,t){return ph.apply(this,arguments)}function ph(){return(ph=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fh(Jl(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vh(e,t){return mh.apply(this,arguments)}function mh(){return(mh=Go(Wo().mark((function e(t,n){var r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zs(t),e.next=3,sh(!1,r,n.providerId);case 3:return e.abrupt("return",ah(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gh(e,t){return yh.apply(this,arguments)}function yh(){return(yh=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ch(zs(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bh(e,t){return kh.apply(this,arguments)}function kh(){return(kh=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rl(t,"POST","/v1/accounts:signInWithCustomToken",Jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _h(){return(_h=Go(Wo().mark((function e(t,n){var r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jl(t),e.next=3,bh(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Xf._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wh=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?xh._fromServerResponse(e,t):Rc(e,"internal-error")}}]),e}(),xh=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(wh);function Eh(e,t,n){var r;Fc((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Fc("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Fc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Fc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ih(){return(Ih=Go(Wo().mark((function e(t,n,r){var i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zs(t),a={requestType:"PASSWORD_RESET",email:n},r&&Eh(i,a,r),e.next=5,gf(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Th(){return(Th=Go(Wo().mark((function e(t,n,r){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,af(zs(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sh(){return(Sh=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cf(zs(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ch(e,t){return Nh.apply(this,arguments)}function Nh(){return(Nh=Go(Wo().mark((function e(t,n){var r,i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zs(t),e.next=3,af(r,{oobCode:n});case 3:i=e.sent,Fc(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Fc(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Fc(i.mfaInfo,r,"internal-error");case 13:Fc(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=wh._fromServerResponse(Jl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ah(){return(Ah=Go(Wo().mark((function e(t,n){var r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ch(zs(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ph(e,t,n){return Dh.apply(this,arguments)}function Dh(){return(Dh=Go(Wo().mark((function e(t,n,r){var i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jl(t),e.next=3,Yf(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Xf._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oh(){return(Oh=Go(Wo().mark((function e(t,n,r){var i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zs(t),a={requestType:"EMAIL_SIGNIN",email:n},Fc(r.handleCodeInApp,i,"argument-error"),r&&Eh(i,a,r),e.next=6,bf(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rh(){return(Rh=Go(Wo().mark((function e(t,n,r){var i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zs(t),Fc((a=Ff.credentialWithLink(n,r||Hc()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",dh(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lh(e,t){return Mh.apply(this,arguments)}function Mh(){return(Mh=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zc(t,"POST","/v1/accounts:createAuthUri",Jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jh(){return(jh=Go(Wo().mark((function e(t,n){var r,i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wc()?Hc():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Lh(zs(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qh(){return(qh=Go(Wo().mark((function e(t,n){var r,i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zs(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Eh(r.auth,a,n),e.next=8,vf(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fh(){return(Fh=Go(Wo().mark((function e(t,n,r){var i,a,o,s;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zs(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Eh(i.auth,o,r),e.next=8,_f(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uh(e,t){return Vh.apply(this,arguments)}function Vh(){return(Vh=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bh(){return(Bh=Go(Wo().mark((function e(t,n){var r,i,a,o,s,u,c;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=zs(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,yl(a,Uh(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zh(e,t,n){return Hh.apply(this,arguments)}function Hh(){return(Hh=Go(Wo().mark((function e(t,n,r){var i,a,o,s;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,yl(t,sf(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wh=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Kh=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return g(n)}(Wh),Gh=function(e){b(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return g(n)}(Wh),Qh=function(e){b(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(Kh),Yh=function(e){b(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return g(n)}(Wh),$h=function(e){b(n,e);var t=E(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(Kh);function Xh(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=gl(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Wh(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Gh(a,i);case"github.com":return new Qh(a,i);case"google.com":return new Yh(a,i);case"twitter.com":return new $h(a,i,e.screenName||null);case"custom":case"anonymous":return new Wh(a,null);default:return new Wh(a,r,i)}}(n)}var Jh=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.auth=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:Re({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Zh=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return g(e,[{key:"resolveSignIn",value:function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Jl(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return wh._fromServerResponse(r,e)}));Fc(i.mfaPendingCredential,r,"internal-error");var o=Jh._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Go(Wo().mark((function e(t){var a,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Xf._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Fc(n.user,r,"internal-error"),e.abrupt("return",Xf._forOperation(n.user,n.operationType,s));case 17:Rc(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ed(e,t){return Zc(e,"POST","/v2/accounts/mfaEnrollment:start",Jc(e,t))}var td=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return wh._fromServerResponse(t.auth,e)})))}))}return g(e,[{key:"getSession",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Jh,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Go(Wo().mark((function e(t,n){var r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,yl(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Go(Wo().mark((function e(t){var n,r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,yl(this.user,Zc(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Jc(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),nd=new WeakMap;var rd="__sak",id=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch(WA){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ad=function(e){b(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=as();return Fl(e)||Wl(e)}()&&function(){try{return!(!window||window===window.top)}catch(Zz){return!1}}(),e.fallbackToPolling=Ql(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Gl()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Go(Wo().mark((function e(t,r){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Br(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Go(Wo().mark((function e(t){var r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Br(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Br(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(id);ad.type="LOCAL";var od=ad,sd=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(id);sd.type="SESSION";var ud=sd;function cd(e){return Promise.all(e.map(function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ld=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Go(Wo().mark((function e(t){var n,r,i,a,o,s,u,c;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,cd(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function fd(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ld.receivers=[];var hd=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Go(Wo().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=fd("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function dd(){return window}function pd(){return"undefined"!==typeof dd().WorkerGlobalScope&&"function"===typeof dd().importScripts}function vd(){return md.apply(this,arguments)}function md(){return(md=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function gd(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var yd="firebaseLocalStorageDb",bd="firebaseLocalStorage",kd="fbase_key",_d=function(){function e(t){d(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function wd(e,t){return e.transaction([bd],t?"readwrite":"readonly").objectStore(bd)}function xd(){var e=indexedDB.deleteDatabase(yd);return new _d(e).toPromise()}function Ed(){var e=indexedDB.open(yd,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(bd,{keyPath:kd})}catch(Zz){n(Zz)}})),e.addEventListener("success",Go(Wo().mark((function n(){var r;return Wo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(bd)){n.next=12;break}return r.close(),n.next=5,xd();case 5:return n.t0=t,n.next=8,Ed();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Id(e,t,n){return Td.apply(this,arguments)}function Td(){return Td=Go(Wo().mark((function e(t,n,r){var i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=wd(t,!0).put((Re(i={},kd,n),Re(i,"value",r),i)),e.abrupt("return",new _d(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Td.apply(this,arguments)}function Sd(e,t){return Cd.apply(this,arguments)}function Cd(){return Cd=Go(Wo().mark((function e(t,n){var r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wd(t,!1).get(n),e.next=3,new _d(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}function Nd(e,t){var n=wd(e,!0).delete(t);return new _d(n).toPromise()}var Ad=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ed();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pd()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Go(Wo().mark((function e(){var t=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ld._getInstance(pd()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Go(Wo().mark((function e(n,r){var i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Go(Wo().mark((function e(){var t,n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vd();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new hd(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&gd()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ed();case 5:return t=e.sent,e.next=8,Id(t,rd,"1");case 8:return e.next=10,Nd(t,rd);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Go(Wo().mark((function e(t,n){var r=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Id(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Sd(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Go(Wo().mark((function e(t){var n=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Nd(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Go(Wo().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=wd(e,!1).getAll();return new _d(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ui(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Go(Wo().mark((function t(){return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ad.type="LOCAL";var Pd=Ad;function Dd(e,t){return Zc(e,"POST","/v2/accounts/mfaSignIn:start",Jc(e,t))}function Od(e){return Rd.apply(this,arguments)}function Rd(){return(Rd=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zc(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ld(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Lc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Md(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var jd=1e12,qd=function(){function e(t){d(this,e),this.auth=t,this.counter=jd,this._widgets=new Map}return g(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Fd(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||jd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||jd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||jd,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Fd=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Fc(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(Zz){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(Zz){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ud=Md("rcb"),Vd=new Gc(3e4,6e4),Bd="https://www.google.com/recaptcha/api.js?",zd=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=dd().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Fc(Hd(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(dd().grecaptcha):new Promise((function(r,i){var a=dd().setTimeout((function(){i(Lc(e,"network-request-failed"))}),Vd.get());dd()[Ud]=function(){dd().clearTimeout(a),delete dd()[Ud];var o=dd().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Lc(e,"internal-error"))},Ld("".concat(Bd,"?").concat(Ds({onload:Ud,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Lc(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=dd().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Hd(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Wd=function(){function e(){d(this,e)}return g(e,[{key:"load",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new qd(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Kd="recaptcha",Gd={theme:"light",type:"image"},Qd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Gd),r=arguments.length>2?arguments[2]:void 0;d(this,e),this.parameters=n,this.type=Kd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jl(r),this.isInvisible="invisible"===this.parameters.size,Fc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Fc(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Wd:new zd,this.validateStartingState()}return g(e,[{key:"verify",value:function(){var e=Go(Wo().mark((function e(){var t,n,r,i=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(Zz){return Promise.reject(Zz)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Fc(!this.parameters.sitekey,this.auth,"argument-error"),Fc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=dd()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Fc(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Go(Wo().mark((function e(){var t,n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fc(Wc()&&!pd(),this.auth,"internal-error"),e.next=3,Yd();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Od(this.auth);case 8:Fc(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Fc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Yd(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var $d=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=jf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Xd(){return(Xd=Go(Wo().mark((function e(t,n,r){var i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jl(t),e.next=3,tp(i,n,zs(r));case 3:return a=e.sent,e.abrupt("return",new $d(a,(function(e){return dh(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jd(e,t,n){return Zd.apply(this,arguments)}function Zd(){return(Zd=Go(Wo().mark((function e(t,n,r){var i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zs(t),e.next=3,sh(!1,i,"phone");case 3:return e.next=5,tp(i.auth,n,zs(r));case 5:return a=e.sent,e.abrupt("return",new $d(a,(function(e){return vh(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ep(){return(ep=Go(Wo().mark((function e(t,n,r){var i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zs(t),e.next=3,tp(i.auth,n,zs(r));case 3:return a=e.sent,e.abrupt("return",new $d(a,(function(e){return gh(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tp(e,t,n){return np.apply(this,arguments)}function np(){return np=Go(Wo().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Fc("string"===typeof a,t,"argument-error"),Fc(r.type===Kd,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Fc("enroll"===s.type,t,"internal-error"),e.next=13,ed(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Fc("signin"===s.type,t,"internal-error"),Fc(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Dd(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Pf(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),np.apply(this,arguments)}function rp(){return(rp=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ah(zs(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ip=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=Jl(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return tp(this.auth,e,zs(t))}}],[{key:"credential",value:function(e,t){return jf._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?jf._fromTokenResponse(n,r):null}}]),e}();function ap(e,t){return t?zc(t):(Fc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ip.PROVIDER_ID="phone",ip.PHONE_SIGN_IN_METHOD="phone";var op=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Cf(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Cf(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Cf(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(rf);function sp(e){return fh(e.auth,new op(e),e.bypassAuthState)}function up(e){var t=e.auth,n=e.user;return Fc(n,t,"internal-error"),ch(n,new op(e),e.bypassAuthState)}function cp(e){return lp.apply(this,arguments)}function lp(){return(lp=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Fc(r=t.user,n,"internal-error"),e.abrupt("return",ah(r,new op(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Go(Wo().mark((function t(n,r){return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Go(Wo().mark((function e(t){var n,r,i,a,o,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sp;case"linkViaPopup":case"linkViaRedirect":return cp;case"reauthViaPopup":case"reauthViaRedirect":return up;default:Rc(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Vc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Vc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),hp=new Gc(2e3,1e4);function dp(e,t,n){return pp.apply(this,arguments)}function pp(){return(pp=Go(Wo().mark((function e(t,n,r){var i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jl(t),jc(t,n,Uf),a=ap(i,r),o=new yp(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vp(){return(vp=Go(Wo().mark((function e(t,n,r){var i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jc((i=zs(t)).auth,n,Uf),a=ap(i.auth,r),o=new yp(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mp(e,t,n){return gp.apply(this,arguments)}function gp(){return(gp=Go(Wo().mark((function e(t,n,r){var i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jc((i=zs(t)).auth,n,Uf),a=ap(i.auth,r),o=new yp(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yp=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=w(s),s}return g(n,[{key:"executeNotNull",value:function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Fc(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Go(Wo().mark((function e(){var t,n=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vc(1===this.filter.length,"Popup operations only handle one event"),t=fd(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Lc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Lc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Lc(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,hp.get())}()}}]),n}(fp);yp.currentPopupAction=null;var bp=new Map,kp=function(e){b(n,e);var t=E(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=Go(Wo().mark((function e(){var t,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=bp.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,_p(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Br(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:bp.set(this.auth._key(),t);case 21:return this.bypassAuthState||bp.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Go(Wo().mark((function e(t){var r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Br(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Br(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(fp);function _p(e,t){return wp.apply(this,arguments)}function wp(){return(wp=Go(Wo().mark((function e(t,n){var r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sp(n),i=Tp(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xp(e,t){return Ep.apply(this,arguments)}function Ep(){return(Ep=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tp(t)._set(Sp(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ip(e,t){bp.set(e._key(),t)}function Tp(e){return zc(e._redirectPersistence)}function Sp(e){return Ll("pendingRedirect",e.config.apiKey,e.name)}function Cp(e,t,n){return function(e,t,n){return Np.apply(this,arguments)}(e,t,n)}function Np(){return(Np=Go(Wo().mark((function e(t,n,r){var i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jl(t),jc(t,n,Uf),a=ap(i,r),e.next=5,xp(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ap(e,t,n){return function(e,t,n){return Pp.apply(this,arguments)}(e,t,n)}function Pp(){return(Pp=Go(Wo().mark((function e(t,n,r){var i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jc((i=zs(t)).auth,n,Uf),a=ap(i.auth,r),e.next=5,xp(a,i.auth);case 5:return e.next=7,qp(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dp(e,t,n){return function(e,t,n){return Op.apply(this,arguments)}(e,t,n)}function Op(){return(Op=Go(Wo().mark((function e(t,n,r){var i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jc((i=zs(t)).auth,n,Uf),a=ap(i.auth,r),e.next=5,sh(!1,i,n.providerId);case 5:return e.next=7,xp(a,i.auth);case 7:return e.next=9,qp(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rp(e,t){return Lp.apply(this,arguments)}function Lp(){return(Lp=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jl(t)._initializationPromise;case 2:return e.abrupt("return",Mp(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mp(e,t){return jp.apply(this,arguments)}function jp(){return jp=Go(Wo().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Jl(t),a=ap(i,n),o=new kp(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}function qp(e){return Fp.apply(this,arguments)}function Fp(){return(Fp=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fd("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Up=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Bp(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Lc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vp(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Vp(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Vp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Bp(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function zp(e){return Hp.apply(this,arguments)}function Hp(){return Hp=Go(Wo().mark((function e(t){var n,r=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Zc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Hp.apply(this,arguments)}var Wp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kp=/^https?/;function Gp(){return(Gp=Go(Wo().mark((function e(t){var n,r,i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,zp(t);case 4:n=e.sent,r=n.authorizedDomains,i=ui(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Qp(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Rc(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Qp(e){var t=Hc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Kp.test(r))return!1;if(Wp.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Yp=new Gc(3e4,6e4);function $p(){var e=dd().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Xp=null;function Jp(e){return Xp=Xp||function(e){return new Promise((function(t,n){var r,i,a;function o(){$p(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){$p(),n(Lc(e,"network-request-failed"))},timeout:Yp.get()})}if(null===(i=null===(r=dd().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=dd().gapi)||void 0===a?void 0:a.load)){var s=Md("iframefcb");return dd()[s]=function(){gapi.load?o():n(Lc(e,"network-request-failed"))},Ld("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Xp=null,e}))}(e),Xp}var Zp=new Gc(5e3,15e3),ev={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nv(e){var t=e.config;Fc(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Qc(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ju},i=tv.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ds(r).slice(1))}function rv(e){return iv.apply(this,arguments)}function iv(){return iv=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jp(t);case 2:return n=e.sent,Fc(r=dd().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:nv(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ev,dontclear:!0},(function(e){return new Promise(function(){var n=Go(Wo().mark((function n(r,i){var a,o,s;return Wo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){dd().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Lc(t,"network-request-failed"),o=dd().setTimeout((function(){i(a)}),Zp.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),iv.apply(this,arguments)}var av={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ov="_blank",sv="http://localhost",uv=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(Zz){}}}]),e}();function cv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},av),{width:r.toString(),height:i.toString(),top:a,left:o}),c=as().toLowerCase();n&&(s=Ul(c)?ov:n),ql(c)&&(t=t||sv,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Kl(c)&&"_self"!==s)return lv(t||"",s),new uv(null);var h=window.open(t||"",s,f);Fc(h,e,"popup-blocked");try{h.focus()}catch(Zz){}return new uv(h)}function lv(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var fv="__/auth/handler",hv="emulator/auth/handler";function dv(e,t,n,r,i,a){Fc(e.config.authDomain,e,"auth-domain-config-required"),Fc(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ju,eventId:i};if(t instanceof Uf){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Cs(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=l(u[s],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof Vf){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(fv);return Qc(t,hv)}(e),"?").concat(Ds(p).slice(1))}var pv="webStorageSupport",vv=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ud,this._completeRedirectFn=Mp,this._overrideRedirectResult=Ip}return g(e,[{key:"_openPopup",value:function(){var e=Go(Wo().mark((function e(t,n,r,i){var a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vc(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=dv(t,n,r,Hc(),i),e.abrupt("return",cv(t,o,fd()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Go(Wo().mark((function e(t,n,r,i){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=dv(t,n,r,Hc(),i),dd().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Vc(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rv(t);case 2:return n=e.sent,r=new Up(t),n.register("authEvent",(function(e){return Fc(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(pv,{type:pv},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Rc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Gp.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ql()||Fl()||Wl()}}]),e}(),mv=vv,gv=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Zc(e,"POST","/v2/accounts/mfaEnrollment:finalize",Jc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Zc(e,"POST","/v2/accounts/mfaSignIn:finalize",Jc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){d(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Uc("unexpected MultiFactorSessionType")}}}]),e}()),yv=function(){function e(){d(this,e)}return g(e,null,[{key:"assertion",value:function(e){return gv._fromCredential(e)}}]),e}();yv.FACTOR_ID="phone";var bv="@firebase/auth",kv="0.21.0",_v=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Fc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var wv;!function(e){var t;null===(t=ps())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function xv(){return window}wv="Browser",Au(new Hs("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Fc(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Fc(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:wv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yl(wv)},i=new Xl(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Au(new Hs("auth-internal",(function(e){return function(e){return new _v(e)}(Jl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),zu(bv,kv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(wv)),zu(bv,kv,"esm2017");function Ev(e,t,n){return Iv.apply(this,arguments)}function Iv(){return Iv=Go(Wo().mark((function e(t,n,r){var i,a,o,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xv(),o=a.BuildInfo,Vc(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Pv(n.sessionId);case 4:return s=e.sent,u={},Wl()?u.ibi=o.packageName:Bl()?u.apn=o.packageName:Rc(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",dv(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Iv.apply(this,arguments)}function Tv(){return(Tv=Go(Wo().mark((function e(t){var n,r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xv(),r=n.BuildInfo,i={},Wl()?i.iosBundleId=r.packageName:Bl()?i.androidPackageName=r.packageName:Rc(t,"operation-not-supported-in-this-environment"),e.next=5,zp(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sv(e){var t=xv().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Cv(e,t,n){return Nv.apply(this,arguments)}function Nv(){return Nv=Go(Wo().mark((function e(t,n,r){var i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xv(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Lc(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Bl()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Nv.apply(this,arguments)}function Av(e){var t,n,r,i,a,o,s,u,c,l,f=xv();Fc("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Fc("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Fc("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fc("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fc("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Pv(e){return Dv.apply(this,arguments)}function Dv(){return(Dv=Go(Wo().mark((function e(t){var n,r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ov(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ov(e){if(Vc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Rv=function(e){b(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Br(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Up);function Lv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Uv(),postBody:null,tenantId:e.tenantId,error:Lc(e,"no-auth-event")}}function Mv(e,t){return Vv()._set(Bv(e),t)}function jv(e){return qv.apply(this,arguments)}function qv(){return(qv=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vv()._get(Bv(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Vv()._remove(Bv(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fv(e,t){var n,r,i=function(e){var t=zv(e),n=t.link?decodeURIComponent(t.link):void 0,r=zv(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return zv(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=zv(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(Zz){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Lc(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Uv(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Vv(){return zc(od)}function Bv(e){return Ll("authEvent",e.config.apiKey,e.name)}function zv(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=o(t=n)||f(t)||u(t)||c();r[0];return Os(r.slice(1).join("?"))}var Hv=function(){function e(){d(this,e),this._redirectPersistence=ud,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mp,this._overrideRedirectResult=Ip}return g(e,[{key:"_initialize",value:function(){var e=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Rv(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Rc(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Go(Wo().mark((function e(t,n,r,i){var a,o,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Av(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),bp.clear(),e.next=10,this._originValidation(t);case 10:return o=Lv(t,r,i),e.next=13,Mv(t,o);case 13:return e.next=15,Ev(t,o,n);case 15:return s=e.sent,e.next=18,Sv(s);case 18:return u=e.sent,e.abrupt("return",Cv(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Tv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=xv(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Go(Wo().mark((function n(){return Wo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jv(e);case 2:t.onEvent(Kv());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Go(Wo().mark((function n(r){var i,a;return Wo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,jv(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Fv(i,r.url)),t.onEvent(a||Kv());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");xv().handleOpenURL=function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(Zz){console.error(Zz)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Wv=Hv;function Kv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Lc("no-auth-event")}}function Gv(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Qv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as();return!("file:"!==Gv()&&"ionic:"!==Gv()&&"capacitor:"!==Gv()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yv(){return ls()&&11===(null===document||void 0===document?void 0:document.documentMode)}function $v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as();return/Edge\/\d+/.test(e)}function Xv(){try{var e=self.localStorage,t=fd();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as();return Yv()||$v(e)}()||hs()}catch(Zz){return Jv()&&hs()}return!1}function Jv(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Zv(){return("http:"===Gv()||"https:"===Gv()||us()||Qv())&&!(cs()||ss())&&Xv()&&!Jv()}function em(){return Qv()&&"undefined"!==typeof document}function tm(){return nm.apply(this,arguments)}function nm(){return(nm=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(em()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rm={LOCAL:"local",NONE:"none",SESSION:"session"},im=Fc,am="persistence";function om(e,t){im(Object.values(rm).includes(t),e,"invalid-persistence-type"),cs()?im(t!==rm.SESSION,e,"unsupported-persistence-type"):ss()?im(t===rm.NONE,e,"unsupported-persistence-type"):Jv()?im(t===rm.NONE||t===rm.LOCAL&&hs(),e,"unsupported-persistence-type"):im(t===rm.NONE||Xv(),e,"unsupported-persistence-type")}function sm(e){return um.apply(this,arguments)}function um(){return(um=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=cm(),r=Ll(am,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cm(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(Zz){return null}}var lm=Fc,fm=function(){function e(){d(this,e),this.browserResolver=zc(mv),this.cordovaResolver=zc(Wv),this.underlyingResolver=null,this._redirectPersistence=ud,this._completeRedirectFn=Mp,this._overrideRedirectResult=Ip}return g(e,[{key:"_initialize",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Go(Wo().mark((function e(t,n,r,i){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Go(Wo().mark((function e(t,n,r,i){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return em()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return lm(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,tm();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function hm(e){return e.unwrap()}function dm(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new ym(e,function(e,t){var n,r=zs(e),i=t;return Fc(t.customData.operationType,r,"argument-error"),Fc(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Zh._fromError(r,i)}(e,t));else if(r){var i=pm(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function pm(e){var t=(e instanceof bs?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof bs)&&"temporaryProof"in t&&"phoneNumber"in t)return ip.credentialFromResult(e);var n,r=t.providerId;if(!r||r===kc)return null;switch(r){case bc:n=Hf;break;case gc:n=zf;break;case yc:n=Wf;break;case _c:n=Qf;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Kf._create(r,s):Af._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Bf(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof bs?n.credentialFromError(e):n.credentialFromResult(e)}function vm(e,t){return t.catch((function(t){throw t instanceof bs&&dm(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,pm(t)),additionalUserInfo:Xh(e),user:bm.getOrCreate(r)}}))}function mm(e,t){return gm.apply(this,arguments)}function gm(){return(gm=Go(Wo().mark((function e(t,n){var r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return vm(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ym=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return vm(hm(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),bm=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=zs(e);return nd.has(t)||nd.set(t,td._fromUser(t)),nd.get(t)}(t)}return g(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vm(this.auth,vh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mm(this.auth,Jd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vm(this.auth,mp(this._delegate,t,fm)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sm(Jl(this.auth));case 2:return e.abrupt("return",Dp(this._delegate,t,fm));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vm(this.auth,gh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return mm(this.auth,function(e,t,n){return ep.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return vm(this.auth,function(e,t,n){return vp.apply(this,arguments)}(this._delegate,e,fm))}},{key:"reauthenticateWithRedirect",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sm(Jl(this.auth));case 2:return e.abrupt("return",Ap(this._delegate,t,fm));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return qh.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rh(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return zh(zs(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return zh(zs(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return rp.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Bh.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Fh.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();bm.USER_MAP=new WeakMap;var km=Fc,_m=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;km(r,"invalid-api-key",{appName:t.name}),km(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?fm:void 0;this._delegate=n.initialize({options:{persistence:xm(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Nc),this.linkUnderlyingAuth()}return g(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?bm.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ef(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Sh.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ch(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Th.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vm(this._delegate,Ph(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return jh.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=qf.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return km(Zv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Rp(this._delegate,fm);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",vm(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Jl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=wm(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=wm(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Oh.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ih.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:om(this._delegate,t),e.t0=t,e.next=e.t0===rm.SESSION?4:e.t0===rm.LOCAL?6:e.t0===rm.NONE?11:13;break;case 4:return n=ud,e.abrupt("break",14);case 6:return e.next=8,zc(Pd)._isAvailable();case 8:return r=e.sent,n=r?Pd:od,e.abrupt("break",14);case 11:return n=Rl,e.abrupt("break",14);case 13:return e.abrupt("return",Rc("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return vm(this._delegate,function(e){return Zf.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return vm(this._delegate,dh(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return vm(this._delegate,function(e,t){return _h.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return vm(this._delegate,function(e,t,n){return dh(zs(e),Ff.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return vm(this._delegate,function(e,t,n){return Rh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return mm(this._delegate,function(e,t,n){return Xd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return km(Zv(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",vm(this._delegate,dp(this._delegate,t,fm)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return km(Zv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,sm(this._delegate);case 3:return e.abrupt("return",Cp(this._delegate,t,fm));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Ah.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function wm(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&bm.getOrCreate(e))},error:t,complete:n}}function xm(e,t){var n=function(e,t){var n=cm();if(!n)return[];var r=Ll(am,e,t);switch(n.getItem(r)){case rm.NONE:return[Rl];case rm.LOCAL:return[Pd,ud];case rm.SESSION:return[ud];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Pd)||n.push(Pd),"undefined"!==typeof window)for(var r=0,i=[od,ud];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Rl)||n.push(Rl),n}_m.Persistence=rm;var Em=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new ip(hm(dc.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ip.credential(e,t)}}]),e}();Em.PHONE_SIGN_IN_METHOD=ip.PHONE_SIGN_IN_METHOD,Em.PROVIDER_ID=ip.PROVIDER_ID;var Im,Tm=Fc,Sm=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dc.app();d(this,e),Tm(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Qd(t,n,i.auth()),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Im=dc).INTERNAL.registerComponent(new Hs("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new _m(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:wc,PASSWORD_RESET:xc,RECOVER_EMAIL:Ec,REVERT_SECOND_FACTOR_ADDITION:Ic,VERIFY_AND_CHANGE_EMAIL:Tc,VERIFY_EMAIL:Sc}},EmailAuthProvider:Ff,FacebookAuthProvider:zf,GithubAuthProvider:Wf,GoogleAuthProvider:Hf,OAuthProvider:Bf,SAMLAuthProvider:Gf,PhoneAuthProvider:Em,PhoneMultiFactorGenerator:yv,RecaptchaVerifier:Sm,TwitterAuthProvider:Qf,Auth:_m,AuthCredential:rf,Error:bs}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Im.registerVersion("@firebase/auth-compat","0.3.0");var Cm,Nm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Am={},Pm=Pm||{},Dm=Nm||self;function Om(){}function Rm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Lm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Mm="closure_uid_"+(1e9*Math.random()>>>0),jm=0;function qm(e,t,n){return e.call.apply(e.bind,arguments)}function Fm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Um(e,t,n){return(Um=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qm:Fm).apply(null,arguments)}function Vm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Bm(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function zm(){this.s=this.s,this.o=this.o}zm.prototype.s=!1,zm.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Mm)&&e[Mm]||(e[Mm]=++jm))},zm.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Hm=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Wm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Km(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Rm(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Gm(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Gm.prototype.h=function(){this.defaultPrevented=!0};var Qm=function(){if(!Dm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Dm.addEventListener("test",Om,t),Dm.removeEventListener("test",Om,t)}catch(n){}return e}();function Ym(e){return/^[\s\xa0]*$/.test(e)}var $m=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Xm(e,t){return e<t?-1:e>t?1:0}function Jm(){var e=Dm.navigator;return e&&(e=e.userAgent)?e:""}function Zm(e){return-1!=Jm().indexOf(e)}function eg(e){return eg[" "](e),e}eg[" "]=Om;var tg,ng=Zm("Opera"),rg=Zm("Trident")||Zm("MSIE"),ig=Zm("Edge"),ag=ig||rg,og=Zm("Gecko")&&!(-1!=Jm().toLowerCase().indexOf("webkit")&&!Zm("Edge"))&&!(Zm("Trident")||Zm("MSIE"))&&!Zm("Edge"),sg=-1!=Jm().toLowerCase().indexOf("webkit")&&!Zm("Edge");function ug(){var e=Dm.document;return e?e.documentMode:void 0}e:{var cg="",lg=function(){var e=Jm();return og?/rv:([^\);]+)(\)|;)/.exec(e):ig?/Edge\/([\d\.]+)/.exec(e):rg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):sg?/WebKit\/(\S+)/.exec(e):ng?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(lg&&(cg=lg?lg[1]:""),rg){var fg=ug();if(null!=fg&&fg>parseFloat(cg)){tg=String(fg);break e}}tg=cg}var hg,dg={};function pg(){return function(e){var t=dg;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=$m(String(tg)).split("."),n=$m("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Xm(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Xm(0==a[2].length,0==o[2].length)||Xm(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Dm.document&&rg){var vg=ug();hg=vg||(parseInt(tg,10)||void 0)}else hg=void 0;var mg=hg;function gg(e,t){if(Gm.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(og){e:{try{eg(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:yg[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&gg.X.h.call(this)}}Bm(gg,Gm);var yg={2:"touch",3:"pen",4:"mouse"};gg.prototype.h=function(){gg.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var bg="closure_listenable_"+(1e6*Math.random()|0),kg=0;function _g(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++kg,this.ba=this.ea=!1}function wg(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function xg(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Eg(e){var t={};for(var n in e)t[n]=e[n];return t}var Ig="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tg(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ig.length;a++)n=Ig[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Sg(e){this.src=e,this.g={},this.h=0}function Cg(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Hm(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(wg(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ng(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Sg.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ng(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new _g(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Ag="closure_lm_"+(1e6*Math.random()|0),Pg={};function Dg(e,t,n,r,i){if(r&&r.once)return Rg(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Dg(e,t[a],n,r,i);return null}return n=Vg(n),e&&e[bg]?e.N(t,n,Lm(r)?!!r.capture:!!r,i):Og(e,t,n,!1,r,i)}function Og(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Lm(i)?!!i.capture:!!i,s=Fg(e);if(s||(e[Ag]=s=new Sg(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=qg;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qm||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(jg(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Rg(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Rg(e,t[a],n,r,i);return null}return n=Vg(n),e&&e[bg]?e.O(t,n,Lm(r)?!!r.capture:!!r,i):Og(e,t,n,!0,r,i)}function Lg(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Lg(e,t[a],n,r,i);else r=Lm(r)?!!r.capture:!!r,n=Vg(n),e&&e[bg]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ng(a=e.g[t],n,r,i))&&(wg(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Fg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ng(t,n,r,i)),(n=-1<e?t[e]:null)&&Mg(n))}function Mg(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[bg])Cg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(jg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Fg(t))?(Cg(n,e),0==n.h&&(n.src=null,t[Ag]=null)):wg(e)}}}function jg(e){return e in Pg?Pg[e]:Pg[e]="on"+e}function qg(e,t){if(e.ba)e=!0;else{t=new gg(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Mg(e),e=n.call(r,t)}return e}function Fg(e){return(e=e[Ag])instanceof Sg?e:null}var Ug="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vg(e){return"function"===typeof e?e:(e[Ug]||(e[Ug]=function(t){return e.handleEvent(t)}),e[Ug])}function Bg(){zm.call(this),this.i=new Sg(this),this.P=this,this.I=null}function zg(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Gm(t,e);else if(t instanceof Gm)t.target=t.target||e;else{var i=t;Tg(t=new Gm(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Hg(o,r,!0,t)&&i}if(i=Hg(o=t.g=e,r,!0,t)&&i,i=Hg(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Hg(o=t.g=n[a],r,!1,t)&&i}function Hg(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&Cg(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Bm(Bg,zm),Bg.prototype[bg]=!0,Bg.prototype.removeEventListener=function(e,t,n,r){Lg(this,e,t,n,r)},Bg.prototype.M=function(){if(Bg.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wg(n[r]);delete t.g[e],t.h--}}this.I=null},Bg.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Bg.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Wg=Dm.JSON.stringify;function Kg(){var e=ey,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Gg,Qg=function(){function e(){d(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=Yg.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Yg=new(function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new $g}),(function(e){return e.reset()})),$g=function(){function e(){d(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Xg(e){Dm.setTimeout((function(){throw e}),0)}function Jg(e,t){Gg||function(){var e=Dm.Promise.resolve(void 0);Gg=function(){e.then(ty)}}(),Zg||(Gg(),Zg=!0),ey.add(e,t)}var Zg=!1,ey=new Qg;function ty(){for(var e;e=Kg();){try{e.h.call(e.g)}catch(n){Xg(n)}var t=Yg;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Zg=!1}function ny(e,t){Bg.call(this),this.h=e||1,this.g=t||Dm,this.j=Um(this.lb,this),this.l=Date.now()}function ry(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function iy(e,t,n){if("function"===typeof e)n&&(e=Um(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Um(e.handleEvent,e)}return 2147483647<Number(t)?-1:Dm.setTimeout(e,t||0)}function ay(e){e.g=iy((function(){e.g=null,e.i&&(e.i=!1,ay(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Bm(ny,Bg),(Cm=ny.prototype).ca=!1,Cm.R=null,Cm.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),zg(this,"tick"),this.ca&&(ry(this),this.start()))}},Cm.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Cm.M=function(){ny.X.M.call(this),ry(this),delete this.g};var oy=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ay(this)}},{key:"M",value:function(){Br(k(n.prototype),"M",this).call(this),this.g&&(Dm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(zm);function sy(e){zm.call(this),this.h=e,this.g={}}Bm(sy,zm);var uy=[];function cy(e,t,n,r){Array.isArray(n)||(n&&(uy[0]=n.toString()),n=uy);for(var i=0;i<n.length;i++){var a=Dg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ly(e){xg(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Mg(e)}),e),e.g={}}function fy(){this.g=!0}function hy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Wg(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}sy.prototype.M=function(){sy.X.M.call(this),ly(this)},sy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fy.prototype.Aa=function(){this.g=!1},fy.prototype.info=function(){};var dy={},py=null;function vy(){return py=py||new Bg}function my(e){Gm.call(this,dy.Pa,e)}function gy(e){var t=vy();zg(t,new my(t))}function yy(e,t){Gm.call(this,dy.STAT_EVENT,e),this.stat=t}function by(e){var t=vy();zg(t,new yy(t,e))}function ky(e,t){Gm.call(this,dy.Qa,e),this.size=t}function _y(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Dm.setTimeout((function(){e()}),t)}dy.Pa="serverreachability",Bm(my,Gm),dy.STAT_EVENT="statevent",Bm(yy,Gm),dy.Qa="timingevent",Bm(ky,Gm);var wy={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},xy={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ey(){}function Iy(e){return e.h||(e.h=e.i())}function Ty(){}Ey.prototype.h=null;var Sy,Cy={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ny(){Gm.call(this,"d")}function Ay(){Gm.call(this,"c")}function Py(){}function Dy(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new sy(this),this.O=Ry,e=ag?125:void 0,this.T=new ny(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Oy}function Oy(){this.i=null,this.g="",this.h=!1}Bm(Ny,Gm),Bm(Ay,Gm),Bm(Py,Ey),Py.prototype.g=function(){return new XMLHttpRequest},Py.prototype.i=function(){return{}},Sy=new Py;var Ry=45e3,Ly={},My={};function jy(e,t,n){e.K=1,e.v=nb(Xy(t)),e.s=n,e.P=!0,qy(e,null)}function qy(e,t){e.F=Date.now(),By(e),e.A=Xy(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),vb(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Oy,e.g=mk(e.l,n?t:null,!e.s),0<e.N&&(e.L=new oy(Um(e.La,e,e.g),e.N)),cy(e.S,e.g,"readystatechange",e.ib),t=e.H?Eg(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),gy(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Fy(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Uy(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Vy(e,n))==My){4==t&&(e.o=4,by(14),i=!1),hy(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ly){e.o=4,by(15),hy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}hy(e.j,e.m,r,null),Gy(e,r)}Fy(e)&&r!=My&&r!=Ly&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,by(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),uk(t),t.K=!0,by(11))):(hy(e.j,e.m,n,"[Invalid Chunked Response]"),Ky(e),Wy(e))}function Vy(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?My:(n=Number(t.substring(n,r)),isNaN(n)?Ly:(r+=1)+n>t.length?My:(t=t.substr(r,n),e.C=r+n,t))}function By(e){e.V=Date.now()+e.O,zy(e,e.O)}function zy(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_y(Um(e.gb,e),t)}function Hy(e){e.B&&(Dm.clearTimeout(e.B),e.B=null)}function Wy(e){0==e.l.G||e.I||fk(e.l,e)}function Ky(e){Hy(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ry(e.T),ly(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Gy(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||xb(n.h,e)))if(!e.J&&xb(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;lk(n),ek(n)}sk(n),by(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=_y(Um(n.cb,n),6e3));if(1>=wb(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else dk(n,11)}else if((e.J||n.g==e)&&lk(n),!Ym(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Eb(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,tb(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=vk(r,r.H?r.ka:null,r.V),d.J){Ib(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Hy(p),By(p)),r.g=d}else ok(r);0<n.i.length&&nk(n)}else"stop"!=a[0]&&"close"!=a[0]||dk(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?dk(n,7):Zb(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}gy()}catch(a){}}function Qy(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Rm(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Rm(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Rm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Cm=Dy.prototype).setTimeout=function(e){this.O=e},Cm.ib=function(e){e=e.target;var t=this.L;t&&3==Gb(e)?t.l():this.La(e)},Cm.La=function(e){try{if(e==this.g)e:{var t=Gb(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||ag||this.g&&(this.h.h||this.g.fa()||Qb(this.g)))){this.I||4!=t||7==n||gy(),Hy(this);var r=this.g.aa();this.Y=r;t:if(Fy(this)){var i=Qb(this.g);e="";var a=i.length,o=4==Gb(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ky(this),Wy(this);var s="";break t}this.h.i=new Dm.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ym(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,by(12),Ky(this),Wy(this);break e}hy(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gy(this,r)}this.P?(Uy(this,t,s),ag&&this.i&&3==t&&(cy(this.S,this.T,"tick",this.hb),this.T.start())):(hy(this.j,this.m,s,null),Gy(this,s)),4==t&&Ky(this),this.i&&!this.I&&(4==t?fk(this.l,this):(this.i=!1,By(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,by(12)):(this.o=0,by(13)),Ky(this),Wy(this)}}}catch(t){}},Cm.hb=function(){if(this.g){var e=Gb(this.g),t=this.g.fa();this.C<t.length&&(Hy(this),Uy(this,e,t),this.i&&4!=e&&By(this))}},Cm.cancel=function(){this.I=!0,Ky(this)},Cm.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(gy(),by(17)),Ky(this),this.o=2,Wy(this)):zy(this,this.V-e)};var Yy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $y(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof $y){this.h=void 0!==t?t:e.h,Jy(this,e.j),this.s=e.s,this.g=e.g,Zy(this,e.m),this.l=e.l,t=e.i;var n=new fb;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),eb(this,n),this.o=e.o}else e&&(n=String(e).match(Yy))?(this.h=!!t,Jy(this,n[1]||"",!0),this.s=rb(n[2]||""),this.g=rb(n[3]||"",!0),Zy(this,n[4]),this.l=rb(n[5]||"",!0),eb(this,n[6]||"",!0),this.o=rb(n[7]||"")):(this.h=!!t,this.i=new fb(null,this.h))}function Xy(e){return new $y(e)}function Jy(e,t,n){e.j=n?rb(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Zy(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function eb(e,t,n){t instanceof fb?(e.i=t,function(e,t){t&&!e.j&&(hb(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(db(this,t),vb(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ib(t,cb)),e.i=new fb(t,e.h))}function tb(e,t,n){e.i.set(t,n)}function nb(e){return tb(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function rb(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ib(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ab),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ab(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}$y.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ib(t,ob,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ib(t,ob,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ib(n,"/"==n.charAt(0)?ub:sb,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ib(n,lb)),e.join("")};var ob=/[#\/\?@]/g,sb=/[#\?:]/g,ub=/[#\?]/g,cb=/[#\?@]/g,lb=/#/g;function fb(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function hb(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function db(e,t){hb(e),t=mb(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function pb(e,t){return hb(e),t=mb(e,t),e.g.has(t)}function vb(e,t,n){db(e,t),0<n.length&&(e.i=null,e.g.set(mb(e,t),Wm(n)),e.h+=n.length)}function mb(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Cm=fb.prototype).add=function(e,t){hb(this),this.i=null,e=mb(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Cm.forEach=function(e,t){hb(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Cm.oa=function(){hb(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Cm.W=function(e){hb(this);var t=[];if("string"===typeof e)pb(this,e)&&(t=t.concat(this.g.get(mb(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Cm.set=function(e,t){return hb(this),this.i=null,pb(this,e=mb(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Cm.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Cm.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var gb=g((function e(t,n){d(this,e),this.h=t,this.g=n}));function yb(e){this.l=e||kb,Dm.PerformanceNavigationTiming?e=0<(e=Dm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Dm.g&&Dm.g.Ga&&Dm.g.Ga()&&Dm.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bb,kb=10;function _b(e){return!!e.h||!!e.g&&e.g.size>=e.j}function wb(e){return e.h?1:e.g?e.g.size:0}function xb(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Eb(e,t){e.g?e.g.add(t):e.h=t}function Ib(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Tb(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ui(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Wm(e.i)}function Sb(){}function Cb(){this.g=new Sb}function Nb(e,t,n){var r=n||"";try{Qy(e,(function(e,n){var i=e;Lm(e)&&(i=Wg(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Zz){throw t.push(r+"type="+encodeURIComponent("_badmap")),Zz}}function Ab(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Pb(e){this.l=e.ac||null,this.j=e.jb||!1}function Db(e,t){Bg.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ob,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yb.prototype.cancel=function(){if(this.i=Tb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ui(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Sb.prototype.stringify=function(e){return Dm.JSON.stringify(e,void 0)},Sb.prototype.parse=function(e){return Dm.JSON.parse(e,void 0)},Bm(Pb,Ey),Pb.prototype.g=function(){return new Db(this.l,this.j)},Pb.prototype.i=(bb={},function(){return bb}),Bm(Db,Bg);var Ob=0;function Rb(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Lb(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Mb(e)}function Mb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Cm=Db.prototype).open=function(e,t){if(this.readyState!=Ob)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Mb(this)},Cm.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Dm).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Cm.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lb(this)),this.readyState=Ob},Cm.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mb(this)),this.g&&(this.readyState=3,Mb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Dm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rb(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Cm.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lb(this):Mb(this),3==this.readyState&&Rb(this)}},Cm.Va=function(e){this.g&&(this.response=this.responseText=e,Lb(this))},Cm.Ua=function(e){this.g&&(this.response=e,Lb(this))},Cm.ga=function(){this.g&&Lb(this)},Cm.setRequestHeader=function(e,t){this.v.append(e,t)},Cm.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Cm.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Db.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var jb=Dm.JSON.parse;function qb(e){Bg.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fb,this.K=this.L=!1}Bm(qb,Bg);var Fb="",Ub=/^https?$/i,Vb=["POST","PUT"];function Bb(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,zb(e),Wb(e)}function zb(e){e.D||(e.D=!0,zg(e,"complete"),zg(e,"error"))}function Hb(e){if(e.h&&"undefined"!=typeof Pm&&(!e.C[1]||4!=Gb(e)||2!=e.aa()))if(e.v&&4==Gb(e))iy(e.Ha,0,e);else if(zg(e,"readystatechange"),4==Gb(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Yy)[1]||null;if(!a&&Dm.self&&Dm.self.location){var o=Dm.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ub.test(a?a.toLowerCase():"")}t=i}if(t)zg(e,"complete"),zg(e,"success");else{e.m=6;try{var s=2<Gb(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",zb(e)}}finally{Wb(e)}}}function Wb(e,t){if(e.g){Kb(e);var n=e.g,r=e.C[0]?Om:null;e.g=null,e.C=null,t||zg(e,"ready");try{n.onreadystatechange=r}catch(Zz){}}}function Kb(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Dm.clearTimeout(e.A),e.A=null)}function Gb(e){return e.g?e.g.readyState:0}function Qb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Fb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Dk){return null}}function Yb(e){var t="";return xg(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function $b(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Yb(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):tb(e,t,n))}function Xb(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jb(e){this.Ca=0,this.i=[],this.j=new fy,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Xb("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Xb("baseRetryDelayMs",5e3,e),this.bb=Xb("retryDelaySeedMs",1e4,e),this.$a=Xb("forwardChannelMaxRetries",2,e),this.ta=Xb("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new yb(e&&e.concurrentRequestLimit),this.Fa=new Cb,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Zb(e){if(tk(e),3==e.G){var t=e.U++,n=Xy(e.F);tb(n,"SID",e.I),tb(n,"RID",t),tb(n,"TYPE","terminate"),ik(e,n),(t=new Dy(e,e.j,t,void 0)).K=2,t.v=nb(Xy(n)),n=!1,Dm.navigator&&Dm.navigator.sendBeacon&&(n=Dm.navigator.sendBeacon(t.v.toString(),"")),!n&&Dm.Image&&((new Image).src=t.v,n=!0),n||(t.g=mk(t.l,null),t.g.da(t.v)),t.F=Date.now(),By(t)}pk(e)}function ek(e){e.g&&(uk(e),e.g.cancel(),e.g=null)}function tk(e){ek(e),e.u&&(Dm.clearTimeout(e.u),e.u=null),lk(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Dm.clearTimeout(e.m),e.m=null)}function nk(e){_b(e.h)||e.m||(e.m=!0,Jg(e.Ja,e),e.C=0)}function rk(e,t){var n;n=t?t.m:e.U++;var r=Xy(e.F);tb(r,"SID",e.I),tb(r,"RID",n),tb(r,"AID",e.T),ik(e,r),e.o&&e.s&&$b(r,e.o,e.s),n=new Dy(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=ak(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Eb(e.h,n),jy(n,r,t)}function ik(e,t){e.ia&&xg(e.ia,(function(e,n){tb(t,n,e)})),e.l&&Qy({},(function(e,n){tb(t,n,e)}))}function ak(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Um(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Nb(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function ok(e){e.g||e.u||(e.Z=1,Jg(e.Ia,e),e.A=0)}function sk(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=_y(Um(e.Ia,e),hk(e,e.A)),e.A++,!0)}function uk(e){null!=e.B&&(Dm.clearTimeout(e.B),e.B=null)}function ck(e){e.g=new Dy(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Xy(e.sa);tb(t,"RID","rpc"),tb(t,"SID",e.I),tb(t,"CI",e.L?"0":"1"),tb(t,"AID",e.T),tb(t,"TYPE","xmlhttp"),ik(e,t),e.o&&e.s&&$b(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=nb(Xy(t)),n.s=null,n.P=!0,qy(n,e)}function lk(e){null!=e.v&&(Dm.clearTimeout(e.v),e.v=null)}function fk(e,t){var n=null;if(e.g==t){lk(e),uk(e),e.g=null;var r=2}else{if(!xb(e.h,t))return;n=t.D,Ib(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;zg(r=vy(),new ky(r,n)),nk(e)}else ok(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(wb(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=_y(Um(e.Ja,e,t),hk(e,e.C)),e.C++,!0))}(e,t)||2==r&&sk(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:dk(e,5);break;case 4:dk(e,10);break;case 3:dk(e,6);break;default:dk(e,2)}}function hk(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function dk(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Um(e.kb,e);n||(n=new $y("//www.google.com/images/cleardot.gif"),Dm.location&&"http"==Dm.location.protocol||Jy(n,"https"),nb(n)),function(e,t){var n=new fy;if(Dm.Image){var r=new Image;r.onload=Vm(Ab,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Vm(Ab,n,r,"TestLoadImage: error",!1,t),r.onabort=Vm(Ab,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Vm(Ab,n,r,"TestLoadImage: timeout",!1,t),Dm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else by(2);e.G=0,e.l&&e.l.va(t),pk(e),tk(e)}function pk(e){if(e.G=0,e.la=[],e.l){var t=Tb(e.h);0==t.length&&0==e.i.length||(Km(e.la,t),Km(e.la,e.i),e.h.i.length=0,Wm(e.i),e.i.length=0),e.l.ua()}}function vk(e,t,n){var r=n instanceof $y?Xy(n):new $y(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Zy(r,r.m);else{var i=Dm.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new $y(null,void 0);r&&Jy(a,r),t&&(a.g=t),i&&Zy(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&tb(r,n,t),tb(r,"VER",e.ma),ik(e,r),r}function mk(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new qb(new Pb({jb:!0})):new qb(e.ra)).Ka(e.H),t}function gk(){}function yk(){if(rg&&!(10<=Number(mg)))throw Error("Environmental error: no available transport.")}function bk(e,t){Bg.call(this),this.g=new Jb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Ym(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ym(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wk(this)}function kk(e){Ny.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _k(){Ay.call(this),this.status=1}function wk(e){this.g=e}(Cm=qb.prototype).Ka=function(e){this.L=e},Cm.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sy.g(),this.C=this.u?Iy(this.u):Iy(Sy),this.g.onreadystatechange=Um(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Bb(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=ui(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Dm.FormData&&e instanceof Dm.FormData,!(0<=Hm(Vb,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=ui(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Kb(this),0<this.B&&((this.K=function(e){return rg&&pg()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Um(this.qa,this)):this.A=iy(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Bb(this,s)}},Cm.qa=function(){"undefined"!=typeof Pm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zg(this,"timeout"),this.abort(8))},Cm.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,zg(this,"complete"),zg(this,"abort"),Wb(this))},Cm.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wb(this,!0)),qb.X.M.call(this)},Cm.Ha=function(){this.s||(this.F||this.v||this.l?Hb(this):this.fb())},Cm.fb=function(){Hb(this)},Cm.aa=function(){try{return 2<Gb(this)?this.g.status:-1}catch(bb){return-1}},Cm.fa=function(){try{return this.g?this.g.responseText:""}catch(bb){return""}},Cm.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),jb(t)}},Cm.Ea=function(){return this.m},Cm.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Cm=Jb.prototype).ma=8,Cm.G=1,Cm.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Dy(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Tg(n=Eg(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ak(this,t,r),tb(i=Xy(this.F),"RID",e),tb(i,"CVER",22),this.D&&tb(i,"X-HTTP-Session-Id",this.D),ik(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Yb(n)))+"&"+r:this.o&&$b(i,this.o,n)),Eb(this.h,t),this.Ya&&tb(i,"TYPE","init"),this.O?(tb(i,"$req",r),tb(i,"SID","null"),t.Z=!0,jy(t,i,null)):jy(t,i,r),this.G=2}}else 3==this.G&&(e?rk(this,e):0==this.i.length||_b(this.h)||rk(this))},Cm.Ia=function(){if(this.u=null,ck(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=_y(Um(this.eb,this),e)}},Cm.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,by(10),ek(this),ck(this))},Cm.cb=function(){null!=this.v&&(this.v=null,ek(this),sk(this),by(19))},Cm.kb=function(e){e?(this.j.info("Successfully pinged google.com"),by(2)):(this.j.info("Failed to ping google.com"),by(1))},(Cm=gk.prototype).xa=function(){},Cm.wa=function(){},Cm.va=function(){},Cm.ua=function(){},Cm.Ra=function(){},yk.prototype.g=function(e,t){return new bk(e,t)},Bm(bk,Bg),bk.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;by(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=vk(e,null,e.V),nk(e)},bk.prototype.close=function(){Zb(this.g)},bk.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Wg(e),e=n);t.i.push(new gb(t.ab++,e)),3==t.G&&nk(t)},bk.prototype.M=function(){this.g.l=null,delete this.j,Zb(this.g),delete this.g,bk.X.M.call(this)},Bm(kk,Ny),Bm(_k,Ay),Bm(wk,gk),wk.prototype.xa=function(){zg(this.g,"a")},wk.prototype.wa=function(e){zg(this.g,new kk(e))},wk.prototype.va=function(e){zg(this.g,new _k)},wk.prototype.ua=function(){zg(this.g,"b")},yk.prototype.createWebChannel=yk.prototype.g,bk.prototype.send=bk.prototype.u,bk.prototype.open=bk.prototype.m,bk.prototype.close=bk.prototype.close,wy.NO_ERROR=0,wy.TIMEOUT=8,wy.HTTP_ERROR=6,xy.COMPLETE="complete",Ty.EventType=Cy,Cy.OPEN="a",Cy.CLOSE="b",Cy.ERROR="c",Cy.MESSAGE="d",Bg.prototype.listen=Bg.prototype.N,qb.prototype.listenOnce=qb.prototype.O,qb.prototype.getLastError=qb.prototype.Oa,qb.prototype.getLastErrorCode=qb.prototype.Ea,qb.prototype.getStatus=qb.prototype.aa,qb.prototype.getResponseJson=qb.prototype.Sa,qb.prototype.getResponseText=qb.prototype.fa,qb.prototype.send=qb.prototype.da,qb.prototype.setWithCredentials=qb.prototype.Ka;var xk=Am.createWebChannelTransport=function(){return new yk},Ek=Am.getStatEventTarget=function(){return vy()},Ik=Am.ErrorCode=wy,Tk=Am.EventType=xy,Sk=Am.Event=dy,Ck=Am.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Nk=Am.FetchXmlHttpFactory=Pb,Ak=Am.WebChannel=Ty,Pk=Am.XhrIo=qb,Dk="@firebase/firestore",Ok=function(){function e(t){d(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ok.UNAUTHENTICATED=new Ok(null),Ok.GOOGLE_CREDENTIALS=new Ok("google-credentials-uid"),Ok.FIRST_PARTY=new Ok("first-party-uid"),Ok.MOCK_USER=new Ok("mock-user");var Rk="9.15.0",Lk=new tu("@firebase/firestore");function Mk(){return Lk.logLevel}function jk(e){if(Lk.logLevel<=Qs.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Uk);Lk.debug.apply(Lk,["Firestore (".concat(Rk,"): ").concat(e)].concat(h(i)))}}function qk(e){if(Lk.logLevel<=Qs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Uk);Lk.error.apply(Lk,["Firestore (".concat(Rk,"): ").concat(e)].concat(h(i)))}}function Fk(e){if(Lk.logLevel<=Qs.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Uk);Lk.warn.apply(Lk,["Firestore (".concat(Rk,"): ").concat(e)].concat(h(i)))}}function Uk(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Vk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Rk,") INTERNAL ASSERTION FAILED: ")+e;throw qk(t),new Error(t)}function Bk(e,t){e||Vk()}function zk(e,t){return e}var Hk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wk=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(bs),Kk=g((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Gk=g((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Qk=function(){function e(){d(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ok.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Yk=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),$k=function(){function e(t){d(this,e),this.t=t,this.currentUser=Ok.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Kk;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Kk,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){jk("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(jk("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Kk)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(jk("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Bk("string"==typeof n.accessToken),new Gk(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Bk(null===e||"string"==typeof e),new Ok(e)}}]),e}(),Xk=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Ok.FIRST_PARTY,this.p=new Map}return g(e,[{key:"I",value:function(){return this.g?this.g():(Bk(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Jk=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new Xk(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ok.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Zk=g((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),e_=function(){function e(t){d(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&jk("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,jk("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){jk("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):jk("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Bk("string"==typeof t.token),e.A=t.token,new Zk(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function t_(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var n_=function(){function e(){d(this,e)}return g(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=t_(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function r_(e,t){return e<t?-1:e>t?1:0}function i_(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function a_(e){return e+"\0"}var o_=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Wk(Hk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Wk(Hk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Wk(Hk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Wk(Hk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?r_(this.nanoseconds,e.nanoseconds):r_(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),s_=function(){function e(t){d(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new o_(0,0))}},{key:"max",value:function(){return new e(new o_(253402300799,999999999))}}]),e}(),u_=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&Vk(),void 0===r?r=t.length-n:r>t.length-n&&Vk(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),c_=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Wk(Hk.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(u_),l_=/^[_a-zA-Z][_a-zA-Z0-9]*$/,f_=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return l_.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Wk(Hk.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Wk(Hk.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Wk(Hk.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Wk(Hk.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(u_),h_=function(){function e(t){d(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===c_.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(c_.fromString(t))}},{key:"fromName",value:function(t){return new e(c_.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(c_.emptyPath())}},{key:"comparator",value:function(e,t){return c_.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new c_(t.slice()))}}]),e}(),d_=g((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function p_(e){return e.fields.find((function(e){return 2===e.kind}))}function v_(e){return e.fields.filter((function(e){return 2!==e.kind}))}d_.UNKNOWN_ID=-1;var m_=g((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var g_=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,k_.min())}}]),e}();function y_(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=s_.fromTimestamp(1e9===r?new o_(n+1,0):new o_(n,r));return new k_(i,h_.empty(),t)}function b_(e){return new k_(e.readTime,e.key,-1)}var k_=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(s_.min(),h_.empty(),-1)}},{key:"max",value:function(){return new e(s_.max(),h_.empty(),-1)}}]),e}();function __(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=h_.comparator(e.documentKey,t.documentKey))?n:r_(e.largestBatchId,t.largestBatchId)}var w_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",x_=function(){function e(){d(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function E_(e){return I_.apply(this,arguments)}function I_(){return I_=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Hk.FAILED_PRECONDITION&&t.message===w_){e.next=2;break}throw t;case 2:jk("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),I_.apply(this,arguments)}var T_=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Vk(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ui(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),S_=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Kk,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new A_(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=L_(e.target.error);r.P.reject(new A_(t,n))}}return g(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(jk("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new D_(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new A_(n,t)}}}]),e}(),C_=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(as())&&qk("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(e,[{key:"F",value:function(){var e=Go(Wo().mark((function e(t){var n=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return jk("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new A_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Wk(Hk.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Wk(Hk.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new A_(t,n))},i.onupgradeneeded=function(e){jk("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){jk("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Go(Wo().mark((function e(t,n,r,i){var a,o,s,u,c,l=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Wo().mark((function e(){var n,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=S_.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),T_.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,jk("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return jk("SimpleDb","Removing database:",e),O_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!hs())return!1;if(e.N())return!0;var t=as(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),N_=function(){function e(t){d(this,e),this.q=t,this.U=!1,this.K=null}return g(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return O_(this.q.delete())}}]),e}(),A_=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,Hk.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(Wk);function P_(e){return"IndexedDbTransactionError"===e.name}var D_=function(){function e(t){d(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(jk("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(jk("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),O_(n)}},{key:"add",value:function(e){return jk("SimpleDb","ADD",this.store.name,e,e),O_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return O_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),jk("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return jk("SimpleDb","DELETE",this.store.name,e),O_(this.store.delete(e))}},{key:"count",value:function(){return jk("SimpleDb","COUNT",this.store.name),O_(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new T_((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new T_((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){jk("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new T_((function(n,r){t.onerror=function(e){var t=L_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new T_((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new N_(i),o=t(i.primaryKey,i.value,a);if(o instanceof T_){var s=o.catch((function(e){return a.done(),T_.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return T_.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function O_(e){return new T_((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=L_(e.target.error);n(t)}}))}var R_=!1;function L_(e){var t=C_.D(as());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Wk("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return R_||(R_=!0,setTimeout((function(){throw r}),0)),r}}return e}var M_=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.et=n,this.task=null}return g(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;jk("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=jk,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!P_(e.t4)){e.next=17;break}jk("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,E_(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),j_=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return g(e,[{key:"st",value:function(){var e=Go(Wo().mark((function e(){var t,n=this,r=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return T_.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return jk("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return jk("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=b_(t);__(r,n)>0&&(n=r)})),new k_(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),q_=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();q_.at=-1;var F_=g((function e(t,n,r,i,a,o,s,u){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),U_=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function V_(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function B_(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function z_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function H_(e){return null==e}function W_(e){return 0===e&&1/e==-1/0}function K_(e){return"number"==typeof e&&Number.isInteger(e)&&!W_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var G_=function(e){function t(e){d(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return r_(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();G_.EMPTY_BYTE_STRING=new G_("");var Q_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Y_(e){if(Bk(!!e),"string"==typeof e){var t=0,n=Q_.exec(e);if(Bk(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:$_(e.seconds),nanos:$_(e.nanos)}}function $_(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function X_(e){return"string"==typeof e?G_.fromBase64String(e):G_.fromUint8Array(e)}function J_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Z_(e){var t=e.mapValue.fields.__previous_value__;return J_(t)?Z_(t):t}function ew(e){var t=Y_(e.mapValue.fields.__local_write_time__.timestampValue);return new o_(t.seconds,t.nanos)}var tw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},nw={nullValue:"NULL_VALUE"};function rw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?J_(e)?4:gw(e)?9007199254740991:10:Vk()}function iw(e,t){if(e===t)return!0;var n=rw(e);if(n!==rw(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ew(e).isEqual(ew(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Y_(e.timestampValue),r=Y_(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return X_(e.bytesValue).isEqual(X_(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return $_(e.geoPointValue.latitude)===$_(t.geoPointValue.latitude)&&$_(e.geoPointValue.longitude)===$_(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return $_(e.integerValue)===$_(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=$_(e.doubleValue),r=$_(t.doubleValue);return n===r?W_(n)===W_(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return i_(e.arrayValue.values||[],t.arrayValue.values||[],iw);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(V_(n)!==V_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!iw(n[i],r[i])))return!1;return!0}(e,t);default:return Vk()}}function aw(e,t){return void 0!==(e.values||[]).find((function(e){return iw(e,t)}))}function ow(e,t){if(e===t)return 0;var n=rw(e),r=rw(t);if(n!==r)return r_(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return r_(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=$_(e.integerValue||e.doubleValue),r=$_(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return sw(e.timestampValue,t.timestampValue);case 4:return sw(ew(e),ew(t));case 5:return r_(e.stringValue,t.stringValue);case 6:return function(e,t){var n=X_(e),r=X_(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=r_(n[i],r[i]);if(0!==a)return a}return r_(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=r_($_(e.latitude),$_(t.latitude));return 0!==n?n:r_($_(e.longitude),$_(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ow(n[i],r[i]);if(a)return a}return r_(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===tw.mapValue&&t===tw.mapValue)return 0;if(e===tw.mapValue)return 1;if(t===tw.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=r_(r[o],a[o]);if(0!==s)return s;var u=ow(n[r[o]],i[a[o]]);if(0!==u)return u}return r_(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Vk()}}function sw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return r_(e,t);var n=Y_(e),r=Y_(t),i=r_(n.seconds,r.seconds);return 0!==i?i:r_(n.nanos,r.nanos)}function uw(e){return cw(e)}function cw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Y_(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?X_(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,h_.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ui(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=cw(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ui(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(cw(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Vk();var t,n}function lw(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function fw(e){return!!e&&"integerValue"in e}function hw(e){return!!e&&"arrayValue"in e}function dw(e){return!!e&&"nullValue"in e}function pw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vw(e){return!!e&&"mapValue"in e}function mw(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return B_(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=mw(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=mw(e.arrayValue.values[r]);return n}return Object.assign({},e)}function gw(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function yw(e){return"nullValue"in e?nw:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?lw(U_.empty(),h_.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Vk()}function bw(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?lw(U_.empty(),h_.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?tw:Vk()}function kw(e,t){var n=ow(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function _w(e,t){var n=ow(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var ww=g((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function xw(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?h_.comparator(h_.fromName(o.referenceValue),n.key):ow(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ew(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!iw(e.position[n],t.position[n]))return!1;return!0}var Iw=g((function e(){d(this,e)})),Tw=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ow(t,this.value)):null!==t&&rw(this.value)===rw(t)&&this.matchesComparison(ow(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vk()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Mw(e,t,r):"array-contains"===t?new Uw(e,r):"in"===t?new Vw(e,r):"not-in"===t?new Bw(e,r):"array-contains-any"===t?new zw(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new jw(e,n):new qw(e,n)}}]),n}(Iw),Sw=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return g(n,[{key:"matches",value:function(e){return Cw(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=ui(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Iw);function Cw(e){return"and"===e.op}function Nw(e){return"or"===e.op}function Aw(e){return Pw(e)&&Cw(e)}function Pw(e){var t,n=ui(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Sw)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Dw(e){if(e instanceof Tw)return e.field.canonicalString()+e.op.toString()+uw(e.value);var t=e.filters.map((function(e){return Dw(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Ow(e,t){return e instanceof Tw?function(e,t){return t instanceof Tw&&e.op===t.op&&e.field.isEqual(t.field)&&iw(e.value,t.value)}(e,t):e instanceof Sw?function(e,t){return t instanceof Sw&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Ow(n,t.filters[r])}),!0)}(e,t):void Vk()}function Rw(e,t){var n=e.filters.concat(t);return Sw.create(n,e.op)}function Lw(e){return e instanceof Tw?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(uw(e.value))}(e):e instanceof Sw?function(e){return e.op.toString()+" {"+e.getFilters().map(Lw).join(" ,")+"}"}(e):"Filter"}var Mw=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=h_.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=h_.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Tw),jw=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=Fw("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Tw),qw=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=Fw("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Tw);function Fw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return h_.fromName(e.referenceValue)}))}var Uw=function(e){b(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return hw(t)&&aw(t.arrayValue,this.value)}}]),n}(Tw),Vw=function(e){b(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&aw(this.value.arrayValue,t)}}]),n}(Tw),Bw=function(e){b(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(aw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!aw(this.value.arrayValue,t)}}]),n}(Tw),zw=function(e){b(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!hw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return aw(t.value.arrayValue,e)}))}}]),n}(Tw),Hw=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function Ww(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Kw=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||Qw.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qw.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qw.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Gw(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Gw(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Gw(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Gw(this.root,e,this.comparator,!0)}}]),e}(),Gw=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Qw=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Vk();if(this.right.isRed())throw Vk();var e=this.left.check();if(e!==this.right.check())throw Vk();return e+(this.isRed()?0:1)}}]),e}();Qw.EMPTY=null,Qw.RED=!0,Qw.BLACK=!1,Qw.EMPTY=new(function(){function e(){d(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw Vk()}},{key:"value",get:function(){throw Vk()}},{key:"color",get:function(){throw Vk()}},{key:"left",get:function(){throw Vk()}},{key:"right",get:function(){throw Vk()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Qw(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Yw=function(){function e(t){d(this,e),this.comparator=t,this.data=new Kw(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new $w(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new $w(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),$w=function(){function e(t){d(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Xw(e){return e.hasNext()?e.getNext():void 0}var Jw=function(){function e(t){d(this,e),this.fields=t,t.sort(f_.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new Yw(f_.comparator),i=ui(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=ui(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ui(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return i_(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Zw=function(){function e(t){d(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!vw(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mw(t)}},{key:"setAll",value:function(e){var t=this,n=f_.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=mw(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());vw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return iw(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];vw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){B_(t,(function(t,n){return e[t]=n}));var r,i=ui(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(mw(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ex(e){var t=[];return B_(e.fields,(function(e,n){var r=new f_([e]);if(vw(n)){var i=ex(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ui(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Jw(t)}var tx=function(){function e(t,n,r,i,a,o,s){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(s_.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Zw.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Zw.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=s_.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,s_.min(),s_.min(),s_.min(),Zw.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,s_.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,s_.min(),s_.min(),Zw.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,s_.min(),s_.min(),Zw.empty(),2)}}]),e}(),nx=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function rx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new nx(e,t,n,r,i,a,o)}function ix(e){var t=zk(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Dw(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),H_(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return uw(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return uw(e)})).join(",")),t.ft=n}return t.ft}function ax(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ww(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Ow(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ew(e.startAt,t.startAt)&&Ew(e.endAt,t.endAt)}function ox(e){return h_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function sx(e,t){return e.filters.filter((function(e){return e instanceof Tw&&e.field.isEqual(t)}))}function ux(e,t,n){var r,i=nw,a=!0,o=ui(sx(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=nw,c=!0;switch(s.op){case"<":case"<=":u=yw(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=nw}kw({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];kw({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function cx(e,t,n){var r,i=tw,a=!0,o=ui(sx(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=tw,c=!0;switch(s.op){case">=":case">":u=bw(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=tw}_w({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];_w({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var lx=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function fx(e,t,n,r,i,a,o,s){return new lx(e,t,n,r,i,a,o,s)}function hx(e){return new lx(e)}function dx(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function px(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vx(e){var t,n=ui(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function mx(e){return null!==e.collectionGroup}function gx(e){var t=zk(e);if(null===t.dt){t.dt=[];var n=vx(t),r=px(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Hw(n)),t.dt.push(new Hw(f_.keyField(),"asc"));else{var i,a=!1,o=ui(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Hw(f_.keyField(),u))}}}return t.dt}function yx(e){var t=zk(e);if(!t._t)if("F"===t.limitType)t._t=rx(t.path,t.collectionGroup,gx(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ui(gx(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Hw(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new ww(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new ww(t.startAt.position,t.startAt.inclusive):null;t._t=rx(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function bx(e,t){t.getFirstInequalityField(),vx(e);var n=e.filters.concat([t]);return new lx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function kx(e,t,n){return new lx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _x(e,t){return ax(yx(e),yx(t))&&e.limitType===t.limitType}function wx(e){return"".concat(ix(yx(e)),"|lt:").concat(e.limitType)}function xx(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Lw(e)})).join(", "),"]")),H_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return uw(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return uw(e)})).join(",")),"Target(".concat(t,")")}(yx(e)),"; limitType=").concat(e.limitType,")")}function Ex(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):h_.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ui(gx(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ui(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=xw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,gx(e),t))&&!(e.endAt&&!function(e,t,n){var r=xw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,gx(e),t))}(e,t)}function Ix(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Tx(e){return function(t,n){var r,i=!1,a=ui(gx(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Sx(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Sx(e,t,n){var r=e.field.isKeyField()?h_.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ow(r,i):Vk()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Vk()}}function Cx(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:W_(t)?"-0":t}}function Nx(e){return{integerValue:""+e}}function Ax(e,t){return K_(t)?Nx(t):Cx(e,t)}var Px=g((function e(){d(this,e),this._=void 0}));function Dx(e,t,n){return e instanceof Lx?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Mx?jx(e,t):e instanceof qx?Fx(e,t):function(e,t){var n=Rx(e,t),r=Vx(n)+Vx(e.gt);return fw(n)&&fw(e.gt)?Nx(r):Cx(e.yt,r)}(e,t)}function Ox(e,t,n){return e instanceof Mx?jx(e,t):e instanceof qx?Fx(e,t):n}function Rx(e,t){return e instanceof Ux?fw(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Lx=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(Px),Mx=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(Px);function jx(e,t){var n,r=Bx(t),i=ui(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return iw(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var qx=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(Px);function Fx(e,t){var n,r=Bx(t),i=ui(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!iw(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ux=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return g(n)}(Px);function Vx(e){return $_(e.integerValue||e.doubleValue)}function Bx(e){return hw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var zx=g((function e(t,n){d(this,e),this.field=t,this.transform=n}));var Hx=g((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),Wx=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Kx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Gx=g((function e(){d(this,e)}));function Qx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new oE(e.key,Wx.none()):new Zx(e.key,e.data,Wx.none());var n,r=e.data,i=Zw.empty(),a=new Yw(f_.comparator),o=ui(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new eE(e.key,i,new Jw(a.toArray()),Wx.none())}function Yx(e,t,n){e instanceof Zx?function(e,t,n){var r=e.value.clone(),i=nE(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof eE?function(e,t,n){if(Kx(e.precondition,t)){var r=nE(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(tE(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function $x(e,t,n,r){return e instanceof Zx?function(e,t,n,r){if(!Kx(e.precondition,t))return n;var i=e.value.clone(),a=rE(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof eE?function(e,t,n,r){if(!Kx(e.precondition,t))return n;var i=rE(e.fieldTransforms,r,t),a=t.data;return a.setAll(tE(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Kx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Xx(e,t){var n,r=null,i=ui(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Rx(a.transform,o||null);null!=s&&(null===r&&(r=Zw.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Jx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&i_(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Mx&&t instanceof Mx||e instanceof qx&&t instanceof qx?i_(e.elements,t.elements,iw):e instanceof Ux&&t instanceof Ux?iw(e.gt,t.gt):e instanceof Lx&&t instanceof Lx}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Zx=function(e){b(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Gx),eE=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Gx);function tE(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function nE(e,t,n){var r=new Map;Bk(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ox(o,s,n[i]))}return r}function rE(e,t,n){var r,i=new Map,a=ui(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Dx(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var iE,aE,oE=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Gx),sE=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Gx),uE=g((function e(t){d(this,e),this.count=t}));function cE(e){switch(e){default:return Vk();case Hk.CANCELLED:case Hk.UNKNOWN:case Hk.DEADLINE_EXCEEDED:case Hk.RESOURCE_EXHAUSTED:case Hk.INTERNAL:case Hk.UNAVAILABLE:case Hk.UNAUTHENTICATED:return!1;case Hk.INVALID_ARGUMENT:case Hk.NOT_FOUND:case Hk.ALREADY_EXISTS:case Hk.PERMISSION_DENIED:case Hk.FAILED_PRECONDITION:case Hk.ABORTED:case Hk.OUT_OF_RANGE:case Hk.UNIMPLEMENTED:case Hk.DATA_LOSS:return!0}}function lE(e){if(void 0===e)return qk("GRPC error has no .code"),Hk.UNKNOWN;switch(e){case iE.OK:return Hk.OK;case iE.CANCELLED:return Hk.CANCELLED;case iE.UNKNOWN:return Hk.UNKNOWN;case iE.DEADLINE_EXCEEDED:return Hk.DEADLINE_EXCEEDED;case iE.RESOURCE_EXHAUSTED:return Hk.RESOURCE_EXHAUSTED;case iE.INTERNAL:return Hk.INTERNAL;case iE.UNAVAILABLE:return Hk.UNAVAILABLE;case iE.UNAUTHENTICATED:return Hk.UNAUTHENTICATED;case iE.INVALID_ARGUMENT:return Hk.INVALID_ARGUMENT;case iE.NOT_FOUND:return Hk.NOT_FOUND;case iE.ALREADY_EXISTS:return Hk.ALREADY_EXISTS;case iE.PERMISSION_DENIED:return Hk.PERMISSION_DENIED;case iE.FAILED_PRECONDITION:return Hk.FAILED_PRECONDITION;case iE.ABORTED:return Hk.ABORTED;case iE.OUT_OF_RANGE:return Hk.OUT_OF_RANGE;case iE.UNIMPLEMENTED:return Hk.UNIMPLEMENTED;case iE.DATA_LOSS:return Hk.DATA_LOSS;default:return Vk()}}(aE=iE||(iE={}))[aE.OK=0]="OK",aE[aE.CANCELLED=1]="CANCELLED",aE[aE.UNKNOWN=2]="UNKNOWN",aE[aE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",aE[aE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",aE[aE.NOT_FOUND=5]="NOT_FOUND",aE[aE.ALREADY_EXISTS=6]="ALREADY_EXISTS",aE[aE.PERMISSION_DENIED=7]="PERMISSION_DENIED",aE[aE.UNAUTHENTICATED=16]="UNAUTHENTICATED",aE[aE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",aE[aE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",aE[aE.ABORTED=10]="ABORTED",aE[aE.OUT_OF_RANGE=11]="OUT_OF_RANGE",aE[aE.UNIMPLEMENTED=12]="UNIMPLEMENTED",aE[aE.INTERNAL=13]="INTERNAL",aE[aE.UNAVAILABLE=14]="UNAVAILABLE",aE[aE.DATA_LOSS=15]="DATA_LOSS";var fE=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ui(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){B_(this.inner,(function(t,n){var r,i=ui(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return z_(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),hE=new Kw(h_.comparator);function dE(){return hE}var pE=new Kw(h_.comparator);function vE(){for(var e=pE,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function mE(e){var t=pE;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function gE(){return bE()}function yE(){return bE()}function bE(){return new fE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var kE=new Kw(h_.comparator),_E=new Yw(h_.comparator);function wE(){for(var e=_E,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var xE=new Yw(r_);function EE(){return xE}var IE=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,TE.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(s_.min(),i,EE(),dE(),wE())}}]),e}(),TE=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,wE(),wE(),wE())}}]),e}(),SE=g((function e(t,n,r,i){d(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),CE=g((function e(t,n){d(this,e),this.targetId=t,this.Et=n})),NE=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G_.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),AE=function(){function e(){d(this,e),this.At=0,this.Rt=OE(),this.bt=G_.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return g(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=wE(),t=wE(),n=wE();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Vk()}})),new TE(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=OE()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),PE=function(){function e(t){d(this,e),this.$t=t,this.Bt=new Map,this.Lt=dE(),this.qt=DE(),this.Ut=new Yw(r_)}return g(e,[{key:"Kt",value:function(e){var t,n=ui(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=ui(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Vk()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(ox(i))if(0===n){var a=new h_(i.path);this.Qt(t,a,tx.newNoDocument(a,s_.min()))}else Bk(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&ox(a.target)){var o=new h_(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,tx.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=wE();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new IE(e,n,this.Ut,this.Lt,r);return this.Lt=dE(),this.qt=DE(),this.Ut=new Yw(r_),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new AE,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Yw(r_),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||jk("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new AE),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function DE(){return new Kw(h_.comparator)}function OE(){return new Kw(h_.comparator)}var RE={asc:"ASCENDING",desc:"DESCENDING"},LE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ME={and:"AND",or:"OR"},jE=g((function e(t,n){d(this,e),this.databaseId=t,this.wt=n}));function qE(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function FE(e,t){return e.wt?t.toBase64():t.toUint8Array()}function UE(e,t){return qE(e,t.toTimestamp())}function VE(e){return Bk(!!e),s_.fromTimestamp(function(e){var t=Y_(e);return new o_(t.seconds,t.nanos)}(e))}function BE(e,t){return function(e){return new c_(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function zE(e){var t=c_.fromString(e);return Bk(hI(t)),t}function HE(e,t){return BE(e.databaseId,t.path)}function WE(e,t){var n=zE(t);if(n.get(1)!==e.databaseId.projectId)throw new Wk(Hk.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wk(Hk.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new h_(YE(n))}function KE(e,t){return BE(e.databaseId,t)}function GE(e){var t=zE(e);return 4===t.length?c_.emptyPath():YE(t)}function QE(e){return new c_(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function YE(e){return Bk(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function $E(e,t,n){return{name:HE(e,t),fields:n.value.mapValue.fields}}function XE(e,t,n){var r=WE(e,t.name),i=VE(t.updateTime),a=t.createTime?VE(t.createTime):s_.min(),o=new Zw({mapValue:{fields:t.fields}}),s=tx.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function JE(e,t){return"found"in t?function(e,t){Bk(!!t.found),t.found.name,t.found.updateTime;var n=WE(e,t.found.name),r=VE(t.found.updateTime),i=t.found.createTime?VE(t.found.createTime):s_.min(),a=new Zw({mapValue:{fields:t.found.fields}});return tx.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Bk(!!t.missing),Bk(!!t.readTime);var n=WE(e,t.missing),r=VE(t.readTime);return tx.newNoDocument(n,r)}(e,t):Vk()}function ZE(e,t){var n;if(t instanceof Zx)n={update:$E(e,t.key,t.value)};else if(t instanceof oE)n={delete:HE(e,t.key)};else if(t instanceof eE)n={update:$E(e,t.key,t.data),updateMask:fI(t.fieldMask)};else{if(!(t instanceof sE))return Vk();n={verify:HE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Lx)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Mx)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof qx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ux)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Vk()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:UE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Vk()}(e,t.precondition)),n}function eI(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Wx.updateTime(VE(e.updateTime)):void 0!==e.exists?Wx.exists(e.exists):Wx.none()}(t.currentDocument):Wx.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Bk("REQUEST_TIME"===t.setToServerValue),n=new Lx;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Mx(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new qx(i)}else"increment"in t?n=new Ux(e,t.increment):Vk();var a=f_.fromServerFormat(t.fieldPath);return new zx(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=WE(e,t.update.name),a=new Zw({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Jw(t.map((function(e){return f_.fromServerFormat(e)})))}(t.updateMask);return new eE(i,a,o,n,r)}return new Zx(i,a,n,r)}if(t.delete){var s=WE(e,t.delete);return new oE(s,n)}if(t.verify){var u=WE(e,t.verify);return new sE(u,n)}return Vk()}function tI(e,t){return{documents:[KE(e,t.path)]}}function nI(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=KE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=KE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return lI(Sw.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:uI(e.field),direction:aI(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.wt||H_(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function rI(e){var t=GE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Bk(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=iI(e);return t instanceof Sw&&Aw(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Hw(cI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return H_(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ww(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ww(n,t)}(n.endAt)),fx(t,i,s,o,u,"F",c,l)}function iI(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=cI(e.unaryFilter.field);return Tw.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=cI(e.unaryFilter.field);return Tw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=cI(e.unaryFilter.field);return Tw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=cI(e.unaryFilter.field);return Tw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Vk()}}(e):void 0!==e.fieldFilter?function(e){return Tw.create(cI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vk()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Sw.create(e.compositeFilter.filters.map((function(e){return iI(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Vk()}}(e.compositeFilter.op))}(e):Vk()}function aI(e){return RE[e]}function oI(e){return LE[e]}function sI(e){return ME[e]}function uI(e){return{fieldPath:e.canonicalString()}}function cI(e){return f_.fromServerFormat(e.fieldPath)}function lI(e){return e instanceof Tw?function(e){if("=="===e.op){if(pw(e.value))return{unaryFilter:{field:uI(e.field),op:"IS_NAN"}};if(dw(e.value))return{unaryFilter:{field:uI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pw(e.value))return{unaryFilter:{field:uI(e.field),op:"IS_NOT_NAN"}};if(dw(e.value))return{unaryFilter:{field:uI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uI(e.field),op:oI(e.op),value:e.value}}}(e):e instanceof Sw?function(e){var t=e.getFilters().map((function(e){return lI(e)}));return 1===t.length?t[0]:{compositeFilter:{op:sI(e.op),filters:t}}}(e):Vk()}function fI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function hI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function dI(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=vI(t)),t=pI(e.get(n),t);return vI(t)}function pI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function vI(e){return e+"\x01\x01"}function mI(e){var t=e.length;if(Bk(t>=2),2===t)return Bk("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),c_.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Vk(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Vk()}a=o+2}return new c_(r)}var gI=["userId","batchId"];function yI(e,t){return[e,dI(t)]}function bI(e,t,n){return[e,dI(t),n]}var kI={},_I=["prefixPath","collectionGroup","readTime","documentId"],wI=["prefixPath","collectionGroup","documentId"],xI=["collectionGroup","readTime","prefixPath","documentId"],EI=["canonicalId","targetId"],II=["targetId","path"],TI=["path","targetId"],SI=["collectionId","parent"],CI=["indexId","uid"],NI=["uid","sequenceNumber"],AI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],PI=["indexId","uid","orderedDocumentKey"],DI=["userId","collectionPath","documentId"],OI=["userId","collectionPath","largestBatchId"],RI=["userId","collectionGroup","largestBatchId"],LI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),MI=[].concat(h(LI),["documentOverlays"]),jI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qI=jI,FI=[].concat(qI,["indexConfiguration","indexState","indexEntries"]),UI=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return g(n)}(x_);function VI(e,t){var n=zk(e);return C_.M(n.se,t)}var BI=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Yx(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ui(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=$x(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=ui(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=$x(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=yE();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Qx(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(s_.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),wE())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&i_(this.mutations,e.mutations,(function(e,t){return Jx(e,t)}))&&i_(this.baseMutations,e.baseMutations,(function(e,t){return Jx(e,t)}))}}]),e}(),zI=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){Bk(t.mutations.length===r.length);for(var i=kE,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),HI=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),WI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s_.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s_.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:G_.EMPTY_BYTE_STRING;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),KI=g((function e(t){d(this,e),this.ie=t}));function GI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:QI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:HE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:qE(e,t.version.toTimestamp()),createTime:qE(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:YI(t.version)};else{if(!t.isUnknownDocument())return Vk();r.unknownDocument={path:n.path.toArray(),version:YI(t.version)}}return r}function QI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function YI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function $I(e){var t=new o_(e.seconds,e.nanoseconds);return s_.fromTimestamp(t)}function XI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return eI(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return eI(e.ie,t)})),s=o_.fromMillis(t.localWriteTimeMs);return new BI(t.batchId,s,n,o)}function JI(e){var t,n,r=$I(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?$I(e.lastLimboFreeSnapshotVersion):s_.min();return void 0!==e.query.documents?(Bk(1===(n=e.query).documents.length),t=yx(hx(GE(n.documents[0])))):t=function(e){return yx(rI(e))}(e.query),new WI(t,e.targetId,0,e.lastListenSequenceNumber,r,i,G_.fromBase64String(e.resumeToken))}function ZI(e,t){var n,r=YI(t.snapshotVersion),i=YI(t.lastLimboFreeSnapshotVersion);n=ox(t.target)?tI(e.ie,t.target):nI(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ix(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function eT(e){var t=rI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?kx(t,t.limit,"L"):t}function tT(e,t){return new HI(t.largestBatchId,eI(e.ie,t.overlayMutation))}function nT(e,t){var n=t.path.lastSegment();return[e,dI(t.path.popLast()),n]}function rT(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:YI(r.readTime),documentKey:dI(r.documentKey.path),largestBatchId:r.largestBatchId}}var iT=function(){function e(){d(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return aT(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:$I(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return aT(e).put({bundleId:(n=t).id,createTime:YI(VE(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return oT(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:eT(t.bundledQuery),readTime:$I(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return oT(e).put(function(e){return{name:e.name,readTime:YI(VE(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function aT(e){return VI(e,"bundles")}function oT(e){return VI(e,"namedQueries")}var sT=function(){function e(t,n){d(this,e),this.yt=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return uT(e).get(nT(this.userId,t)).next((function(e){return e?tT(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=gE();return T_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new HI(t,a);i.push(r.oe(e,o))})),T_.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(dI(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(uT(e).Y("collectionPathOverlayIndex",i))})),T_.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=gE(),a=dI(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return uT(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=ui(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=tT(r.yt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=gE(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return uT(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=tT(a.yt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return uT(e).put(function(e,t,n){var r=l(nT(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ZE(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function uT(e){return VI(e,"documentOverlays")}var cT=function(){function e(){d(this,e)}return g(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le($_(e.integerValue));else if("doubleValue"in e){var n=$_(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),W_(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(X_(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?gw(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Vk()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=ui(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),h_.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function lT(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function fT(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=lT(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}cT.Ie=new cT;var hT=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=ui(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=ui(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=fT(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=fT(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),dT=function(){function e(t){d(this,e),this.$e=t}return g(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),pT=function(){function e(t){d(this,e),this.$e=t}return g(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),vT=function(){function e(){d(this,e),this.$e=new hT,this.Be=new dT(this.$e),this.Le=new pT(this.$e)}return g(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),mT=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function gT(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=yT(e.arrayValue,t.arrayValue))?n:0!==(n=yT(e.directionalValue,t.directionalValue))?n:h_.comparator(e.documentKey,t.documentKey)}function yT(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var bT=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=ui(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return g(e,[{key:"je",value:function(e){Bk(e.collectionGroup===this.collectionId);var t=p_(e);if(void 0!==t&&!this.We(t))return!1;for(var n=v_(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=ui(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function kT(e){var t,n;if(Bk(e instanceof Tw||e instanceof Sw),e instanceof Tw){if(e instanceof Vw){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Tw.create(e.field,"==",t)})))||[];return Sw.create(r,"or")}return e}var i=e.filters.map((function(e){return kT(e)}));return Sw.create(i,e.op)}function _T(e){if(0===e.getFilters().length)return[];var t=IT(kT(e));return Bk(ET(t)),wT(t)||xT(t)?[t]:t.getFilters()}function wT(e){return e instanceof Tw}function xT(e){return e instanceof Sw&&Aw(e)}function ET(e){return wT(e)||xT(e)||function(e){if(e instanceof Sw&&Nw(e)){var t,n=ui(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!wT(r)&&!xT(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function IT(e){if(Bk(e instanceof Tw||e instanceof Sw),e instanceof Tw)return e;if(1===e.filters.length)return IT(e.filters[0]);var t=e.filters.map((function(e){return IT(e)})),n=Sw.create(t,e.op);return ET(n=CT(n))?n:(Bk(n instanceof Sw),Bk(Cw(n)),Bk(n.filters.length>1),n.filters.reduce((function(e,t){return TT(e,t)})))}function TT(e,t){var n;return Bk(e instanceof Tw||e instanceof Sw),Bk(t instanceof Tw||t instanceof Sw),n=e instanceof Tw?t instanceof Tw?function(e,t){return Sw.create([e,t],"and")}(e,t):ST(e,t):t instanceof Tw?ST(t,e):function(e,t){if(Bk(e.filters.length>0&&t.filters.length>0),Cw(e)&&Cw(t))return Rw(e,t.getFilters());var n=Nw(e)?e:t,r=Nw(e)?t:e,i=n.filters.map((function(e){return TT(e,r)}));return Sw.create(i,"or")}(e,t),CT(n)}function ST(e,t){if(Cw(t))return Rw(t,e.getFilters());var n=t.filters.map((function(t){return TT(e,t)}));return Sw.create(n,"or")}function CT(e){if(Bk(e instanceof Tw||e instanceof Sw),e instanceof Tw)return e;var t=e.getFilters();if(1===t.length)return CT(t[0]);if(Pw(e))return e;var n=t.map((function(e){return CT(e)})),r=[];return n.forEach((function(t){t instanceof Tw?r.push(t):t instanceof Sw&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:Sw.create(r,e.op)}var NT=function(){function e(){d(this,e),this.Je=new AT}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),T_.resolve()}},{key:"getCollectionParents",value:function(e,t){return T_.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return T_.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return T_.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return T_.resolve(null)}},{key:"getIndexType",value:function(e,t){return T_.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return T_.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return T_.resolve(null)}},{key:"getMinOffset",value:function(e,t){return T_.resolve(k_.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return T_.resolve(k_.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return T_.resolve()}},{key:"updateIndexEntries",value:function(e,t){return T_.resolve()}}]),e}(),AT=function(){function e(){d(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Yw(c_.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Yw(c_.comparator)).toArray()}}]),e}(),PT=new Uint8Array(0),DT=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.Ye=new AT,this.Xe=new fE((function(e){return ix(e)}),(function(e,t){return ax(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:dI(i)};return OT(e).put(a)}return T_.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[a_(t),""],!1,!0);return OT(e).W(r).next((function(e){var r,i=ui(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(mI(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=LT(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=MT(e);return a.next((function(e){o.put(rT(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=LT(e),r=MT(e),i=RT(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=RT(e),i=!0,a=new Map;return T_.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=wE(),o=[];return T_.forEach(a,(function(i,a){var s;jk("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ix(t)));var u=function(e,t){var n=p_(t);if(void 0===n)return null;var r,i=ui(sx(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=ui(v_(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=ui(sx(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=ui(v_(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?ux(e,o.fieldPath,e.startAt):cx(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new ww(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=ui(v_(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?cx(e,o.fieldPath,e.endAt):ux(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new ww(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return T_.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=h_.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return T_.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:_T(Sw.create(e.filters,"and")).map((function(t){return rx(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.rn(t[u/c]):PT,d=s.on(e,f,n[u%c],r),p=s.un(e,f,i[u%c],a),v=o.map((function(t){return s.on(e,f,t,!0)}));l.push.apply(l,h(s.createRange(d,p,v)))},d=0;d<u;++d)f(d);return l}},{key:"on",value:function(e,t,n,r){var i=new mT(e,h_.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new mT(e,h_.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new bT(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=ui(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return T_.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Yw(f_.comparator),r=!1,i=ui(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=ui(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=ui(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new vT,i=ui(v_(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.qe(a.kind);cT.Ie.ue(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new vT;return cT.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new vT;return cT.Ie.ue(lw(this.databaseId,t),n.qe(function(e){var t=v_(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new vT);var i,a=0,o=ui(v_(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=ui(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.hn(t,u.fieldPath)&&hw(c))r=this.ln(r,u,c);else{var h=f.qe(u.kind);cT.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=h(e),a=[],o=ui(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=ui(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new vT;f.seed(l.Fe()),cT.Ie.ue(u,f.qe(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Tw&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=LT(e),i=MT(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return T_.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new g_(t.sequenceNumber,new k_($I(t.readTime),new h_(mI(t.documentKey)),t.largestBatchId)):g_.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new m_(f_.fromServerFormat(n),r)}));return new d_(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:r_(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=LT(e),a=MT(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return T_.forEach(t,(function(t){return a.put(rT(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return T_.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?T_.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),T_.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?T_.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return RT(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return RT(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=RT(e),i=new Yw(gT);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new mT(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Yw(gT),r=this.cn(t,e);if(null==r)return n;var i=p_(t);if(null!=i){var a=e.data.field(i.fieldPath);if(hw(a)){var o,s=ui(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new mT(t.indexId,e.key,this.rn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new mT(t.indexId,e.key,PT,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;jk("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Xw(a),u=Xw(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Xw(o)):l?(i(s),s=Xw(a)):(s=Xw(a),u=Xw(o))}}(r,i,gT,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),T_.waitFor(o)}},{key:"dn",value:function(e){var t=1;return MT(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return gT(e,t)})).filter((function(e,t,n){return!t||0!==gT(e,n[t-1])}));var r=[];r.push(e);var i,a=ui(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=gT(o,e),u=gT(o,t);if(0===s)r[0]=e.Ue();else if(s>0&&u<0)r.push(o),r.push(o.Ue());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,PT,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,PT,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return gT(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(jT)}},{key:"getMinOffset",value:function(e,t){var n=this;return T_.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||Vk()}))})).next(jT)}}]),e}();function OT(e){return VI(e,"collectionParents")}function RT(e){return VI(e,"indexEntries")}function LT(e){return VI(e,"indexConfiguration")}function MT(e){return VI(e,"indexState")}function jT(e){Bk(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;__(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new k_(t.readTime,t.documentKey,n)}var qT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FT=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function UT(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Bk(1===s)})));var c,l=[],f=ui(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=bI(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return T_.waitFor(a).next((function(){return l}))}function VT(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Vk();t=e.noDocument}return JSON.stringify(t).length}FT.DEFAULT_COLLECTION_PERCENTILE=10,FT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,FT.DEFAULT=new FT(41943040,FT.DEFAULT_COLLECTION_PERCENTILE,FT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),FT.DISABLED=new FT(-1,0,0);var BT=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return HT(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=WT(e),o=HT(e);return o.add({}).next((function(s){Bk("number"==typeof s);var u,c=new BI(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ZE(e.ie,t)})),i=n.mutations.map((function(t){return ZE(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new Yw((function(e,t){return r_(e.canonicalString(),t.canonicalString())})),d=ui(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=bI(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,kI))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=c.keys()})),T_.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return HT(e).get(t).next((function(e){return e?(Bk(e.userId===n.userId),XI(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?T_.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return HT(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Bk(t.batchId>=r),a=XI(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return HT(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return HT(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return XI(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=yI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return WT(e).Z({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],h=mI(c);if(u===n.userId&&t.path.isEqual(h))return HT(e).get(f).next((function(e){if(!e)throw Vk();Bk(e.userId===n.userId),a.push(XI(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Yw(r_),i=[];return t.forEach((function(t){var a=yI(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=WT(e).Z({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=mI(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),T_.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=yI(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Yw(r_);return WT(e).Z({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],h=mI(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(HT(e).get(t).next((function(e){if(null===e)throw Vk();Bk(e.userId===n.userId),r.push(XI(n.yt,e))})))})),T_.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return UT(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),T_.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return T_.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return WT(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=mI(e[1]);i.push(a)}else r.done()})).next((function(){Bk(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return zT(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return KT(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return Bk(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function zT(e,t,n){var r=yI(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return WT(e).Z({range:a,X:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function HT(e){return VI(e,"mutations")}function WT(e){return VI(e,"documentMutations")}function KT(e){return VI(e,"mutationQueues")}var GT=function(){function e(t){d(this,e),this.bn=t}return g(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),QT=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.yt=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new GT(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return s_.fromTimestamp(new o_(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return YT(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Bk(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return YT(e).Z((function(o,s){var u=JI(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return T_.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return YT(e).Z((function(e,n){var r=JI(n);t(r)}))}},{key:"Vn",value:function(e){return $T(e).get("targetGlobalKey").next((function(e){return Bk(null!==e),e}))}},{key:"Sn",value:function(e,t){return $T(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return YT(e).put(ZI(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ix(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return YT(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=JI(n);ax(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=XT(e);return t.forEach((function(t){var o=dI(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),T_.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=XT(e);return T_.forEach(t,(function(t){var a=dI(t.path);return T_.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=XT(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=XT(e),i=wE();return r.Z({range:n,X:!0},(function(e,t,n){var r=mI(e[1]),a=new h_(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=dI(t.path),r=IDBKeyRange.bound([n],[a_(n)],!1,!0),i=0;return XT(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return YT(e).get(t).next((function(e){return e?JI(e):null}))}}]),e}();function YT(e){return VI(e,"targets")}function $T(e){return VI(e,"targetGlobal")}function XT(e){return VI(e,"targetDocuments")}function JT(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=r_(r,o);return 0===u?r_(i,s):u}var ZT=function(){function e(t){d(this,e),this.xn=t,this.buffer=new Yw(JT),this.Nn=0}return g(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();JT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),eS=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;jk("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!P_(e.t0)){e.next=12;break}jk("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,E_(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),tS=function(){function e(t,n){d(this,e),this.$n=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return T_.resolve(q_.at);var r=new ZT(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(jk("LruGarbageCollector","Garbage collection skipped; disabled"),T_.resolve(qT)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(jk("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),qT):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(jk("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Mk()<=Qs.DEBUG&&jk("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),T_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),nS=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=function(e,t){return new tS(e,t)}(this,n)}return g(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return rS(e,n)}},{key:"removeReference",value:function(e,t,n){return rS(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return rS(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return KT(e).tt((function(r){return zT(e,r,t).next((function(e){return e&&(n=!0),T_.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,s){if(s<=t){var u=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,s_.min()),XT(e).delete([0,dI(o.path)])}))}));i.push(u)}})).next((function(){return T_.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return rS(e,t)}},{key:"Kn",value:function(e,t){var n,r=XT(e),i=q_.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==q_.at&&t(new h_(mI(n)),i),i=u,n=s):i=q_.at})).next((function(){i!==q_.at&&t(new h_(mI(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function rS(e,t){return XT(e).put(function(e,t){return{targetId:0,path:dI(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var iS=function(){function e(){d(this,e),this.changes=new fE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,tx.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?T_.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),aS=function(){function e(t){d(this,e),this.yt=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return cS(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return cS(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],QI(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=tx.newInvalidDocument(t);return cS(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(lS(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:tx.newInvalidDocument(t)};return cS(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(lS(t))},(function(e,i){r={document:n.jn(t,i),size:VT(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=dE();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=dE(),i=new Kw(h_.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,VT(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return T_.resolve();var r=new Yw(hS);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(lS(r.first()),lS(r.last())),a=r.getIterator(),o=a.getNext();return cS(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=h_.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&hS(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(lS(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),QI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cS(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=dE(),i=ui(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(h_.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=dE(),o=fS(t,n),s=fS(t,k_.max());return cS(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.jn(h_.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new sS(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return uS(e).get("remoteDocumentGlobalKey").next((function(e){return Bk(!!e),e}))}},{key:"Qn",value:function(e,t){return uS(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=XE(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=h_.fromSegments(t.noDocument.path),i=$I(t.noDocument.readTime);n=tx.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Vk();var a=h_.fromSegments(t.unknownDocument.path),o=$I(t.unknownDocument.version);n=tx.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new o_(e[0],e[1]);return s_.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(s_.min()))return n}return tx.newInvalidDocument(e)}}]),e}();function oS(e){return new aS(e)}var sS=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new fE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Yw((function(e,t){return r_(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=GI(t.Yn.yt,o);i=i.add(a.path.popLast());var c=VT(u);r+=c-s.size,n.push(t.Yn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=GI(t.Yn.yt,o.convertToNoDocument(s_.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),T_.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(iS);function uS(e){return VI(e,"remoteDocumentGlobal")}function cS(e){return VI(e,"remoteDocumentsV14")}function lS(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function fS(e,t){var n=t.documentKey.path.toArray();return[e,QI(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function hS(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=r_(n[a],r[a]))return i;return(i=r_(n.length,r.length))||((i=r_(n[n.length-2],r[r.length-2]))||r_(n[n.length-1],r[r.length-1]))}var dS=g((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),pS=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&$x(r.mutation,e,Jw.empty(),o_.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,wE()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wE(),i=gE();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=vE();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=gE();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,wE())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=dE(),a=bE(),o=bE();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof eE)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),$x(o.mutation,t,o.mutation.getFieldMask(),o_.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new dS(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=bE(),i=new Kw((function(e,t){return e-t})),a=wE();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=ui(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Jw.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||wE()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=yE();c.forEach((function(e){if(!a.has(e)){var n=Qx(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return T_.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return h_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):T_.resolve(gE()),s=-1,u=a;return o.next((function(t){return T_.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?T_.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,wE())})).next((function(e){return{batchId:s,changes:mE(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new h_(t)).next((function(e){var t=vE();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=vE();return this.indexManager.getCollectionParents(e,i).next((function(o){return T_.forEach(o,(function(o){var s=function(e,t){return new lx(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,tx.newInvalidDocument(n)))}));var n=vE();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&$x(a.mutation,i,Jw.empty(),o_.now()),Ex(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),vS=function(){function e(t){d(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return T_.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:VE(n.createTime)}),T_.resolve()}},{key:"getNamedQuery",value:function(e,t){return T_.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:eT(e.bundledQuery),readTime:VE(e.readTime)}}(t)),T_.resolve()}}]),e}(),mS=function(){function e(){d(this,e),this.overlays=new Kw(h_.comparator),this.es=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return T_.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=gE();return T_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),T_.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),T_.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=gE(),i=t.length+1,a=new h_(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return T_.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Kw((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=gE(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=gE(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return T_.resolve(u)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new HI(t,n));var a=this.es.get(t);void 0===a&&(a=wE(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),gS=function(){function e(){d(this,e),this.ns=new Yw(yS.ss),this.rs=new Yw(yS.os)}return g(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new yS(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new yS(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new h_(new c_([])),r=new yS(n,e),i=new yS(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new h_(new c_([])),n=new yS(t,e),r=new yS(t,e+1),i=wE();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new yS(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),yS=function(){function e(t,n){d(this,e),this.key=t,this._s=n}return g(e,null,[{key:"ss",value:function(e,t){return h_.comparator(e.key,t.key)||r_(e._s,t._s)}},{key:"os",value:function(e,t){return r_(e._s,t._s)||h_.comparator(e.key,t.key)}}]),e}(),bS=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Yw(yS.ss)}return g(e,[{key:"checkEmpty",value:function(e){return T_.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new BI(i,t,n,r);this.mutationQueue.push(a);var o,s=ui(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new yS(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return T_.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return T_.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return T_.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return T_.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return T_.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new yS(t,0),i=new yS(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),T_.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Yw(r_);return t.forEach((function(e){var t=new yS(e,0),i=new yS(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),T_.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;h_.isDocumentKey(i)||(i=i.child(""));var a=new yS(new h_(i),0),o=new Yw(r_);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),T_.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Bk(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return T_.forEach(t.mutations,(function(i){var a=new yS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new yS(t,0),r=this.gs.firstAfterOrEqual(n);return T_.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,T_.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),kS=function(){function e(t){d(this,e),this.Es=t,this.docs=new Kw(h_.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return T_.resolve(n?n.document.mutableCopy():tx.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=dE();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():tx.newInvalidDocument(e))})),T_.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=dE(),i=new h_(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||__(b_(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return T_.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Vk()}},{key:"As",value:function(e,t){return T_.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new _S(this)}},{key:"getSize",value:function(e){return T_.resolve(this.size)}}]),e}(),_S=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).Yn=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),T_.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(iS),wS=function(){function e(t){d(this,e),this.persistence=t,this.Rs=new fE((function(e){return ix(e)}),ax),this.lastRemoteSnapshotVersion=s_.min(),this.highestTargetId=0,this.bs=0,this.Ps=new gS,this.targetCount=0,this.vs=GT.Pn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),T_.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return T_.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return T_.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),T_.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),T_.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new GT(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,T_.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),T_.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,T_.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),T_.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return T_.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return T_.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),T_.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),T_.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),T_.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return T_.resolve(n)}},{key:"containsKey",value:function(e,t){return T_.resolve(this.Ps.containsKey(t))}}]),e}(),xS=function(){function e(t,n){var r=this;d(this,e),this.Vs={},this.overlays={},this.Ss=new q_(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new wS(this),this.indexManager=new NT,this.remoteDocumentCache=new kS((function(e){return r.referenceDelegate.xs(e)})),this.yt=new KI(n),this.Ns=new vS(this.yt)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new mS,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new bS(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;jk("MemoryPersistence","Starting transaction:",e);var i=new ES(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return T_.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ES=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(x_),IS=function(){function e(t){d(this,e),this.persistence=t,this.Fs=new gS,this.$s=null}return g(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Vk()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),T_.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),T_.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),T_.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T_.forEach(this.Ls,(function(r){var i=h_.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,s_.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return T_.or([function(){return T_.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),TS=function(){function e(t){d(this,e),this.yt=t}return g(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new S_("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gI,{unique:!0}),e.createObjectStore("documentMutations")}(e),SS(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=T_.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),SS(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:s_.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gI,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return T_.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:DI});t.createIndex("collectionPathOverlayIndex",OI,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",RI,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:_I});t.createIndex("documentKeyIndex",wI),t.createIndex("collectionGroupIndex",xI)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:CI}).createIndex("sequenceNumberIndex",NI,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:AI}).createIndex("documentKeyIndex",PI,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=VT(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return T_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return T_.forEach(r,(function(r){Bk(r.userId===n.userId);var i=XI(t.yt,r);return UT(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new c_(n),o=function(e){return[0,dI(e)]}(a);r.push(t.get(o).next((function(n){return n?T_.resolve():function(n){return t.put({targetId:0,path:dI(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return T_.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:SI});var n=t.store("collectionParents"),r=new AT,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:dI(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new c_(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],mI(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=JI(r),a=ZI(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new h_(c_.fromString(i.document.name).popFirst(5)):i.noDocument?h_.fromSegments(i.noDocument.path):i.unknownDocument?h_.fromSegments(i.unknownDocument.path):Vk()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return T_.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=oS(this.yt),a=new xS(IS.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:wE();XI(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),T_.forEach(r,(function(e,r){var o=new Ok(r),s=sT.re(n.yt,o),u=a.getIndexManager(o),c=BT.re(o,n.yt,u,a.referenceDelegate);return new pS(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new UI(t,q_.at),e).next()}))}))}}]),e}();function SS(e){e.createObjectStore("targetDocuments",{keyPath:II}).createIndex("documentTargetsIndex",TI,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",EI,{unique:!0}),e.createObjectStore("targetGlobal")}var CS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",NS=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=s,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Wk(Hk.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nS(this,i),this.ii=n+"main",this.yt=new KI(u),this.ri=new C_(this.ii,this.Xs,new TS(this.yt)),this.Cs=new QT(this.referenceDelegate,this.yt),this.remoteDocumentCache=oS(this.yt),this.Ns=new iT,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&qk("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Wk(Hk.FAILED_PRECONDITION,CS);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new q_(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Go(Wo().mark((function n(r){return Wo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Go(Wo().mark((function t(n){return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return PS(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(P_(t))return jk("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return jk("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return AS(e).get("owner").next((function(e){return T_.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return PS(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Go(Wo().mark((function e(){var t,n,r,i,a=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=VI(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return T_.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=ui(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?T_.resolve(!0):AS(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Wk(Hk.FAILED_PRECONDITION,CS);return!1}}return!(!t.networkEnabled||!t.inForeground)||PS(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&jk("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Go(Wo().mark((function e(){var t=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new UI(e,q_.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return PS(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return BT.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new DT(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return sT.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;jk("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Xs)?FI:14===i?qI:13===i?jI:12===i?MI:11===i?LI:void Vk();return this.ri.runTransaction(e,o,s,(function(i){return a=new UI(i,r.Ss?r.Ss.next():q_.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw qk("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Wk(Hk.FAILED_PRECONDITION,w_);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return AS(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Wk(Hk.FAILED_PRECONDITION,CS)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return AS(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=AS(e);return n.get("owner").next((function(e){return t.mi(e)?(jk("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):T_.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(qk("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!ss()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return jk("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return qk("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Bm){qk("Failed to set zombie client id.",Bm)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Bm){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return C_.C()}}]),e}();function AS(e){return VI(e,"owner")}function PS(e){return VI(e,"clientMetadata")}function DS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var OS=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return g(e,null,[{key:"Ci",value:function(t,n){var r,i=wE(),a=wE(),o=ui(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),RS=function(){function e(){d(this,e),this.xi=!1}return g(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(dx(t))return T_.resolve(null);var r=yx(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=kx(t,null,"F"),r=yx(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=wE.apply(void 0,h(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,kx(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return dx(t)||r.isEqual(s_.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Mk()<=Qs.DEBUG&&jk("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xx(t)),i.Bi(e,o,t,y_(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Yw(Tx(e));return t.forEach((function(t,r){Ex(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Mk()<=Qs.DEBUG&&jk("QueryEngine","Using full collection scan to execute query:",xx(t)),this.Ni.getDocumentsMatchingQuery(e,t,k_.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),LS=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new Kw(r_),this.Ui=new fE((function(e){return ix(e)}),ax),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return g(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pS(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function MS(e,t,n,r){return new LS(e,t,n,r)}function jS(e,t){return qS.apply(this,arguments)}function qS(){return qS=Go(Wo().mark((function e(t,n){var r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zk(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=wE(),u=ui(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ui(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=ui(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=ui(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),qS.apply(this,arguments)}function FS(e,t){var n=zk(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=T_.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Bk(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=wE(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function US(e){var t=zk(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function VS(e,t){var n=zk(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(G_.EMPTY_BYTE_STRING,s_.min()).withLastLimboFreeSnapshotVersion(s_.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=dE(),u=wE();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(BS(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(s_.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return T_.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.qi=i,e}))}function BS(e,t,n){var r=wE(),i=wE();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=dE();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(s_.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):jk("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function zS(e,t){var n=zk(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function HS(e,t){var n=zk(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,T_.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new WI(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function WS(e,t,n){return KS.apply(this,arguments)}function KS(){return KS=Go(Wo().mark((function e(t,n,r){var i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=zk(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),P_(e.t1)){e.next=12;break}throw e.t1;case 12:jk("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),KS.apply(this,arguments)}function GS(e,t,n){var r=zk(e),i=s_.min(),a=wE();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=zk(e),i=r.Ui.get(n);return void 0!==i?T_.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,yx(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:s_.min(),n?a:wE())})).next((function(e){return $S(r,Ix(t),e),{documents:e,Hi:a}}))}))}function QS(e,t){var n=zk(e),r=zk(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function YS(e,t){var n=zk(e),r=n.Ki.get(t)||s_.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,y_(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return $S(n,t,e),e}))}function $S(e,t,n){var r=e.Ki.get(t)||s_.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function XS(e,t,n,r){return JS.apply(this,arguments)}function JS(){return JS=Go(Wo().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=zk(t),o=wE(),s=dE(),u=ui(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,HS(a,function(e){return yx(hx(c_.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return BS(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(e,t){return eC.apply(this,arguments)}function eC(){return eC=Go(Wo().mark((function e(t,n){var r,i,a,o=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:wE(),e.next=3,HS(t,yx(eT(n.bundledQuery)));case 3:return i=e.sent,a=zk(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=VE(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(G_.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),eC.apply(this,arguments)}function tC(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function nC(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function rC(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var iC=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Wk(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(qk("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),aC=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Wk(i.error.code,i.error.message))),a?new e(t,i.state,r):(qk("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),oC=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=EE(),o=0;i&&o<r.activeTargetIds.length;++o)i=K_(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(qk("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),sC=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(qk("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),uC=function(){function e(){d(this,e),this.activeTargetIds=EE()}return g(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),cC=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Kw(r_),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=tC(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new uC),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return g(e,[{key:"start",value:function(){var e=Go(Wo().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=ui(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(tC(this.persistenceKey,i)))&&(o=oC.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(u=this.yr(s))&&this.pr(u),c=ui(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(rC(this.persistenceKey,e));if(n){var r=aC.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(rC(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return jk("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){jk("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){jk("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(jk("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void qk("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Go(Wo().mark((function e(){var r,i,a,o,s,u,c;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}u=function(e){var t=q_.at;if(null!=e)try{var n=JSON.parse(e);Bk("number"==typeof n),t=n}catch(e){qk("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==q_.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new iC(this.currentUser,e,t,n),i=nC(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=nC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=rC(this.persistenceKey,e),i=new aC(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return oC.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return iC.Zi(new Ok(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return aC.Zi(r,t)}},{key:"yr",value:function(e){return sC.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:jk("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Br(o,s).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=EE();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),lC=function(){function e(){d(this,e),this.Lr=new uC,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new uC,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),fC=function(){function e(){d(this,e)}return g(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),hC=function(){function e(){var t=this;d(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return g(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){jk("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ui(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){jk("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ui(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),dC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},pC=function(){function e(t){d(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return g(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),vC=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return g(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Pk;o.setWithCredentials(!0),o.listenOnce(Tk.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ik.NO_ERROR:var t=o.getResponseJson();jk("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ik.TIMEOUT:jk("Connection",'RPC "'+e+'" timed out'),a(new Wk(Hk.DEADLINE_EXCEEDED,"Request time out"));break;case Ik.HTTP_ERROR:var n=o.getStatus();if(jk("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Hk).indexOf(t)>=0?t:Hk.UNKNOWN}(s.status);a(new Wk(u,s.message))}else a(new Wk(Hk.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Wk(Hk.UNAVAILABLE,"Connection failed."));break;default:Vk()}}finally{jk("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=xk(),a=Ek(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Nk({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");jk("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new pC({Hr:function(e){l?jk("Connection","Not sending because WebChannel is closed:",e):(c||(jk("Connection","Opening WebChannel transport."),u.open(),c=!0),jk("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Ak.EventType.OPEN,(function(){l||jk("Connection","WebChannel transport opened.")})),h(u,Ak.EventType.CLOSE,(function(){l||(l=!0,jk("Connection","WebChannel transport closed"),f.io())})),h(u,Ak.EventType.ERROR,(function(e){l||(l=!0,Fk("Connection","WebChannel transport errored:",e),f.io(new Wk(Hk.UNAVAILABLE,"The operation could not be completed")))})),h(u,Ak.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Bk(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){jk("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=iE[e];if(void 0!==t)return lE(t)}(a),s=i.message;void 0===o&&(o=Hk.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Wk(o,s)),u.close()}else jk("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Sk.STAT_EVENT,(function(e){e.stat===Ck.PROXY?jk("Connection","Detected buffering proxy"):e.stat===Ck.NOPROXY&&jk("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);jk("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return jk("RestConnection","Received: ",e),e}),(function(t){throw Fk("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=dC[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function mC(){return"undefined"!=typeof window?window:null}function gC(){return"undefined"!=typeof document?document:null}function yC(e){return new jE(e,!0)}var bC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&jk("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),kC=function(){function e(t,n,r,i,a,o,s,u){d(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new bC(t,n)}return g(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Hk.RESOURCE_EXHAUSTED?(qk(n.toString()),qk("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Hk.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Wk(Hk.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Go(Wo().mark((function t(){return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return jk("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(jk("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),_C=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u}return g(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Vk()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(Bk(void 0===t||"string"==typeof t),G_.fromBase64String(t||"")):(Bk(void 0===t||t instanceof Uint8Array),G_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Hk.UNKNOWN:lE(e.code);return new Wk(t,e.message||"")}(o);n=new NE(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=WE(e,u.document.name),l=VE(u.document.updateTime),f=u.document.createTime?VE(u.document.createTime):s_.min(),h=new Zw({mapValue:{fields:u.document.fields}}),d=tx.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new SE(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=WE(e,m.document),y=m.readTime?VE(m.readTime):s_.min(),b=tx.newNoDocument(g,y),k=m.removedTargetIds||[];n=new SE([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var _=t.documentRemove;_.document;var w=WE(e,_.document),x=_.removedTargetIds||[];n=new SE([],x,w,null)}else{if(!("filter"in t))return Vk();t.filter;var E=t.filter;E.targetId;var I=E.count||0,T=new uE(I),S=E.targetId;n=new CE(S,T)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return s_.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?s_.min():t.readTime?VE(t.readTime):s_.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=QE(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=ox(r)?{documents:tI(e,r)}:{query:nI(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=FE(e,t.resumeToken):t.snapshotVersion.compareTo(s_.min())>0&&(n.readTime=qE(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Vk()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=QE(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(kC),wC=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u.Jo=!1,u}return g(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Br(k(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Bk(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Bk(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?VE(e.updateTime):VE(t);return n.isEqual(s_.min())&&(n=VE(t)),new Hx(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=VE(e.commitTime);return this.listener.Zo(n,t)}return Bk(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=QE(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ZE(t.yt,e)}))};this.Bo(n)}}]),n}(kC),xC=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return g(n,[{key:"su",value:function(){if(this.nu)throw new Wk(Hk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Hk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Wk(Hk.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Hk.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Wk(Hk.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return g((function e(){d(this,e)}))}());var EC=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return g(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(qk(t),this.ou=!1):jk("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),IC=g((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=MC(o),!e.t0){e.next=5;break}return jk("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=zk(t))._u.add(4),e.next=4,CC(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,TC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new EC(r,i)}));function TC(e){return SC.apply(this,arguments)}function SC(){return SC=Go(Wo().mark((function e(t){var n,r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!MC(t)){e.next=18;break}n=ui(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),SC.apply(this,arguments)}function CC(e){return NC.apply(this,arguments)}function NC(){return NC=Go(Wo().mark((function e(t){var n,r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ui(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),NC.apply(this,arguments)}function AC(e,t){var n=zk(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),LC(n)?RC(n):fN(n).ko()&&DC(n,t))}function PC(e,t){var n=zk(e),r=fN(n);n.du.delete(t),r.ko()&&OC(n,t),0===n.du.size&&(r.ko()?r.Fo():MC(n)&&n.gu.set("Unknown"))}function DC(e,t){e.yu.Ot(t.targetId),fN(e).zo(t)}function OC(e,t){e.yu.Ot(t),fN(e).Ho(t)}function RC(e){e.yu=new PE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),fN(e).start(),e.gu.uu()}function LC(e){return MC(e)&&!fN(e).No()&&e.du.size>0}function MC(e){return 0===zk(e)._u.size}function jC(e){e.yu=void 0}function qC(e){return FC.apply(this,arguments)}function FC(){return FC=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){DC(t,e)}));case 1:case"end":return e.stop()}}),e)}))),FC.apply(this,arguments)}function UC(e,t){return VC.apply(this,arguments)}function VC(){return VC=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jC(t),LC(t)?(t.gu.hu(n),RC(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function BC(e,t,n){return zC.apply(this,arguments)}function zC(){return zC=Go(Wo().mark((function e(t,n,r){var i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof NE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Go(Wo().mark((function e(t,n){var r,i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ui(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),jk("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,HC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof SE?t.yu.Kt(n):n instanceof CE?t.yu.Jt(n):t.yu.jt(n),r.isEqual(s_.min())){e.next=29;break}return e.prev=14,e.next=17,US(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(G_.EMPTY_BYTE_STRING,n.snapshotVersion)),OC(e,t);var r=new WI(n.target,t,1,n.sequenceNumber);DC(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),jk("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,HC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),zC.apply(this,arguments)}function HC(e,t,n){return WC.apply(this,arguments)}function WC(){return WC=Go(Wo().mark((function e(t,n,r){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P_(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,CC(t);case 5:t.gu.set("Offline"),r||(r=function(){return US(t.localStore)}),t.asyncQueue.enqueueRetryable(Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jk("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,TC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),WC.apply(this,arguments)}function KC(e,t){return t().catch((function(n){return HC(e,n,t)}))}function GC(e){return QC.apply(this,arguments)}function QC(){return QC=Go(Wo().mark((function e(t){var n,r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zk(t),r=hN(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!YC(n)){e.next=19;break}return e.prev=3,e.next=6,zS(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,$C(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,HC(n,e.t0);case 17:e.next=2;break;case 19:XC(n)&&JC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),QC.apply(this,arguments)}function YC(e){return MC(e)&&e.fu.length<10}function $C(e,t){e.fu.push(t);var n=hN(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function XC(e){return MC(e)&&!hN(e).No()&&e.fu.length>0}function JC(e){hN(e).start()}function ZC(e){return eN.apply(this,arguments)}function eN(){return eN=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hN(t).eu();case 1:case"end":return e.stop()}}),e)}))),eN.apply(this,arguments)}function tN(e){return nN.apply(this,arguments)}function nN(){return nN=Go(Wo().mark((function e(t){var n,r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=hN(t),r=ui(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),nN.apply(this,arguments)}function rN(e,t,n){return iN.apply(this,arguments)}function iN(){return iN=Go(Wo().mark((function e(t,n,r){var i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=zI.from(i,n,r),e.next=3,KC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,GC(t);case 5:case"end":return e.stop()}}),e)}))),iN.apply(this,arguments)}function aN(e,t){return oN.apply(this,arguments)}function oN(){return oN=Go(Wo().mark((function e(t,n){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&hN(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Go(Wo().mark((function e(t,n){var r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!cE(i=n.code)||i===Hk.ABORTED){e.next=7;break}return r=t.fu.shift(),hN(t).Mo(),e.next=5,KC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,GC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:XC(t)&&JC(t);case 5:case"end":return e.stop()}}),e)}))),oN.apply(this,arguments)}function sN(e,t){return uN.apply(this,arguments)}function uN(){return uN=Go(Wo().mark((function e(t,n){var r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=zk(t)).asyncQueue.verifyOperationInProgress(),jk("RemoteStore","RemoteStore received new credentials"),i=MC(r),r._u.add(3),e.next=6,CC(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,TC(r);case 12:case"end":return e.stop()}}),e)}))),uN.apply(this,arguments)}function cN(e,t){return lN.apply(this,arguments)}function lN(){return lN=Go(Wo().mark((function e(t,n){var r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zk(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,TC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,CC(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),lN.apply(this,arguments)}function fN(e){return e.pu||(e.pu=function(e,t,n){var r=zk(e);return r.su(),new _C(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:qC.bind(null,e),Zr:UC.bind(null,e),Wo:BC.bind(null,e)}),e.wu.push(function(){var t=Go(Wo().mark((function t(n){return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),LC(e)?RC(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:jC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function hN(e){return e.Iu||(e.Iu=function(e,t,n){var r=zk(e);return r.su(),new wC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:ZC.bind(null,e),Zr:aN.bind(null,e),tu:tN.bind(null,e),Zo:rN.bind(null,e)}),e.wu.push(function(){var t=Go(Wo().mark((function t(n){return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,GC(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(jk("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var dN=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Kk,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wk(Hk.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function pN(e,t){if(qk("AsyncQueue","".concat(t,": ").concat(e)),P_(e))return new Wk(Hk.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var vN=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||h_.comparator(e.key,n.key)}:function(e,t){return h_.comparator(e.key,t.key)},this.keyedMap=vE(),this.sortedSet=new Kw(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),mN=function(){function e(){d(this,e),this.Tu=new Kw(h_.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Vk():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),gN=function(){function e(t,n,r,i,a,o,s,u,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_x(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,vN.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),yN=g((function e(){d(this,e),this.Au=void 0,this.listeners=[]})),bN=g((function e(){d(this,e),this.queries=new fE((function(e){return wx(e)}),_x),this.onlineState="Unknown",this.Ru=new Set}));function kN(e,t){return _N.apply(this,arguments)}function _N(){return _N=Go(Wo().mark((function e(t,n){var r,i,a,o,s;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zk(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new yN),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=pN(e.t0,"Initialization of query '".concat(xx(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&TN(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),_N.apply(this,arguments)}function wN(e,t){return xN.apply(this,arguments)}function xN(){return xN=Go(Wo().mark((function e(t,n){var r,i,a,o,s;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zk(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),xN.apply(this,arguments)}function EN(e,t){var n,r=zk(e),i=!1,a=ui(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=ui(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&TN(r)}function IN(e,t,n){var r=zk(e),i=r.queries.get(t);if(i){var a,o=ui(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function TN(e){e.Ru.forEach((function(e){e.next()}))}var SN=function(){function e(t,n,r){d(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ui(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new gN(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=gN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),CN=function(){function e(t,n){d(this,e),this.ku=t,this.byteLength=n}return g(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),NN=function(){function e(t){d(this,e),this.yt=t}return g(e,[{key:"Ji",value:function(e){return WE(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?XE(this.yt,e.document,!1):tx.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return VE(e)}}]),e}(),AN=function(){function e(t,n,r){d(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=PN(t)}return g(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=c_.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new NN(this.yt),i=ui(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ji(a.metadata.name),u=ui(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||wE()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Go(Wo().mark((function e(){var t,n,r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XS(this.localStore,new NN(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=ui(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ZS(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function PN(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var DN=g((function e(t){d(this,e),this.key=t})),ON=g((function e(t){d(this,e),this.key=t})),RN=function(){function e(t,n){d(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=wE(),this.mutatedKeys=wE(),this.Gu=Tx(t),this.Qu=new vN(this.Gu)}return g(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new mN,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ex(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vk()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new gN(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new mN,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=wE(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new ON(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new DN(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=wE();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return gN.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),LN=g((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),MN=g((function e(t){d(this,e),this.key=t,this.nc=!1})),jN=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new fE((function(e){return wx(e)}),_x),this.rc=new Map,this.oc=new Set,this.uc=new Kw(h_.comparator),this.cc=new Map,this.ac=new gS,this.hc={},this.lc=new Map,this.fc=GT.vn(),this.onlineState="Unknown",this.dc=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function qN(e,t){return FN.apply(this,arguments)}function FN(){return FN=Go(Wo().mark((function e(t,n){var r,i,a,o,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=PA(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,HS(r.localStore,yx(n));case 8:return s=e.sent,r.isPrimaryClient&&AC(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,UN(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),FN.apply(this,arguments)}function UN(e,t,n,r,i){return VN.apply(this,arguments)}function VN(){return VN=Go(Wo().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Go(Wo().mark((function e(t,n,r,i){var a,o,s;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,GS(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(sA(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,GS(t.localStore,n,!0);case 3:return o=e.sent,s=new RN(n,o.Hi),u=s.Wu(o.documents),c=TE.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),sA(t,r,l.Xu),f=new LN(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),VN.apply(this,arguments)}function BN(e,t){return zN.apply(this,arguments)}function zN(){return zN=Go(Wo().mark((function e(t,n){var r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zk(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!_x(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,WS(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),PC(r.remoteStore,i.targetId),aA(r,i.targetId)})).catch(E_);case 9:e.next=14;break;case 11:return aA(r,i.targetId),e.next=14,WS(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),zN.apply(this,arguments)}function HN(e,t,n){return WN.apply(this,arguments)}function WN(){return WN=Go(Wo().mark((function e(t,n,r){var i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=DA(t),e.prev=1,e.next=4,function(e,t){var n,r,i=zk(e),a=o_.now(),o=t.reduce((function(e,t){return e.add(t.key)}),wE());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=dE(),u=wE();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=ui(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Xx(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new eE(c.key,l,ex(l.value.mapValue),Wx.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:mE(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Kw(r_)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,lA(i,a.changes);case 9:return e.next=11,GC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=pN(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),WN.apply(this,arguments)}function KN(e,t){return GN.apply(this,arguments)}function GN(){return GN=Go(Wo().mark((function e(t,n){var r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zk(t),e.prev=1,e.next=4,VS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Bk(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Bk(n.nc):e.removedDocuments.size>0&&(Bk(n.nc),n.nc=!1))})),e.next=8,lA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,E_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),GN.apply(this,arguments)}function QN(e,t,n){var r=zk(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=zk(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ui(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&TN(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function YN(e,t,n){return $N.apply(this,arguments)}function $N(){return $N=Go(Wo().mark((function e(t,n,r){var i,a,o,s,u,c;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=zk(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Kw(h_.comparator)).insert(o,tx.newNoDocument(o,s_.min())),u=wE().add(o),c=new IE(s_.min(),new Map,new Yw(r_),s,u),e.next=9,KN(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),cA(i),e.next=16;break;case 14:return e.next=16,WS(i.localStore,n,!1).then((function(){return aA(i,n,r)})).catch(E_);case 16:case"end":return e.stop()}}),e)}))),$N.apply(this,arguments)}function XN(e,t){return JN.apply(this,arguments)}function JN(){return JN=Go(Wo().mark((function e(t,n){var r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zk(t),i=n.batch.batchId,e.prev=1,e.next=4,FS(r.localStore,n);case 4:return a=e.sent,iA(r,i,null),rA(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,lA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,E_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),JN.apply(this,arguments)}function ZN(e,t,n){return eA.apply(this,arguments)}function eA(){return eA=Go(Wo().mark((function e(t,n,r){var i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zk(t),e.prev=1,e.next=4,function(e,t){var n=zk(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Bk(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,iA(i,n,r),rA(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,lA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,E_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),eA.apply(this,arguments)}function tA(e,t){return nA.apply(this,arguments)}function nA(){return nA=Go(Wo().mark((function e(t,n){var r,i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return MC((r=zk(t)).remoteStore)||jk("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=zk(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=pN(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),nA.apply(this,arguments)}function rA(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function iA(e,t,n){var r=zk(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function aA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ui(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||oA(e,t)}))}function oA(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(PC(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),cA(e))}function sA(e,t,n){var r,i=ui(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof DN?(e.ac.addReference(a.key,t),uA(e,a)):a instanceof ON?(jk("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||oA(e,a.key)):Vk()}}catch(o){i.e(o)}finally{i.f()}}function uA(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(jk("SyncEngine","New document in limbo: "+n),e.oc.add(r),cA(e))}function cA(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new h_(c_.fromString(t)),r=e.fc.next();e.cc.set(r,new MN(n)),e.uc=e.uc.insert(n,r),AC(e.remoteStore,new WI(yx(hx(n.path)),r,2,q_.at))}}function lA(e,t,n){return fA.apply(this,arguments)}function fA(){return fA=Go(Wo().mark((function e(t,n,r){var i,a,o,s;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=zk(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=OS.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Go(Wo().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zk(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return T_.forEach(n,(function(t){return T_.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return T_.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),P_(e.t0)){e.next=10;break}throw e.t0;case 10:jk("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ui(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(e,t){return dA.apply(this,arguments)}function dA(){return dA=Go(Wo().mark((function e(t,n){var r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=zk(t)).currentUser.isEqual(n)){e.next=11;break}return jk("SyncEngine","User change. New user:",n.toKey()),e.next=5,jS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Wk(Hk.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,lA(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}function pA(e,t){var n=zk(e),r=n.cc.get(t);if(r&&r.nc)return wE().add(r.key);var i=wE(),a=n.rc.get(t);if(!a)return i;var o,s=ui(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ic.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function vA(e,t){return mA.apply(this,arguments)}function mA(){return mA=Go(Wo().mark((function e(t,n){var r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zk(t),e.next=3,GS(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&sA(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),mA.apply(this,arguments)}function gA(e,t){return yA.apply(this,arguments)}function yA(){return yA=Go(Wo().mark((function e(t,n){var r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zk(t),e.abrupt("return",YS(r.localStore,n).then((function(e){return lA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function bA(e,t,n,r){return kA.apply(this,arguments)}function kA(){return kA=Go(Wo().mark((function e(t,n,r,i){var a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=zk(t),e.next=3,function(e,t){var n=zk(e),r=zk(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):T_.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,GC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(iA(a,n,i||null),rA(a,n),function(e,t){zk(zk(e).mutationQueue).An(t)}(a.localStore,n)):Vk();case 11:return e.next=13,lA(a,o);case 13:e.next=16;break;case 15:jk("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),kA.apply(this,arguments)}function _A(e,t){return wA.apply(this,arguments)}function wA(){return wA=Go(Wo().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(PA(r=zk(t)),DA(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,xA(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,cN(r.remoteStore,!0);case 9:o=ui(a);try{for(o.s();!(s=o.n()).done;)u=s.value,AC(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return aA(r,t),WS(r.localStore,t,!0)})),PC(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,xA(r,c);case 21:return function(e){var t=zk(e);t.cc.forEach((function(e,n){PC(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Kw(h_.comparator)}(r),r.dc=!1,e.next=25,cN(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}function xA(e,t,n){return EA.apply(this,arguments)}function EA(){return EA=Go(Wo().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,g;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=zk(t),a=[],o=[],s=ui(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,HS(i.localStore,yx(f[0]));case 11:l=e.sent,h=ui(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,vA(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,QS(i.localStore,c);case 36:return g=e.sent,e.next=39,HS(i.localStore,g);case 39:return l=e.sent,e.next=42,UN(i,IA(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),EA.apply(this,arguments)}function IA(e){return fx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function TA(e){var t=zk(e);return zk(zk(t.localStore).persistence).vi()}function SA(e,t,n,r){return CA.apply(this,arguments)}function CA(){return CA=Go(Wo().mark((function e(t,n,r,i){var a,o,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=zk(t)).dc){e.next=3;break}return e.abrupt("return",void jk("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,YS(a.localStore,Ix(o[0]));case 10:return s=e.sent,u=IE.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,G_.EMPTY_BYTE_STRING),e.next=14,lA(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,WS(a.localStore,n,!0);case 17:return aA(a,n,i),e.abrupt("break",20);case 19:Vk();case 20:case"end":return e.stop()}}),e)}))),CA.apply(this,arguments)}function NA(e,t,n){return AA.apply(this,arguments)}function AA(){return AA=Go(Wo().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=PA(t)).dc){e.next=45;break}a=ui(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.rc.has(s)){e.next=10;break}return jk("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,QS(i.localStore,s);case 12:return u=e.sent,e.next=15,HS(i.localStore,u);case 15:return c=e.sent,e.next=18,UN(i,IA(u),c.targetId,!1,c.resumeToken);case 18:AC(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ui(r),e.prev=30,h=Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,WS(i.localStore,t,!1).then((function(){PC(i.remoteStore,t),aA(i,t)})).catch(E_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),AA.apply(this,arguments)}function PA(e){var t=zk(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=KN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YN.bind(null,t),t.sc.Wo=EN.bind(null,t.eventManager),t.sc.wc=IN.bind(null,t.eventManager),t}function DA(e){var t=zk(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZN.bind(null,t),t}function OA(e,t,n){var r=zk(e);(function(){var e=Go(Wo().mark((function e(t,n,r){var i,a,o,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=zk(e),r=VE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(PN(i)),a=new AN(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,lA(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=zk(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Fk("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var RA=function(){function e(){d(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=yC(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return MS(this.persistence,new RS,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new xS(IS.Bs,this.yt)}},{key:"gc",value:function(e){return new lC}},{key:"terminate",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),LA=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return g(n,[{key:"initialize",value:function(){var e=Go(Wo().mark((function e(t){var r=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Br(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,DA(this.Ac.syncEngine);case 6:return e.next=8,GC(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return MS(this.persistence,new RS,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new eS(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new j_(t,this.persistence);return new M_(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=DS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?FT.withCacheSize(this.cacheSizeBytes):FT.DEFAULT;return new NS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,mC(),gC(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new lC}}]),n}(RA),MA=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return g(n,[{key:"initialize",value:function(){var e=Go(Wo().mark((function e(t){var r,i=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Br(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof cC,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:bA.bind(null,r),$r:SA.bind(null,r),Br:NA.bind(null,r),vi:TA.bind(null,r),Mr:gA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_A(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=mC();if(!cC.C(t))throw new Wk(Hk.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=DS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(LA),jA=function(){function e(){d(this,e)}return g(e,[{key:"initialize",value:function(){var e=Go(Wo().mark((function e(t,n){var r=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return QN(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=hA.bind(null,this.syncEngine),e.next=12,cN(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new bN}},{key:"createDatastore",value:function(e){var t,n=yC(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new vC(t));return function(e,t,n,r){return new xC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return QN(o.syncEngine,e,0)},a=hC.C()?new hC:new fC,new IC(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new jN(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zk(t),jk("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,CC(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function qA(e,t,n){if(!n)throw new Wk(Hk.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function FA(e,t,n,r){if(!0===t&&!0===r)throw new Wk(Hk.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function UA(e){if(!h_.isDocumentKey(e))throw new Wk(Hk.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function VA(e){if(h_.isDocumentKey(e))throw new Wk(Hk.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function BA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Vk()}function zA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wk(Hk.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=BA(e);throw new Wk(Hk.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function HA(e,t){if(t<=0)throw new Wk(Hk.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var WA=new Map,KA=function(){function e(t){var n;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Wk(Hk.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Wk(Hk.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,FA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),GA=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KA({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new Wk(Hk.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Wk(Hk.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qk;switch(e.type){case"gapi":var t=e.client;return new Jk(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Wk(Hk.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=WA.get(e);t&&(jk("ComponentProvider","Removing Datastore"),WA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function QA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=zA(e,GA))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Fk("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Ok.MOCK_USER;else{o=ys(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Wk(Hk.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Ok(u)}e._authCredentials=new Yk(new Gk(o,s))}}var YA=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new XA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$A=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),XA=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,hx(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new YA(this.firestore,null,new h_(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}($A);function JA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=zs(e),qA("collection","path",t),e instanceof GA){var a=c_.fromString.apply(c_,[t].concat(r));return VA(a),new XA(e,null,a)}if(!(e instanceof YA||e instanceof XA))throw new Wk(Hk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(c_.fromString.apply(c_,[t].concat(r)));return VA(o),new XA(e.firestore,null,o)}function ZA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=zs(e),1===arguments.length&&(t=n_.R()),qA("doc","path",t),e instanceof GA){var a=c_.fromString.apply(c_,[t].concat(r));return UA(a),new YA(e,null,new h_(a))}if(!(e instanceof YA||e instanceof XA))throw new Wk(Hk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(c_.fromString.apply(c_,[t].concat(r)));return UA(o),new YA(e.firestore,e instanceof XA?e.converter:null,new h_(o))}function eP(e,t){return e=zs(e),t=zs(t),(e instanceof YA||e instanceof XA)&&(t instanceof YA||t instanceof XA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function tP(e,t){return e=zs(e),t=zs(t),e instanceof $A&&t instanceof $A&&e.firestore===t.firestore&&_x(e._query,t._query)&&e.converter===t.converter}function nP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Go(Wo().mark((function r(){var i;return Wo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var rP=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):qk("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),iP=function(){function e(t,n){var r=this;d(this,e),this.Pc=t,this.yt=n,this.metadata=new Kk,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return g(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Go(Wo().mark((function e(){var t,n,r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new CN(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Go(Wo().mark((function e(){var t,n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Go(Wo().mark((function e(){var t,n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),aP=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(e,[{key:"lookup",value:function(){var e=Go(Wo().mark((function e(t){var n,r=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Wk(Hk.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Go(Wo().mark((function e(t,n){var r,i,a,o,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zk(t),i=QE(r.yt)+"/documents",a={documents:n.map((function(e){return HE(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=JE(r.yt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Bk(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new oE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Go(Wo().mark((function e(){var t,n=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=h_.fromPath(t);n.mutations.push(new sE(r,n.precondition(r)))})),e.next=7,function(){var e=Go(Wo().mark((function e(t,n){var r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zk(t),i=QE(r.yt)+"/documents",a={writes:n.map((function(e){return ZE(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Vk();t=s_.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Wk(Hk.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(s_.min())?Wx.exists(!1):Wx.updateTime(t):Wx.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(s_.min()))throw new Wk(Hk.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wx.updateTime(t)}return Wx.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),oP=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new bC(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(Go(Wo().mark((function t(){var n,r;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new aP(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!H_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!cE(t)}return!1}}]),e}(),sP=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ok.UNAUTHENTICATED,this.clientId=n_.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jk("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return jk("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Wk(Hk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Kk;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Go(Wo().mark((function n(){var r;return Wo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=pN(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function uP(e,t){return cP.apply(this,arguments)}function cP(){return cP=Go(Wo().mark((function e(t,n){var r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),jk("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,jS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),cP.apply(this,arguments)}function lP(e,t){return fP.apply(this,arguments)}function fP(){return fP=Go(Wo().mark((function e(t,n){var r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,hP(t);case 3:return r=e.sent,jk("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return sN(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return sN(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),fP.apply(this,arguments)}function hP(e){return dP.apply(this,arguments)}function dP(){return dP=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return jk("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,uP(t,new RA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),dP.apply(this,arguments)}function pP(e){return vP.apply(this,arguments)}function vP(){return vP=Go(Wo().mark((function e(t){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return jk("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,lP(t,new jA);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),vP.apply(this,arguments)}function mP(e){return hP(e).then((function(e){return e.persistence}))}function gP(e){return hP(e).then((function(e){return e.localStore}))}function yP(e){return pP(e).then((function(e){return e.remoteStore}))}function bP(e){return pP(e).then((function(e){return e.syncEngine}))}function kP(e){return pP(e).then((function(e){return e.datastore}))}function _P(e){return wP.apply(this,arguments)}function wP(){return wP=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pP(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=qN.bind(null,n.syncEngine),r.onUnlisten=BN.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),wP.apply(this,arguments)}function xP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Kk;return e.asyncQueue.enqueueAndForget(Go(Wo().mark((function i(){return Wo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rP({next:function(a){t.enqueueAndForget((function(){return wN(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Wk(Hk.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Wk(Hk.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new SN(hx(n.path),a,{includeMetadataChanges:!0,Nu:!0});return kN(e,o)},i.next=3,_P(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function EP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Kk;return e.asyncQueue.enqueueAndForget(Go(Wo().mark((function i(){return Wo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rP({next:function(n){t.enqueueAndForget((function(){return wN(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Wk(Hk.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new SN(n,a,{includeMetadataChanges:!0,Nu:!0});return kN(e,o)},i.next=3,_P(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var IP=function(){function e(){var t=this;d(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new bC(this,"async_queue_retry"),this.Wc=function(){var e=gC();e&&jk("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=gC();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return g(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=gC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new Kk;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Go(Wo().mark((function e(){var t=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),P_(e.t0)){e.next=12;break}throw e.t0;case 12:jk("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw qk("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=dN.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&Vk()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=ui(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ui(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function TP(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ui(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var SP=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new Kk,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),CP=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new IP,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||AP(this),this._firestoreClient.terminate()}}]),n}(GA);function NP(e){return e._firestoreClient||AP(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function AP(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new F_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new sP(e._authCredentials,e._appCheckCredentials,e._queue,r)}function PP(e,t,n){var r=new Kk;return e.asyncQueue.enqueue(Go(Wo().mark((function i(){var a;return Wo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,uP(e,n);case 3:return i.next=5,lP(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Hk.FAILED_PRECONDITION||e.code===Hk.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Fk("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function DP(e){return function(e){return e.asyncQueue.enqueue(Go(Wo().mark((function t(){var n,r;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mP(e);case 2:return n=t.sent,t.next=5,yP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=zk(e);return t._u.delete(0),TC(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(NP(e=zA(e,CP)))}function OP(e){return function(e){return e.asyncQueue.enqueue(Go(Wo().mark((function t(){var n,r;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mP(e);case 2:return n=t.sent,t.next=5,yP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=zk(t))._u.add(0),e.next=4,CC(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(NP(e=zA(e,CP)))}function RP(e,t){var n=NP(e=zA(e,CP)),r=new SP;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new iP(e,t)}(function(e,t){if(e instanceof Uint8Array)return nP(e,t);if(e instanceof ArrayBuffer)return nP(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,yC(t));e.asyncQueue.enqueueAndForget(Go(Wo().mark((function t(){return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=OA,t.next=3,bP(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function LP(e,t){return function(e,t){return e.asyncQueue.enqueue(Go(Wo().mark((function n(){return Wo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=zk(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,gP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(NP(e=zA(e,CP)),t).then((function(t){return t?new $A(e,null,t.query):null}))}function MP(e){if(e._initialized||e._terminated)throw new Wk(Hk.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jP=function(){function e(t){d(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(G_.fromBase64String(t))}catch(t){throw new Wk(Hk.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(G_.fromUint8Array(t))}}]),e}(),qP=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Wk(Hk.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new f_(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var FP=g((function e(t){d(this,e),this._methodName=t})),UP=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new Wk(Hk.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Wk(Hk.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return r_(this._lat,e._lat)||r_(this._long,e._long)}}]),e}(),VP=/^__.*__$/,BP=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new eE(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zx(e,this.data,t,this.fieldTransforms)}}]),e}(),zP=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new eE(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function HP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vk()}}var WP=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return fD(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(HP(this.sa)&&VP.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),KP=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||yC(t)}return g(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new WP({sa:e,methodName:t,fa:n,path:f_.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function GP(e){var t=e._freezeSettings(),n=yC(e._databaseId);return new KP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function QP(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);sD("Data must be an object, but it was:",o,r);var s,u,c=aD(r,o);if(a.merge)s=new Jw(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ui(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=uD(t,d,n);if(!o.contains(p))throw new Wk(Hk.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));hD(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Jw(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new BP(new Zw(c),s,u)}var YP=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(FP);function $P(e,t,n){return new WP({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var XP=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new zx(e.path,new Lx)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(FP),JP=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._a=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=$P(this,e,!0),n=this._a.map((function(e){return iD(e,t)})),r=new Mx(n);return new zx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FP),ZP=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._a=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=$P(this,e,!0),n=this._a.map((function(e){return iD(e,t)})),r=new qx(n);return new zx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FP),eD=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).wa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new Ux(e.yt,Ax(e.yt,this.wa));return new zx(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FP);function tD(e,t,n,r){var i=e.da(1,t,n);sD("Data must be an object, but it was:",i,r);var a=[],o=Zw.empty();B_(r,(function(e,r){var s=lD(t,e,n);r=zs(r);var u=i.ca(s);if(r instanceof YP)a.push(s);else{var c=iD(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Jw(a);return new zP(o,s,i.fieldTransforms)}function nD(e,t,n,r,i,a){var o=e.da(1,t,n),s=[uD(t,r,n)],u=[i];if(a.length%2!=0)throw new Wk(Hk.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(uD(t,a[c])),u.push(a[c+1]);for(var l=[],f=Zw.empty(),h=s.length-1;h>=0;--h)if(!hD(l,s[h])){var d=s[h],p=u[h];p=zs(p);var v=o.ca(d);if(p instanceof YP)l.push(d);else{var m=iD(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Jw(l);return new zP(f,g,o.fieldTransforms)}function rD(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return iD(n,e.da(r?4:3,t))}function iD(e,t){if(oD(e=zs(e)))return sD("Unsupported field value:",t,e),aD(e,t);if(e instanceof FP)return function(e,t){if(!HP(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ui(e);try{for(a.s();!(n=a.n()).done;){var o=iD(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=zs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ax(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=o_.fromDate(e);return{timestampValue:qE(t.yt,n)}}if(e instanceof o_){var r=new o_(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:qE(t.yt,r)}}if(e instanceof UP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jP)return{bytesValue:FE(t.yt,e._byteString)};if(e instanceof YA){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:BE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(BA(e)))}(e,t)}function aD(e,t){var n={};return z_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):B_(e,(function(e,r){var i=iD(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function oD(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof o_||e instanceof UP||e instanceof jP||e instanceof YA||e instanceof FP)}function sD(e,t,n){if(!oD(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=BA(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function uD(e,t,n){if((t=zs(t))instanceof qP)return t._internalPath;if("string"==typeof t)return lD(e,t);throw fD("Field path arguments must be of type string or ",e,!1,void 0,n)}var cD=new RegExp("[~\\*/\\[\\]]");function lD(e,t,n){if(t.search(cD)>=0)throw fD("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(qP,h(t.split(".")))._internalPath}catch(r){throw fD("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function fD(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Wk(Hk.INVALID_ARGUMENT,s+e+u)}function hD(e,t){return e.some((function(e){return e.isEqual(t)}))}var dD=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new YA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new pD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(vD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),pD=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return Br(k(n.prototype),"data",this).call(this)}}]),n}(dD);function vD(e,t){return"string"==typeof t?lD(e,t):t instanceof qP?t._internalPath:t._delegate._internalPath}function mD(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Wk(Hk.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gD=g((function e(){d(this,e)})),yD=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(gD);function bD(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof gD&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof _D})).length,n=e.filter((function(e){return e instanceof kD})).length;if(t>1||t>0&&n>0)throw new Wk(Hk.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=ui(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(c){s.e(c)}finally{s.f()}return e}var kD=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return OD(e._query,t),new $A(e.firestore,e.converter,bx(e._query,t))}},{key:"_parse",value:function(e){var t=GP(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Wk(Hk.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){DD(o,a);var u,c=[],l=ui(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(PD(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=PD(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||DD(o,a),s=rD(n,"where",o,"in"===a||"not-in"===a);return Tw.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(yD);var _D=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Sw.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=ui(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;OD(r,a),r=bx(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new $A(e.firestore,e.converter,bx(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(gD);var wD=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Wk(Hk.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Wk(Hk.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Hw(t,n);return function(e,t){if(null===px(e)){var n=vx(e);null!==n&&RD(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new $A(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new lx(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(yD);var xD=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return g(n,[{key:"_apply",value:function(e){return new $A(e.firestore,e.converter,kx(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(yD);var ED=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=AD(e,this.type,this._docOrFields,this._inclusive);return new $A(e.firestore,e.converter,function(e,t){return new lx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(yD);function ID(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ED._create("startAt",t,!0)}function TD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ED._create("startAfter",t,!1)}var SD=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=AD(e,this.type,this._docOrFields,this._inclusive);return new $A(e.firestore,e.converter,function(e,t){return new lx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(yD);function CD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return SD._create("endBefore",t,!1)}function ND(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return SD._create("endAt",t,!0)}function AD(e,t,n,r){if(n[0]=zs(n[0]),n[0]instanceof dD)return function(e,t,n,r,i){if(!r)throw new Wk(Hk.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=ui(gx(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(lw(t,r.key));else{var c=r.data.field(u.field);if(J_(c))throw new Wk(Hk.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Wk(Hk.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new ww(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=GP(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Wk(Hk.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Wk(Hk.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!mx(e)&&-1!==c.indexOf("/"))throw new Wk(Hk.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(c_.fromString(c));if(!h_.isDocumentKey(l))throw new Wk(Hk.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new h_(l);s.push(lw(t,f))}else{var h=rD(n,r,c);s.push(h)}}return new ww(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function PD(e,t,n){if("string"==typeof(n=zs(n))){if(""===n)throw new Wk(Hk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mx(t)&&-1!==n.indexOf("/"))throw new Wk(Hk.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(c_.fromString(n));if(!h_.isDocumentKey(r))throw new Wk(Hk.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return lw(e,new h_(r))}if(n instanceof YA)return lw(e,n._key);throw new Wk(Hk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(BA(n),"."))}function DD(e,t){if(!Array.isArray(e)||0===e.length)throw new Wk(Hk.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Wk(Hk.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function OD(e,t){if(t.isInequality()){var n=vx(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Wk(Hk.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=px(e);null!==i&&RD(e,r,i)}var a=function(e,t){var n,r=ui(e);try{for(r.s();!(n=r.n()).done;){var i,a=ui(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Wk(Hk.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Wk(Hk.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function RD(e,t,n){if(!n.isEqual(t))throw new Wk(Hk.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var LD=function(){function e(){d(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(rw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $_(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(X_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Vk()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return B_(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new UP($_(e.latitude),$_(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Z_(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ew(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Y_(e);return new o_(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=c_.fromString(e);Bk(hI(n));var r=new U_(n.get(1),n.get(3)),i=new h_(n.popFirst(5));return r.isEqual(t)||qk("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function MD(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var jD=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new jP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new YA(this.firestore,null,t)}}]),n}(LD),qD=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),FD=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return g(n,[{key:"exists",value:function(){return Br(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new UD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(vD("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(dD),UD=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Br(k(n.prototype),"data",this).call(this,e)}}]),n}(FD),VD=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new qD(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new UD(n._firestore,n._userDataWriter,r.key,r,new qD(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Wk(Hk.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new UD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new UD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:BD(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function BD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vk()}}function zD(e,t){return e instanceof FD&&t instanceof FD?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof VD&&t instanceof VD&&e._firestore===t._firestore&&tP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var HD=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new jP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new YA(this.firestore,null,t)}}]),n}(LD);function WD(e){e=zA(e,YA);var t=zA(e.firestore,CP),n=NP(t),r=new HD(t);return function(e,t){var n=new Kk;return e.asyncQueue.enqueueAndForget(Go(Wo().mark((function r(){return Wo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Go(Wo().mark((function e(t,n,r){var i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=zk(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Wk(Hk.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=pN(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,gP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new FD(t,r,e._key,n,new qD(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function KD(e){e=zA(e,$A);var t=zA(e.firestore,CP),n=NP(t),r=new HD(t);return function(e,t){var n=new Kk;return e.asyncQueue.enqueueAndForget(Go(Wo().mark((function r(){return Wo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Go(Wo().mark((function e(t,n,r){var i,a,o,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GS(t,n,!0);case 3:i=e.sent,a=new RN(n,i.Hi),o=a.Wu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=pN(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,gP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new VD(t,r,e,n)}))}function GD(e,t,n){e=zA(e,YA);var r=zA(e.firestore,CP),i=MD(e.converter,t,n);return JD(r,[QP(GP(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Wx.none())])}function QD(e,t,n){e=zA(e,YA);for(var r=zA(e.firestore,CP),i=GP(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return JD(r,[("string"==typeof(t=zs(t))||t instanceof qP?nD(i,"updateDoc",e._key,t,n,o):tD(i,"updateDoc",e._key,t)).toMutation(e._key,Wx.exists(!0))])}function YD(e){return JD(zA(e.firestore,CP),[new oE(e._key,Wx.none())])}function $D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=zs(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||TP(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(TP(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof YA)l=zA(e.firestore,CP),f=hx(e._key.path),c={next:function(t){n[u]&&n[u](ZD(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=zA(e,$A);l=zA(p.firestore,CP),f=p._query;var v=new HD(l);c={next:function(e){n[u]&&n[u](new VD(l,v,p,e))},error:n[u+1],complete:n[u+2]},mD(e._query)}return function(e,t,n,r){var i=new rP(r),a=new SN(t,i,n);return e.asyncQueue.enqueueAndForget(Go(Wo().mark((function t(){return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=kN,t.next=3,_P(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Go(Wo().mark((function t(){return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wN,t.next=3,_P(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(NP(l),f,h,c)}function XD(e,t){return function(e,t){var n=new rP(t);return e.asyncQueue.enqueueAndForget(Go(Wo().mark((function t(){return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){zk(e).Ru.add(t),t.next()},t.next=3,_P(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Go(Wo().mark((function t(){return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){zk(e).Ru.delete(t)},t.next=3,_P(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(NP(e=zA(e,CP)),TP(t)?t:{next:t})}function JD(e,t){return function(e,t){var n=new Kk;return e.asyncQueue.enqueueAndForget(Go(Wo().mark((function r(){return Wo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=HN,r.next=3,bP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(NP(e),t)}function ZD(e,t,n){var r=n.docs.get(t._key),i=new HD(e);return new FD(e,i,t._key,r,new qD(n.hasPendingWrites,n.fromCache),t.converter)}var eO={maxAttempts:5},tO=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=GP(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=nO(e,this._firestore),i=MD(r.converter,t,n),a=QP(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Wx.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=nO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=zs(t))||t instanceof qP?nD(this._dataReader,"WriteBatch.update",i._key,t,n,o):tD(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Wx.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=nO(e,this._firestore);return this._mutations=this._mutations.concat(new oE(t._key,Wx.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Wk(Hk.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function nO(e,t){if((e=zs(e)).firestore!==t)throw new Wk(Hk.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var rO=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=nO(e,this._firestore),i=new HD(this._firestore);return Br(k(n.prototype),"get",this).call(this,e).then((function(e){return new FD(t._firestore,i,r._key,e._document,new qD(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=GP(t)}return g(e,[{key:"get",value:function(e){var t=this,n=nO(e,this._firestore),r=new jD(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Vk();var i=e[0];if(i.isFoundDocument())return new dD(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new dD(t._firestore,r,n._key,null,n.converter);throw Vk()}))}},{key:"set",value:function(e,t,n){var r=nO(e,this._firestore),i=MD(r.converter,t,n),a=QP(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=nO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=zs(t))||t instanceof qP?nD(this._dataReader,"Transaction.update",i._key,t,n,o):tD(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=nO(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function iO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JP("arrayUnion",t)}function aO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZP("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Rk=e}(ju),Au(new Hs("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new CP(new $k(e.getProvider("auth-internal")),new e_(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wk(Hk.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new U_(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),zu(Dk,"3.8.0",e),zu(Dk,"3.8.0","esm2017")}();function oO(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Wk("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function sO(){if("undefined"===typeof Uint8Array)throw new Wk("unimplemented","Uint8Arrays are not available in this environment.")}function uO(){if("undefined"==typeof atob)throw new Wk("unimplemented","Blobs are unavailable in Firestore in this environment.")}var cO=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return uO(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return sO(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return uO(),new e(jP.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return sO(),new e(jP.fromUint8Array(t))}}]),e}();function lO(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ui(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var fO=function(){function e(){d(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){MP(e=zA(e,CP));var n=NP(e),r=e._freezeSettings(),i=new jA;return PP(n,i,new LA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){MP(e=zA(e,CP));var t=NP(e),n=e._freezeSettings(),r=new jA;return PP(t,r,new MA(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Wk(Hk.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Kk;return e._queue.enqueueAndForgetEvenWhileRestricted(Go(Wo().mark((function n(){return Wo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C_.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,C_.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(DS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),hO=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof U_||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Fk("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};QA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return DP(this._delegate)}},{key:"disableNetwork",value:function(){return OP(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&FA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Kk;return e.asyncQueue.enqueueAndForget(Go(Wo().mark((function n(){return Wo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=tA,n.next=3,bP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(NP(e=zA(e,CP)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return XD(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Wk("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new TO(this,JA(this._delegate,e))}catch(Zz){throw yO(Zz,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new gO(this,ZA(this._delegate,e))}catch(Zz){throw yO(Zz,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new xO(this,function(e,t){if(e=zA(e,GA),qA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Wk(Hk.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new $A(e,null,function(e){return new lx(c_.emptyPath(),e)}(t))}(this._delegate,e))}catch(Zz){throw yO(Zz,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=zA(e,CP);var r=Object.assign(Object.assign({},eO),n);return function(e){if(e.maxAttempts<1)throw new Wk(Hk.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Kk;return e.asyncQueue.enqueueAndForget(Go(Wo().mark((function i(){var a;return Wo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,kP(e);case 2:a=i.sent,new oP(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(NP(e),(function(n){return t(new rO(e,n))}),r)}(this._delegate,(function(n){return e(new pO(t,n))}))}},{key:"batch",value:function(){var e=this;return NP(this._delegate),new vO(new tO(this._delegate,(function(t){return JD(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return RP(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return LP(this._delegate,e).then((function(e){return e?new xO(t,e):null}))}}]),e}(),dO=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new cO(new jP(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return gO.forKey(t,this.firestore,null)}}]),n}(LD);var pO=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new dO(t)}return g(e,[{key:"get",value:function(e){var t=this,n=SO(e);return this._delegate.get(n).then((function(e){return new _O(t._firestore,new FD(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=SO(e);return n?(oO("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=SO(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SO(e);return this._delegate.delete(t),this}}]),e}(),vO=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=SO(e);return n?(oO("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=SO(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SO(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),mO=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new UD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wO(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new dO(t),n),i.set(n,a)),a}}]),e}();mO.INSTANCES=new WeakMap;var gO=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new dO(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new TO(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new TO(this.firestore,JA(this._delegate,e))}catch(Zz){throw yO(Zz,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=zs(e))instanceof YA&&eP(this._delegate,e)}},{key:"set",value:function(e,t){t=oO("DocumentReference.set",t);try{return t?GD(this._delegate,e,t):GD(this._delegate,e)}catch(Zz){throw yO(Zz,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?QD(this._delegate,e):QD.apply(void 0,[this._delegate,e,t].concat(r))}catch(Zz){throw yO(Zz,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return YD(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bO(n),a=kO(n,(function(t){return new _O(e.firestore,new FD(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return $D(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?WD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zA(e,YA);var t=zA(e.firestore,CP);return xP(NP(t),e._key,{source:"server"}).then((function(n){return ZD(t,e,n)}))}(this._delegate):function(e){e=zA(e,YA);var t=zA(e.firestore,CP);return xP(NP(t),e._key).then((function(n){return ZD(t,e,n)}))}(this._delegate),t.then((function(e){return new _O(n.firestore,new FD(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(mO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Wk("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new YA(n._delegate,r,new h_(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new YA(n._delegate,r,t))}}]),e}();function yO(e,t,n){return e.message=e.message.replace(t,n),e}function bO(e){var t,n=ui(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!lO(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function kO(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=lO(e[0])?e[0]:lO(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var _O=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new gO(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return zD(this._delegate,e._delegate)}}]),e}(),wO=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Vk()}(void 0!==t),t}}]),n}(_O),xO=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new dO(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,bD(this._delegate,function(e,t,n){var r=t,i=vD("where",e);return kD._create(i,r,n)}(t,n,r)))}catch(Zz){throw yO(Zz,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,bD(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=vD("orderBy",e);return wD._create(n,t)}(t,n)))}catch(Zz){throw yO(Zz,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,bD(this._delegate,function(e){return HA("limit",e),xD._create("limit",e,"F")}(t)))}catch(Zz){throw yO(Zz,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,bD(this._delegate,function(e){return HA("limitToLast",e),xD._create("limitToLast",e,"L")}(t)))}catch(Zz){throw yO(Zz,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,bD(this._delegate,ID.apply(void 0,arguments)))}catch(Zz){throw yO(Zz,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,bD(this._delegate,TD.apply(void 0,arguments)))}catch(Zz){throw yO(Zz,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,bD(this._delegate,CD.apply(void 0,arguments)))}catch(Zz){throw yO(Zz,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,bD(this._delegate,ND.apply(void 0,arguments)))}catch(Zz){throw yO(Zz,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return tP(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?KD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zA(e,$A);var t=zA(e.firestore,CP),n=NP(t),r=new HD(t);return EP(n,e._query,{source:"server"}).then((function(n){return new VD(t,r,e,n)}))}(this._delegate):function(e){e=zA(e,$A);var t=zA(e.firestore,CP),n=NP(t),r=new HD(t);return mD(e._query),EP(n,e._query).then((function(n){return new VD(t,r,e,n)}))}(this._delegate),t.then((function(e){return new IO(n.firestore,new VD(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bO(n),a=kO(n,(function(t){return new IO(e.firestore,new VD(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return $D(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(mO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),EO=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new wO(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),IO=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new xO(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new wO(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new EO(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new wO(n._firestore,r))}))}},{key:"isEqual",value:function(e){return zD(this._delegate,e._delegate)}}]),e}(),TO=function(e){b(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new gO(this.firestore,e):null}},{key:"doc",value:function(e){try{return new gO(this.firestore,void 0===e?ZA(this._delegate):ZA(this._delegate,e))}catch(Zz){throw yO(Zz,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=zA(e.firestore,CP),r=ZA(e),i=MD(e.converter,t);return JD(n,[QP(GP(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Wx.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new gO(t.firestore,e)}))}},{key:"isEqual",value:function(e){return eP(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(mO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(xO);function SO(e){return zA(e,YA)}var CO=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(qP,n)}return g(e,[{key:"isEqual",value:function(e){return(e=zs(e))instanceof qP&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(f_.keyField().canonicalString())}}]),e}(),NO=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new XP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new YP("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=iO.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=aO.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new eD("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),AO={Firestore:hO,GeoPoint:UP,Timestamp:o_,Blob:cO,Transaction:pO,WriteBatch:vO,DocumentReference:gO,DocumentSnapshot:_O,Query:xO,QueryDocumentSnapshot:wO,QuerySnapshot:IO,CollectionReference:TO,FieldPath:CO,FieldValue:NO,setLogLevel:function(e){!function(e){Lk.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Hs("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},AO)))}(e,(function(e,t){return new hO(e,t,new fO)})),e.registerVersion("@firebase/firestore-compat","0.3.0")}(dc);var PO="firebasestorage.googleapis.com",DO=function(e){b(n,e);var t=E(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=t.call(this,OO(e),"Firebase Storage: ".concat(r," (").concat(OO(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(w(i),n.prototype),i}return g(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return OO(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(bs);function OO(e){return"storage/"+e}function RO(){return new DO("unknown","An unknown error occurred, please check the error payload for server response.")}function LO(){return new DO("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function MO(){return new DO("canceled","User canceled the upload/download.")}function jO(){return new DO("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function qO(e){return new DO("invalid-argument",e)}function FO(){return new DO("app-deleted","The Firebase app was deleted.")}function UO(e,t){return new DO("invalid-format","String does not match format '"+e+"': "+t)}function VO(e){throw new DO("internal-error","Internal error: "+e)}var BO,zO=function(){function e(t,n){d(this,e),this.bucket=t,this.path_=n}return g(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(Zz){return new e(t,"")}if(""===r.path)return r;throw new DO("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===PO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new DO("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),HO=function(){function e(t){d(this,e),this.promise_=Promise.reject(t)}return g(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function WO(e){return"string"===typeof e||e instanceof String}function KO(e){return GO()&&e instanceof Blob}function GO(){return"undefined"!==typeof Blob&&!ss()}function QO(e,t,n,r){if(r<t)throw qO("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw qO("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function YO(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function $O(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function XO(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(BO||(BO={}));var JO=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];d(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return g(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(Zz){i(Zz)}else if(null!==a){var s=RO();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?FO():MO());else i(LO())}};this.canceled_?t(0,new ZO(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new ZO(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===BO.NO_ERROR,a=r.getStatus();if(n&&!XO(a,e.additionalRetryCodes_)||!e.retry){var o=-1!==e.successCodes_.indexOf(a);t(!0,new ZO(o,r))}else{var s=r.getErrorCode()===BO.ABORT;t(!1,new ZO(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),ZO=g((function e(t,n,r){d(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function eR(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function tR(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function nR(e,t){t&&(e["X-Firebase-GMPID"]=t)}function rR(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function iR(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=$O(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return nR(c,t),eR(c,n),tR(c,a),rR(c,r),new JO(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function aR(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function oR(){for(var e=aR(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(GO())return new Blob(n);throw new DO("unsupported-environment","This browser doesn't seem to support creating Blobs")}function sR(e){if("undefined"===typeof atob)throw new DO("unsupported-environment","".concat("base-64"," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));return atob(e)}var uR="raw",cR="base64",lR="base64url",fR="data_url",hR=g((function e(t,n){d(this,e),this.data=t,this.contentType=n||null}));function dR(e,t){switch(e){case uR:return new hR(pR(t));case cR:case lR:return new hR(vR(e,t));case fR:return new hR(function(e){var t=new mR(e);return t.base64?vR(cR,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(Zz){throw UO(fR,"Malformed data URL.")}return pR(t)}(t.rest)}(t),new mR(t).contentType)}throw RO()}function pR(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function vR(e,t){switch(e){case cR:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw UO(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case lR:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw UO(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=sR(t)}catch(Zz){if(Zz.message.includes("polyfill"))throw Zz;throw UO(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var mR=g((function e(t){d(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw UO(fR,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var gR=function(){function e(t,n){d(this,e);var r=0,i="";KO(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return g(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(KO(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(GO()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(oR.apply(null,i))}var a=n.map((function(e){return WO(e)?dR(uR,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function yR(e){var t;try{t=JSON.parse(e)}catch(Zz){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function bR(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function kR(e,t){return t}var _R=g((function e(t,n,r,i){d(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||kR})),wR=null;function xR(){if(wR)return wR;var e=[];e.push(new _R("bucket")),e.push(new _R("generation")),e.push(new _R("metageneration")),e.push(new _R("name","fullPath",!0));var t=new _R("name");t.xform=function(e,t){return function(e){return!WO(e)||e.length<2?e:bR(e)}(t)},e.push(t);var n=new _R("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new _R("timeCreated")),e.push(new _R("updated")),e.push(new _R("md5Hash",null,!0)),e.push(new _R("cacheControl",null,!0)),e.push(new _R("contentDisposition",null,!0)),e.push(new _R("contentEncoding",null,!0)),e.push(new _R("contentLanguage",null,!0)),e.push(new _R("contentType",null,!0)),e.push(new _R("metadata","customMetadata",!0)),wR=e}function ER(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new zO(n,r);return t._makeStorageReference(i)}})}(r,e),r}function IR(e,t,n){var r=yR(t);return null===r?null:ER(e,r,n)}function TR(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var SR=g((function e(t,n,r,i){d(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function CR(e){if(!e)throw RO()}function NR(e,t){return function(n,r){var i=IR(e,r,t);return CR(null!==i),i}}function AR(e,t){return function(n,r){var i=IR(e,r,t);return CR(null!==i),function(e,t,n,r){var i=yR(t);if(null===i)return null;if(!WO(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return YO("/b/"+o(i)+"/o/"+o(a),n,r)+$O({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function PR(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new DO("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new DO("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new DO("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new DO("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function DR(e){var t=PR(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new DO("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function OR(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function RR(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=OR(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+TR(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=gR.getBlob(c,r,l);if(null===f)throw jO();var h={name:u.fullPath},d=YO(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new SR(d,"POST",NR(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=PR(t),v}var LR=function(){function e(){var t=this;d(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=BO.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=BO.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=BO.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return g(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw VO("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw VO("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw VO("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Zz){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw VO("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw VO("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),MR=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(LR);function jR(){return new MR}var qR=function(){function e(t,n){d(this,e),this._service=t,this._location=n instanceof zO?n:zO.makeFromUrl(n,t.host)}return g(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new zO(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return bR(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new zO(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new DO("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function FR(e,t,n){e._throwIfRoot("uploadBytes");var r=RR(e.storage,e._location,xR(),new gR(t,!0),n);return e.storage.makeRequestWithTokens(r,jR).then((function(t){return{metadata:t,ref:e}}))}function UR(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=YO(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new SR(r,"GET",AR(e,n),i);return a.errorHandler=DR(t),a}(e.storage,e._location,xR());return e.storage.makeRequestWithTokens(t,jR).then((function(e){if(null===e)throw new DO("no-download-url","The given file does not have any download URLs.");return e}))}function VR(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=YO(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new SR(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=DR(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,jR)}function BR(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new zO(e._location.bucket,n);return new qR(e.storage,r)}function zR(e,t){if(e instanceof GR){var n=e;if(null==n._bucket)throw new DO("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new qR(n,n._bucket);return null!=t?zR(r,t):r}return void 0!==t?BR(e,t):e}function HR(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof GR)return new qR(e,t);throw qO("To use ref(service, url), the first argument must be a Storage instance.")}return zR(e,t)}function WR(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:zO.makeFromBucketSpec(n,e)}function KR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:ys(i,e.app.options.projectId))}var GR=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=PO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?zO.makeFromBucketSpec(i,this._host):WR(this._host,this.app.options)}return g(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=zO.makeFromBucketSpec(this._url,e):this._bucket=WR(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){QO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){QO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Go(Wo().mark((function e(){var t,n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Go(Wo().mark((function e(){var t,n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new qR(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new HO(FO());var o=iR(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Go(Wo().mark((function e(t,n){var r,i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),QR="@firebase/storage",YR="0.10.0",$R="storage";function XR(e){return UR(e=zs(e))}function JR(e,t){return HR(e=zs(e),t)}function ZR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fu(),t=arguments.length>1?arguments[1]:void 0,n=Pu(e=zs(e),$R),r=n.getImmediate({identifier:t}),i=vs("storage");return i&&eL.apply(void 0,[r].concat(h(i))),r}function eL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};KR(e,t,n,r)}function tL(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new GR(r,i,a,n,ju)}Au(new Hs($R,tL,"PUBLIC").setMultipleInstances(!0)),zu(QR,YR,""),zu(QR,YR,"esm2017");var nL=function(e){var t=JR(ZR(),"Proyectos/"+e.info.Title.replace(/ /g,"")),n=l((0,r.useState)(""),2),i=n[0],a=n[1];return XR(t).then((function(e){a(e)})),(0,Ve.jsxs)("div",{children:[(0,Ve.jsx)("img",{class:"card-img-top card-img-top-custom",src:i,alt:"Card image cap"}),(0,Ve.jsxs)("div",{class:"card-body",children:[(0,Ve.jsxs)("h5",{class:"card-title text-center card-title-custom text-primary",children:[e.info.Title,(0,Ve.jsx)("span",{className:"custom-badge badge bg-secondary",children:e.info.State})]}),(0,Ve.jsx)("p",{class:"card-text card-text-custom",children:e.info.Description})]}),(0,Ve.jsx)("div",{class:"card-footer bg-primary opacity-75",children:(0,Ve.jsxs)("small",{class:"text-light",children:["Publicado en: ",e.info.Date]})})]})},rL=function(){var e=l((0,r.useState)([]),2),t=e[0],n=e[1];dc.apps.length||dc.initializeApp(pc);var i=dc.firestore(),a=function(){var e=Go(Wo().mark((function e(){var t,r,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,i.collection("Proyectos").get();case 3:(a=e.sent).forEach((function(e){(t=e.data()).id=e.id,r.push(t)})),n(r.sort((function(e,t){return new Date(t.Date)-new Date(e.Date)}))),a[0];case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){a()}),[]);var o=l((0,r.useState)(""),2),s=o[0],u=o[1];return(0,r.useEffect)((function(){var e=[];if(t){for(var n=2;n>=0;n--)e.unshift(t[n]);u(e)}}),[t]),(0,Ve.jsxs)("div",{className:"home-news__container",children:[(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"Proyectos Recientes"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),s[0]&&(0,Ve.jsx)("div",{className:"home-news__card-container ",children:(0,Ve.jsxs)("div",{class:"card-group d-flex justify-content-center flex-wrap",children:[console.log(s),s.map((function(e){return(0,Ve.jsx)("div",{class:"card custom-card",children:(0,Ve.jsx)("a",{href:"/Proyectos/"+e.id,children:(0,Ve.jsx)(nL,{info:e})})})}))]})}),(0,Ve.jsx)("a",{href:"/Proyectos",children:(0,Ve.jsx)("button",{className:"btn btn-outline-primary rounded-pill d-block m-auto",children:"Todas Las Noticias"})})]})},iL=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(0),2),a=i[0],o=i[1],s=l((0,r.useState)("100px"),2),u=s[0],c=s[1],f=(0,r.useRef)();return(0,r.useEffect)((function(){new IntersectionObserver((function(e){var t=e[0];n(t.isIntersecting)})).observe(f.current)}),[]),(0,r.useEffect)((function(){t&&(o(1),c("0px"))}),[t]),(0,Ve.jsxs)("div",{className:"home-services__container",children:[(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"Nuestros Servicios"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsx)("p",{className:"home-services__content text-center",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Fuga placeat repudiandae mollitia. Eaque tempora voluptates natus maxime, voluptas deleniti corporis corrupti doloribus possimus quos, vitae fuga, delectus itaque quo fugiat! Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga quidem harum neque temporibus ipsam impedit aperiam, sit deserunt quod fugit nisi animi accusantium dignissimos, possimus eius hic optio accusamus at! Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem, sequi quis? Amet reprehenderit, explicabo eveniet quo numquam consequuntur cum atque id obcaecati aut quas aspernatur asperiores mollitia velit quod voluptas. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia, laborum laudantium cum dolores explicabo iusto voluptate nobis vitae voluptas, itaque quo ut dolorem a quibusdam. In saepe at odit vel?"}),(0,Ve.jsxs)("div",{className:"home-services__card-container d-flex flex-wrap justify-content-center",children:[(0,Ve.jsx)("a",{href:"/Servicios",children:(0,Ve.jsxs)("div",{ref:f,className:"home-services__card",style:{opacity:a,position:"relative",top:u},children:[(0,Ve.jsxs)("div",{className:"home-services__top bg-primary opacity-75 d-flex justify-content-center align-items-center flex-column",children:[(0,Ve.jsx)("i",{className:"service-icon text-light fa-solid fa-gear"}),(0,Ve.jsx)("h4",{className:"home-services__card-title text-light",children:"Placeholder Title"})]}),(0,Ve.jsx)("p",{className:"home-services__card-content opacity-75",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Odio voluptatibus exercitationem fuga. Dolore accusantium, hic magnam obcaecati omnis eius beatae aliquam esse sint deleniti mollitia quas rerum quos accusamus vitae."})]})}),(0,Ve.jsx)("a",{href:"/Servicios",children:(0,Ve.jsxs)("div",{className:"home-services__card",style:{opacity:a,position:"relative",top:u},children:[(0,Ve.jsxs)("div",{className:"home-services__top bg-secondary opacity-75 d-flex justify-content-center align-items-center flex-column",children:[(0,Ve.jsx)("i",{className:"service-icon text-light fa-solid fa-gear"}),(0,Ve.jsx)("h4",{className:"home-services__card-title text-light",children:"Placeholder Title"})]}),(0,Ve.jsx)("p",{className:"home-services__card-content opacity-75",children:" Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum perspiciatis incidunt deleniti esse pariatur architecto hic aliquid dolor praesentium amet iste facere vel a in ab aliquam, optio eos sit?"})]})}),(0,Ve.jsx)("a",{href:"/Servicios",children:(0,Ve.jsxs)("div",{className:"home-services__card",style:{opacity:a,position:"relative",top:u},children:[(0,Ve.jsxs)("div",{className:"home-services__top bg-info opacity-75 d-flex justify-content-center align-items-center flex-column",children:[(0,Ve.jsx)("i",{className:"service-icon text-light fa-solid fa-gear"}),(0,Ve.jsx)("h4",{className:"home-services__card-title text-light",children:"Placeholder Title"})]}),(0,Ve.jsx)("p",{className:"home-services__card-content opacity-75",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quos voluptates sunt assumenda, eos, qui facilis culpa omnis aut adipisci, dolores quod optio vel possimus rem facere totam neque odit ab! Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, amet mollitia fugiat eligendi ratione inventore aliquid facilis nihil ad debitis repellat nulla culpa harum sequi qui. Nihil facere perferendis voluptate."})]})})]}),(0,Ve.jsx)("a",{href:"/Servicios",children:(0,Ve.jsx)("button",{className:"btn btn-outline-primary d-block m-auto rounded-pill",children:"Todos Los Servicios"})})]})},aL=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(0),2),a=i[0],o=i[1],s=l((0,r.useState)("100px"),2),u=s[0],c=s[1],f=(0,r.useRef)();return(0,r.useEffect)((function(){new IntersectionObserver((function(e){var t=e[0];n(t.isIntersecting)})).observe(f.current)}),[]),(0,r.useEffect)((function(){t&&(o(.75),c("0px"))}),[t]),(0,Ve.jsxs)("div",{className:"home-main-info__container",children:[(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"Quienes Somos"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsxs)("div",{className:"home-main-info__info d-flex flex-wrap justify-content-center",children:[(0,Ve.jsx)("img",{src:"https://images.unsplash.com/photo-1455165814004-1126a7199f9b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",alt:"",className:"home-main-info__img"}),(0,Ve.jsxs)("div",{ref:f,style:{opacity:a,position:"relative",left:u},className:"home-main-info__content bg-primary",children:[(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-100 d-inline-block text-secondary",children:"Placeholder Title"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsx)("p",{className:"home-main-info__text text-light",children:"llo facere labore in voluptate perferendis minus repellendus similique, dolores ut tempora, reiciendis illum incidunt neque laboriosam fugit. Exercitationem. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eum labore omnis fuga voluptatum voluptates veniam esse dolores voluptate. Rerum, temporibus impedit nam sequi molestias commodi ut repellat sunt laboriosam provident!"}),(0,Ve.jsx)("a",{href:"/Acerca_De",children:(0,Ve.jsx)("button",{className:"btn btn-outline-light rounded-pill d-block m-auto",children:"Ver Mas"})})]})]})]})},oL=function(){return(0,Ve.jsxs)("div",{className:"home__container",children:[(0,Ve.jsx)(Fo,{}),(0,Ve.jsx)(Uo,{}),(0,Ve.jsxs)("div",{className:"home__main-card-container",children:[(0,Ve.jsx)(Vo,{color:"primary"}),(0,Ve.jsx)(Vo,{color:"secondary"}),(0,Ve.jsx)(Vo,{color:"info"})]}),(0,Ve.jsx)(aL,{}),(0,Ve.jsx)(iL,{}),(0,Ve.jsx)(Bo,{}),(0,Ve.jsx)("div",{className:"mapouter",children:(0,Ve.jsx)("div",{className:"gmap_canvas",children:(0,Ve.jsx)("iframe",{height:"300",id:"gmap_canvas",src:"https://maps.google.com/maps?q=choloma%20indelva&t=&z=17&ie=UTF8&iwloc=&output=embed",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0"})})}),(0,Ve.jsx)(Ho,{}),(0,Ve.jsx)("img",{src:"https://images.unsplash.com/photo-1513828646384-e4d8ec30d2bb?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",alt:"",className:"home-partners__img"}),(0,Ve.jsx)(rL,{}),(0,Ve.jsx)(zo,{})]})},sL=function(){return(0,Ve.jsxs)("div",{className:"about-us-header__container",children:[(0,Ve.jsx)("img",{src:"https://images.unsplash.com/photo-1580120656760-c652daad203c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",className:"about-us-header-img"}),(0,Ve.jsxs)("div",{className:"about-us-header__content",children:[(0,Ve.jsx)("h2",{className:"about-us-header-title text-light text-center",children:"Acerca De Nosotros"}),(0,Ve.jsx)("hr",{className:"about-us-header__divisor border-secondary opacity-100"}),(0,Ve.jsx)("p",{className:"about-us-header__text text-light text-center",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta officiis sit quibusdam delectus cupiditate maxime voluptate similique aut repudiandae quos asperiores nesciunt, totam commodi numquam illo, illum voluptatibus eaque consequatur. Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus autem numquam consequuntur magni expedita. Alias quasi odit dolorem a eligendi maiores provident blanditiis nihil facilis autem, ipsum, vero amet rem! Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto minima atque, fugit laborum veniam provident libero enim voluptates expedita dolorem hic odio cum tenetur, dolor ea ad incidunt, amet quia?"})]})]})},uL=function(){return(0,Ve.jsxs)("div",{className:"mision-vision__container",children:[(0,Ve.jsx)("img",{src:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1631&q=80",alt:"",className:"mision-vision__img"}),(0,Ve.jsxs)("div",{className:"mision-vision__card-group d-flex justify-content-center align-items-center",children:[(0,Ve.jsxs)("div",{className:"mision-vision__card mision-vision__card1 bg-light opacity-75",children:[(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"Mision"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsx)("p",{className:"mision-vision__text text-center",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eius odio cupiditate explicabo sapiente blanditiis voluptatem facilis, voluptatibus ex nihil provident aliquid quaerat, at cum eaque reiciendis? Reprehenderit harum laboriosam praesentium."})]}),(0,Ve.jsxs)("div",{className:"mision-vision__card mision-vision__card2 bg-dark opacity-75",children:[(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-light text-center opacity-75 d-inline-block",children:"Vision"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsx)("p",{className:"mision-vision__text text-light text-center",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eius odio cupiditate explicabo sapiente blanditiis voluptatem facilis, voluptatibus ex nihil provident aliquid quaerat, at cum eaque reiciendis? Reprehenderit harum laboriosam praesentium."})]})]})]})},cL=function(){return(0,Ve.jsxs)("div",{className:"our-story__container",children:[(0,Ve.jsx)("img",{src:"https://www.mckinsey.com/~/media/mckinsey/industries/advanced%20electronics/our%20insights/value%20creation%20in%20industrials/value-creation-in-industrials-1536x1536.png?mw=677&car=42:25",alt:"",className:"home-about-us__img"}),(0,Ve.jsx)("div",{className:"home-about-us__info-container",children:(0,Ve.jsxs)("div",{className:"home-about-us__info",children:[(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"Nuestra Historia"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsx)("p",{className:"home-about-us__content opacity-75",children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repellendus similique dignissimos nam, qui, corporis ipsam provident pariatur quasi atque consequatur obcaecati voluptate delectus vel a quibusdam doloremque sapiente! Architecto, est! Lorem ipsum, dolor sit amet consectetur adipisicing elit. Exercitationem, autem odit commodi aperiam eos at debitis accusantium consequatur aliquam ut quis vero iusto. Dolor sequi qui ipsa, necessitatibus saepe ad!"})]})})]})},lL=function(){return(0,Ve.jsx)("div",{className:"navbar2__container",children:(0,Ve.jsx)(oi,{bg:"dark",expand:"lg",className:"navbar-dark",style:{position:"relative",zIndex:10},children:(0,Ve.jsxs)(Ge,{children:[(0,Ve.jsx)(oi.Brand,{href:"/",children:(0,Ve.jsx)("img",{src:"/imgs/Servin-Logo-White.png",height:"70"})}),(0,Ve.jsx)(oi.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,Ve.jsx)(oi.Collapse,{id:"basic-navbar-nav",children:(0,Ve.jsxs)($t,{className:"me-auto",children:[(0,Ve.jsx)($t.Link,{href:"/",className:"fw-bold",children:"Inicio"}),(0,Ve.jsx)($t.Link,{href:"/Acerca_De",className:"fw-bold",children:"Empresa"}),(0,Ve.jsxs)(qo,{title:"Servicios",id:"basic-nav-dropdown",className:"fw-bold",children:[(0,Ve.jsx)(qo.Item,{href:"#action/3.1",children:"Servicios 1"}),(0,Ve.jsx)(qo.Item,{href:"#action/3.2",children:"Servicios 2"}),(0,Ve.jsx)(qo.Item,{href:"#action/3.3",children:"Servicios 3"}),(0,Ve.jsx)(qo.Divider,{}),(0,Ve.jsx)(qo.Item,{href:"/Servicios",children:"Todos los Servicios"})]}),(0,Ve.jsx)($t.Link,{href:"/Proyectos",className:"fw-bold",children:"Proyectos"}),(0,Ve.jsx)($t.Link,{href:"/Contacto",className:"fw-bold",children:"Contacto"})]})})]})})})},fL=function(){return(0,Ve.jsxs)("div",{className:"acerca-de__container",children:[(0,Ve.jsx)(lL,{}),(0,Ve.jsx)(sL,{}),(0,Ve.jsx)(cL,{}),(0,Ve.jsx)(uL,{}),(0,Ve.jsx)(Ho,{}),(0,Ve.jsx)(zo,{})]})},hL={_origin:"https://api.emailjs.com"},dL=function(e,t,n){if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0},pL=g((function e(t){d(this,e),this.status=t.status,this.text=t.responseText})),vL=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){var a=new XMLHttpRequest;a.addEventListener("load",(function(e){var t=e.target,n=new pL(t);200===n.status||"OK"===n.text?r(n):i(n)})),a.addEventListener("error",(function(e){var t=e.target;i(new pL(t))})),a.open("POST",hL._origin+e,!0),Object.keys(n).forEach((function(e){a.setRequestHeader(e,n[e])})),a.send(t)}))},mL=function(e,t,n,r){var i=r||hL._userID,a=function(e){var t;if(!(t="string"===typeof e?document.querySelector(e):e)||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t}(n);dL(i,e,t);var o=new FormData(a);return o.append("lib_version","3.2.0"),o.append("service_id",e),o.append("template_id",t),o.append("user_id",i),vL("/api/v1.0/email/send-form",o)},gL=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1],s=l((0,r.useState)(""),2),u=s[0],c=s[1],f=l((0,r.useState)(""),2),h=f[0],d=f[1];return(0,Ve.jsxs)("div",{className:"contact-form__container",children:[(0,Ve.jsx)("img",{src:"https://images.unsplash.com/photo-1599813391721-ed8c5fe98166?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2139&q=80",alt:"",className:"contact-form__background"}),(0,Ve.jsx)("div",{className:"contact-form__color bg-primary"}),(0,Ve.jsxs)("div",{className:"contact-form__content",children:[(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title contact-form__title fw-bold text-center text-light opacity-100 d-inline-block",children:"Envianos un Mensaje!"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsxs)("form",{action:"",className:"d-flex flex-column align-items-center",onSubmit:function(e){e.preventDefault(),mL("service_l4m6h8r","template_pqxbnzk",e.target,"DL2k33rBuXfhGF-75").then((function(e){console.log(e.text),n(""),o(""),c(""),d("")}),(function(e){console.log(e.text)}))},children:[(0,Ve.jsxs)("label",{className:"contact-form__input-group",children:[(0,Ve.jsx)("h4",{className:"contact-form__input-title text-light h5",children:"Nombre"}),(0,Ve.jsx)("input",{type:"text",className:"contact-form__input",value:t,name:"Name",onChange:function(e){n(e.target.value)}})]}),(0,Ve.jsxs)("label",{className:"contact-form__input-group",children:[(0,Ve.jsx)("h4",{className:"contact-form__input-title text-light h5",children:"Correo"}),(0,Ve.jsx)("input",{type:"email",className:"contact-form__input",value:a,name:"Email",onChange:function(e){o(e.target.value)}})]}),(0,Ve.jsxs)("label",{className:"contact-form__input-group",children:[(0,Ve.jsx)("h4",{className:"contact-form__input-title text-light h5",children:"Asunto"}),(0,Ve.jsx)("input",{type:"text",className:"contact-form__input",value:u,name:"Subject",onChange:function(e){c(e.target.value)}})]}),(0,Ve.jsxs)("label",{className:"contact-form__input-group",children:[(0,Ve.jsx)("h4",{className:"contact-form__input-title text-light h5",children:"Mensaje"}),(0,Ve.jsx)("textarea",{cols:"30",rows:"10",className:"contact-form__input",value:h,name:"Message",onChange:function(e){d(e.target.value)}})]}),(0,Ve.jsx)("button",{className:"contact-form__button btn btn-outline-light rounded-pill btn-lg",children:"Enviar"})]})]})]})},yL=function(){return(0,Ve.jsxs)("div",{className:"contact-header__container",children:[(0,Ve.jsx)("img",{src:"https://images.unsplash.com/photo-1494412519320-aa613dfb7738?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80s",className:"about-us-header-img"}),(0,Ve.jsxs)("div",{className:"about-us-header__content",children:[(0,Ve.jsx)("h2",{className:"about-us-header-title text-light text-center",children:"Entra en Contacto!"}),(0,Ve.jsx)("hr",{className:"about-us-header__divisor border-secondary opacity-100"}),(0,Ve.jsx)("p",{className:"about-us-header__text text-light text-center",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta officiis sit quibusdam delectus cupiditate maxime voluptate similique aut repudiandae quos asperiores nesciunt, totam commodi numquam illo, illum voluptatibus eaque consequatur. Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus autem numquam consequuntur magni expedita. Alias quasi odit dolorem a eligendi maiores provident blanditiis nihil facilis autem, ipsum, vero amet rem! Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto minima atque, fugit laborum veniam provident libero enim voluptates expedita dolorem hic odio cum tenetur, dolor ea ad incidunt, amet quia?"})]})]})},bL=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(0),2),a=i[0],o=i[1],s=l((0,r.useState)("100px"),2),u=s[0],c=s[1],f=(0,r.useRef)();return(0,r.useEffect)((function(){new IntersectionObserver((function(e){var t=e[0];n(t.isIntersecting)})).observe(f.current)}),[]),(0,r.useEffect)((function(){t&&(o(.75),c("0px"))}),[t]),(0,Ve.jsxs)("div",{className:"contact-info__container d-flex justify-content-center flex-wrap",children:[(0,Ve.jsxs)("div",{className:"title-container2",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"Placeholder Title"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsxs)("div",{className:"contact-info__group",ref:f,style:{position:"relative",opacity:a,top:u},children:[(0,Ve.jsx)("i",{className:"fa-solid fa-envelope text-primary contact-info__icon"}),(0,Ve.jsx)("p",{className:"contact-info__content text-primary fw-bold opacity-50 text-center",children:"Envia un Correo"}),(0,Ve.jsx)("p",{className:"contact-info__content text-primary fw-bold opacity-50 text-center",children:"email@email.com"})]}),(0,Ve.jsxs)("div",{className:"contact-info__group",style:{position:"relative",opacity:a,top:u},children:[(0,Ve.jsx)("i",{className:"fa-sharp fa-solid fa-location-dot text-primary contact-info__icon"}),(0,Ve.jsx)("p",{className:"contact-info__content text-primary fw-bold text-center opacity-50",children:"this is  ld a placeholder location kl this is a location"})]}),(0,Ve.jsxs)("div",{className:"contact-info__group",style:{position:"relative",opacity:a,top:u},children:[(0,Ve.jsx)("i",{className:"fa-solid fa-phone text-primary contact-info__icon"}),(0,Ve.jsx)("p",{className:"contact-info__content text-primary fw-bold opacity-50 text-center",children:"Llamanos!"}),(0,Ve.jsx)("p",{className:"contact-info__content text-primary fw-bold opacity-50 text-center",children:"999-999-999-99"})]})]})},kL=function(){return(0,Ve.jsxs)("div",{className:"contact__container",children:[(0,Ve.jsx)(lL,{}),(0,Ve.jsx)(yL,{}),(0,Ve.jsx)(bL,{}),(0,Ve.jsx)(gL,{}),(0,Ve.jsx)(zo,{})]})},_L=function(){return(0,Ve.jsxs)("div",{className:"services-header__container",children:[(0,Ve.jsx)("img",{src:"https://images.unsplash.com/photo-1469389335181-2198b4caa734?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1973&q=80",className:"about-us-header-img"}),(0,Ve.jsxs)("div",{className:"about-us-header__content",children:[(0,Ve.jsx)("h2",{className:"about-us-header-title text-light text-center",children:"Nuestros Servicios"}),(0,Ve.jsx)("hr",{className:"about-us-header__divisor border-secondary opacity-100"}),(0,Ve.jsx)("p",{className:"about-us-header__text text-light text-center",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta officiis sit quibusdam delectus cupiditate maxime voluptate similique aut repudiandae quos asperiores nesciunt, totam commodi numquam illo, illum voluptatibus eaque consequatur. Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus autem numquam consequuntur magni expedita. Alias quasi odit dolorem a eligendi maiores provident blanditiis nihil facilis autem, ipsum, vero amet rem! Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto minima atque, fugit laborum veniam provident libero enim voluptates expedita dolorem hic odio cum tenetur, dolor ea ad incidunt, amet quia?"})]})]})},wL=function(e){var t="/Servicios/"+e.info.Title.replace(/\s/gi,"_");return(0,Ve.jsx)("div",{className:"card custom-card",children:(0,Ve.jsxs)("a",{href:t,children:[(0,Ve.jsx)("img",{className:"card-img-top card-img-top-custom",src:e.info.img,alt:"Card image cap"}),(0,Ve.jsxs)("div",{className:"card-body",children:[(0,Ve.jsx)("a",{href:t,children:(0,Ve.jsxs)("h5",{className:"card-title text-center text-primary card-title-custom",children:[e.info.Title,(0,Ve.jsx)("span",{className:"custom-badge badge bg-secondary",children:e.info.State})]})}),(0,Ve.jsx)("p",{className:"card-text card-text-custom text-dark",children:e.info.Description})]}),(0,Ve.jsx)("div",{className:"card-footer bg-primary opacity-75",children:(0,Ve.jsxs)("small",{className:"text-light",children:["Publicado en: ",e.info.Date]})})]})})},xL=function(){return(0,Ve.jsxs)("div",{className:"services-card-group__container",children:[(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"Placeholder Title"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsx)("div",{className:"home-news__card-container",children:(0,Ve.jsx)("div",{className:"project-group__card-group flex-wrap d-flex justify-content-center",children:[{Title:"Card Title Placeholder",img:"https://images.unsplash.com/photo-1608126841548-dfad1d420a0f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",Date:"14 de febrero del 2022",State:"",Description:"Lorem ipsum dolor sit amet consectetur \n adipisicing elit. Harum doloribus ratione vel ipsam nemo praesentium tempora, laborum debitis. Beatae ad obcaecati \n\nharum quas pariatur natus assumenda laborum deleniti, itaque iusto. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus necessitatibus doloribus, repudiandae culpa nesciunt alias. Deleniti autem cupiditate commodi, sit expedita impedit natus numquam harum excepturi. Eius, fugiat doloribus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem, sunt error fugiat aperiam qui ullam? Eum, eius quidem at nobis inventore natus error quo, nam, ipsam ut veniam id explicabo? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam quis commodi aperiam obcaecati, consequuntur consequatur mollitia neque libero eos nulla saepe vero debitis nemo itaque cum ex tempore a fugit. Lorem ipsum, dolor sit amet consectetur adipisicing elit. A iusto sequi ducimus dignissimos optio accusamus animi laudantium, recusandae fugit, quo autem obcaecati est quia sed molestias sapiente reiciendis inventore culpa. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia cumque rem est pariatur nisi! Libero sint similique saepe in? Quisquam rem nesciunt suscipit ea provident debitis quis, libero nobis. Quo. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perferendis cupiditate dolorum sapiente ipsam, aut itaque? Magni aut, consequatur doloribus rerum placeat ipsum iure cum tempore eius libero cumque quis ut. Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident, consequatur quos! Dolorum dignissimos ipsa corrupti omnis? Asperiores, quam error corporis nulla ad est doloremque hic sapiente beatae assumenda culpa delectus!"},{Title:"Placeholder Service Title 2",img:"https://images.unsplash.com/photo-1608126841548-dfad1d420a0f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",Date:"14 de febrero del 2022",State:"",Description:"Lorem ipsum dolor sit amet consectetur  \n \n  adipisicing elit. Harum doloribus ratione vel ipsam nemo praesentium tempora, laborum debitis. Beatae ad obcaecati harum quas pariatur natus assumenda laborum deleniti, itaque iusto. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus necessitatibus doloribus, repudiandae culpa nesciunt alias. Deleniti autem cupiditate commodi, sit expedita impedit natus numquam harum excepturi. Eius, fugiat doloribus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem,\n \n sunt error fugiat aperiam qui ullam? Eum, eius quidem at nobis inventore natus error quo, nam, ipsam ut veniam id explicabo? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam quis commodi aperiam obcaecati, consequuntur consequatur mollitia neque libero eos nulla saepe vero debitis nemo itaque cum ex tempore a fugit. Lorem ipsum, dolor sit amet consectetur adipisicing elit. A iusto sequi ducimus dignissimos optio accusamus animi laudantium, recusandae fugit, quo autem obcaecati est quia sed molestias sapiente reiciendis inventore culpa. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia cumque rem est pariatur nisi! Libero sint similique saepe in? Quisquam rem nesciunt suscipit ea provident debitis quis, libero nobis. Quo. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perferendis cupiditate dolorum sapiente ipsam, aut itaque? Magni aut, consequatur doloribus rerum placeat ipsum iure cum tempore eius libero cumque quis ut. Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident, consequatur quos! Dolorum dignissimos ipsa corrupti omnis? Asperiores, quam error corporis nulla ad est doloremque hic sapiente beatae assumenda culpa delectus!"},{Title:"Placeholder Service Title 3",img:"https://images.unsplash.com/photo-1608126841548-dfad1d420a0f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",Date:"14 de febrero del 2022",State:"",Description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Harum doloribus ratione vel ipsam nemo praesentium tempora, laborum debitis. Beatae ad obcaecati harum quas pariatur natus assumenda laborum deleniti, itaque iusto. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus necessitatibus doloribus, repudiandae culpa nesciunt alias. Deleniti autem cupiditate commodi, sit expedita impedit natus numquam harum excepturi. Eius, fugiat doloribus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem, sunt error fugiat aperiam qui ullam? Eum, eius quidem at nobis inventore natus error quo, nam, ipsam ut veniam id explicabo? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam quis commodi aperiam obcaecati, consequuntur consequatur mollitia neque libero eos nulla saepe vero debitis nemo itaque cum ex tempore a fugit. Lorem ipsum, dolor sit amet consectetur adipisicing elit. A iusto sequi ducimus dignissimos optio accusamus animi laudantium, recusandae fugit, quo autem obcaecati est quia sed molestias sapiente reiciendis inventore culpa. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia cumque rem est pariatur nisi! Libero sint similique saepe in? Quisquam rem nesciunt suscipit ea provident debitis quis, libero nobis. Quo. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perferendis cupiditate dolorum sapiente ipsam, aut itaque? Magni aut, consequatur doloribus rerum placeat ipsum iure cum tempore eius libero cumque quis ut. Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident, consequatur quos! Dolorum dignissimos ipsa corrupti omnis? Asperiores, quam error corporis nulla ad est doloremque hic sapiente beatae assumenda culpa delectus!"},{Title:"Placeholder Service Title 4",img:"https://images.unsplash.com/photo-1608126841548-dfad1d420a0f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",Date:"14 de febrero del 2022",State:"",Description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Harum doloribus ratione vel ipsam nemo praesentium tempora, laborum debitis. Beatae ad obcaecati harum quas pariatur natus assumenda laborum deleniti, itaque iusto. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus necessitatibus doloribus, repudiandae culpa nesciunt alias. Deleniti autem cupiditate commodi, sit expedita impedit natus numquam harum excepturi. Eius, fugiat doloribus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem, sunt error fugiat aperiam qui ullam? Eum, eius quidem at nobis inventore natus error quo, nam, ipsam ut veniam id explicabo? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam quis commodi aperiam obcaecati, consequuntur consequatur mollitia neque libero eos nulla saepe vero debitis nemo itaque cum ex tempore a fugit. Lorem ipsum, dolor sit amet consectetur adipisicing elit. A iusto sequi ducimus dignissimos optio accusamus animi laudantium, recusandae fugit, quo autem obcaecati est quia sed molestias sapiente reiciendis inventore culpa. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia cumque rem est pariatur nisi! Libero sint similique saepe in? Quisquam rem nesciunt suscipit ea provident debitis quis, libero nobis. Quo. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perferendis cupiditate dolorum sapiente ipsam, aut itaque? Magni aut, consequatur doloribus rerum placeat ipsum iure cum tempore eius libero cumque quis ut. Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident, consequatur quos! Dolorum dignissimos ipsa corrupti omnis? Asperiores, quam error corporis nulla ad est doloremque hic sapiente beatae assumenda culpa delectus!"},{Title:"Placeholder Service Title 5",img:"https://images.unsplash.com/photo-1608126841548-dfad1d420a0f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",Date:"14 de febrero del 2022",State:"",Description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Harum doloribus ratione vel ipsam nemo praesentium tempora, laborum debitis. Beatae ad obcaecati harum quas pariatur natus assumenda laborum deleniti, itaque iusto. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus necessitatibus doloribus, repudiandae culpa nesciunt alias. Deleniti autem cupiditate commodi, sit expedita impedit natus numquam harum excepturi. Eius, fugiat doloribus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem, sunt error fugiat aperiam qui ullam? Eum, eius quidem at nobis inventore natus error quo, nam, ipsam ut veniam id explicabo? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam quis commodi aperiam obcaecati, consequuntur consequatur mollitia neque libero eos nulla saepe vero debitis nemo itaque cum ex tempore a fugit. Lorem ipsum, dolor sit amet consectetur adipisicing elit. A iusto sequi ducimus dignissimos optio accusamus animi laudantium, recusandae fugit, quo autem obcaecati est quia sed molestias sapiente reiciendis inventore culpa. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia cumque rem est pariatur nisi! Libero sint similique saepe in? Quisquam rem nesciunt suscipit ea provident debitis quis, libero nobis. Quo. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perferendis cupiditate dolorum sapiente ipsam, aut itaque? Magni aut, consequatur doloribus rerum placeat ipsum iure cum tempore eius libero cumque quis ut. Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident, consequatur quos! Dolorum dignissimos ipsa corrupti omnis? Asperiores, quam error corporis nulla ad est doloremque hic sapiente beatae assumenda culpa delectus!"},{Title:"Placeholder Service Title 6",img:"https://images.unsplash.com/photo-1608126841548-dfad1d420a0f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",Date:"14 de febrero del 2022",State:"",Description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Harum doloribus ratione vel ipsam nemo praesentium tempora, laborum debitis. Beatae ad obcaecati harum quas pariatur natus assumenda laborum deleniti, itaque iusto. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus necessitatibus doloribus, repudiandae culpa nesciunt alias. Deleniti autem cupiditate commodi, sit expedita impedit natus numquam harum excepturi. Eius, fugiat doloribus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem, sunt error fugiat aperiam qui ullam? Eum, eius quidem at nobis inventore natus error quo, nam, ipsam ut veniam id explicabo? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam quis commodi aperiam obcaecati, consequuntur consequatur mollitia neque libero eos nulla saepe vero debitis nemo itaque cum ex tempore a fugit. Lorem ipsum, dolor sit amet consectetur adipisicing elit. A iusto sequi ducimus dignissimos optio accusamus animi laudantium, recusandae fugit, quo autem obcaecati est quia sed molestias sapiente reiciendis inventore culpa. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia cumque rem est pariatur nisi! Libero sint similique saepe in? Quisquam rem nesciunt suscipit ea provident debitis quis, libero nobis. Quo. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perferendis cupiditate dolorum sapiente ipsam, aut itaque? Magni aut, consequatur doloribus rerum placeat ipsum iure cum tempore eius libero cumque quis ut. Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident, consequatur quos! Dolorum dignissimos ipsa corrupti omnis? Asperiores, quam error corporis nulla ad est doloremque hic sapiente beatae assumenda culpa delectus!"}].map((function(e){return(0,Ve.jsx)(wL,{info:e},e.title)}))})})]})},EL=function(){return(0,Ve.jsxs)("div",{className:"services__container",children:[(0,Ve.jsx)(lL,{}),(0,Ve.jsx)(_L,{}),(0,Ve.jsx)(xL,{}),(0,Ve.jsx)(zo,{})]})},IL=function(){var e=ge().id,t=[{title:"Card Title Placeholder",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Error sunt reiciendis natus minus pariatur iure? Ad facilis error itaque illum? Commodi sit sint voluptatum perferendis aspernatur esse amet ullam tempore.",img:"https://images.unsplash.com/photo-1608126841548-dfad1d420a0f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",date:"14 de febrero del 2022",descriptionLg:"Lorem ipsum dolor sit amet consectetur \n adipisicing elit. Harum doloribus ratione vel ipsam nemo praesentium tempora, laborum debitis. Beatae ad obcaecati \n\nharum quas pariatur natus assumenda laborum deleniti, itaque iusto. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus necessitatibus doloribus, repudiandae culpa nesciunt alias. Deleniti autem cupiditate commodi, sit expedita impedit natus numquam harum excepturi. Eius, fugiat doloribus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem, sunt error fugiat aperiam qui ullam? Eum, eius quidem at nobis inventore natus error quo, nam, ipsam ut veniam id explicabo? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam quis commodi aperiam obcaecati, consequuntur consequatur mollitia neque libero eos nulla saepe vero debitis nemo itaque cum ex tempore a fugit. Lorem ipsum, dolor sit amet consectetur adipisicing elit. A iusto sequi ducimus dignissimos optio accusamus animi laudantium, recusandae fugit, quo autem obcaecati est quia sed molestias sapiente reiciendis inventore culpa. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia cumque rem est pariatur nisi! Libero sint similique saepe in? Quisquam rem nesciunt suscipit ea provident debitis quis, libero nobis. Quo. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perferendis cupiditate dolorum sapiente ipsam, aut itaque? Magni aut, consequatur doloribus rerum placeat ipsum iure cum tempore eius libero cumque quis ut. Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident, consequatur quos! Dolorum dignissimos ipsa corrupti omnis? Asperiores, quam error corporis nulla ad est doloremque hic sapiente beatae assumenda culpa delectus!"},{title:"Placeholder Service Title 2",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Error sunt reiciendis natus minus pariatur iure? Ad facilis error itaque illum? Commodi sit sint voluptatum perferendis aspernatur esse amet ullam tempore.",img:"https://images.unsplash.com/photo-1608126841548-dfad1d420a0f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",date:"14 de febrero del 2022",descriptionLg:"Lorem ipsum dolor sit amet consectetur  \n \n  adipisicing elit. Harum doloribus ratione vel ipsam nemo praesentium tempora, laborum debitis. Beatae ad obcaecati harum quas pariatur natus assumenda laborum deleniti, itaque iusto. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus necessitatibus doloribus, repudiandae culpa nesciunt alias. Deleniti autem cupiditate commodi, sit expedita impedit natus numquam harum excepturi. Eius, fugiat doloribus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem,\n \n sunt error fugiat aperiam qui ullam? Eum, eius quidem at nobis inventore natus error quo, nam, ipsam ut veniam id explicabo? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam quis commodi aperiam obcaecati, consequuntur consequatur mollitia neque libero eos nulla saepe vero debitis nemo itaque cum ex tempore a fugit. Lorem ipsum, dolor sit amet consectetur adipisicing elit. A iusto sequi ducimus dignissimos optio accusamus animi laudantium, recusandae fugit, quo autem obcaecati est quia sed molestias sapiente reiciendis inventore culpa. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia cumque rem est pariatur nisi! Libero sint similique saepe in? Quisquam rem nesciunt suscipit ea provident debitis quis, libero nobis. Quo. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perferendis cupiditate dolorum sapiente ipsam, aut itaque? Magni aut, consequatur doloribus rerum placeat ipsum iure cum tempore eius libero cumque quis ut. Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident, consequatur quos! Dolorum dignissimos ipsa corrupti omnis? Asperiores, quam error corporis nulla ad est doloremque hic sapiente beatae assumenda culpa delectus!"},{title:"Placeholder Service Title 3",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Error sunt reiciendis natus minus pariatur iure? Ad facilis error itaque illum? Commodi sit sint voluptatum perferendis aspernatur esse amet ullam tempore.",img:"https://images.unsplash.com/photo-1608126841548-dfad1d420a0f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",date:"14 de febrero del 2022",descriptionLg:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Harum doloribus ratione vel ipsam nemo praesentium tempora, laborum debitis. Beatae ad obcaecati harum quas pariatur natus assumenda laborum deleniti, itaque iusto. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus necessitatibus doloribus, repudiandae culpa nesciunt alias. Deleniti autem cupiditate commodi, sit expedita impedit natus numquam harum excepturi. Eius, fugiat doloribus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem, sunt error fugiat aperiam qui ullam? Eum, eius quidem at nobis inventore natus error quo, nam, ipsam ut veniam id explicabo? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam quis commodi aperiam obcaecati, consequuntur consequatur mollitia neque libero eos nulla saepe vero debitis nemo itaque cum ex tempore a fugit. Lorem ipsum, dolor sit amet consectetur adipisicing elit. A iusto sequi ducimus dignissimos optio accusamus animi laudantium, recusandae fugit, quo autem obcaecati est quia sed molestias sapiente reiciendis inventore culpa. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia cumque rem est pariatur nisi! Libero sint similique saepe in? Quisquam rem nesciunt suscipit ea provident debitis quis, libero nobis. Quo. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perferendis cupiditate dolorum sapiente ipsam, aut itaque? Magni aut, consequatur doloribus rerum placeat ipsum iure cum tempore eius libero cumque quis ut. Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident, consequatur quos! Dolorum dignissimos ipsa corrupti omnis? Asperiores, quam error corporis nulla ad est doloremque hic sapiente beatae assumenda culpa delectus!"},{title:"Placeholder Service Title 4",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Error sunt reiciendis natus minus pariatur iure? Ad facilis error itaque illum? Commodi sit sint voluptatum perferendis aspernatur esse amet ullam tempore.",img:"https://images.unsplash.com/photo-1608126841548-dfad1d420a0f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",date:"14 de febrero del 2022",descriptionLg:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Harum doloribus ratione vel ipsam nemo praesentium tempora, laborum debitis. Beatae ad obcaecati harum quas pariatur natus assumenda laborum deleniti, itaque iusto. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus necessitatibus doloribus, repudiandae culpa nesciunt alias. Deleniti autem cupiditate commodi, sit expedita impedit natus numquam harum excepturi. Eius, fugiat doloribus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem, sunt error fugiat aperiam qui ullam? Eum, eius quidem at nobis inventore natus error quo, nam, ipsam ut veniam id explicabo? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam quis commodi aperiam obcaecati, consequuntur consequatur mollitia neque libero eos nulla saepe vero debitis nemo itaque cum ex tempore a fugit. Lorem ipsum, dolor sit amet consectetur adipisicing elit. A iusto sequi ducimus dignissimos optio accusamus animi laudantium, recusandae fugit, quo autem obcaecati est quia sed molestias sapiente reiciendis inventore culpa. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia cumque rem est pariatur nisi! Libero sint similique saepe in? Quisquam rem nesciunt suscipit ea provident debitis quis, libero nobis. Quo. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perferendis cupiditate dolorum sapiente ipsam, aut itaque? Magni aut, consequatur doloribus rerum placeat ipsum iure cum tempore eius libero cumque quis ut. Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident, consequatur quos! Dolorum dignissimos ipsa corrupti omnis? Asperiores, quam error corporis nulla ad est doloremque hic sapiente beatae assumenda culpa delectus!"},{title:"Placeholder Service Title 5",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Error sunt reiciendis natus minus pariatur iure? Ad facilis error itaque illum? Commodi sit sint voluptatum perferendis aspernatur esse amet ullam tempore.",img:"https://images.unsplash.com/photo-1608126841548-dfad1d420a0f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",date:"14 de febrero del 2022",descriptionLg:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Harum doloribus ratione vel ipsam nemo praesentium tempora, laborum debitis. Beatae ad obcaecati harum quas pariatur natus assumenda laborum deleniti, itaque iusto. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus necessitatibus doloribus, repudiandae culpa nesciunt alias. Deleniti autem cupiditate commodi, sit expedita impedit natus numquam harum excepturi. Eius, fugiat doloribus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem, sunt error fugiat aperiam qui ullam? Eum, eius quidem at nobis inventore natus error quo, nam, ipsam ut veniam id explicabo? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam quis commodi aperiam obcaecati, consequuntur consequatur mollitia neque libero eos nulla saepe vero debitis nemo itaque cum ex tempore a fugit. Lorem ipsum, dolor sit amet consectetur adipisicing elit. A iusto sequi ducimus dignissimos optio accusamus animi laudantium, recusandae fugit, quo autem obcaecati est quia sed molestias sapiente reiciendis inventore culpa. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia cumque rem est pariatur nisi! Libero sint similique saepe in? Quisquam rem nesciunt suscipit ea provident debitis quis, libero nobis. Quo. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perferendis cupiditate dolorum sapiente ipsam, aut itaque? Magni aut, consequatur doloribus rerum placeat ipsum iure cum tempore eius libero cumque quis ut. Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident, consequatur quos! Dolorum dignissimos ipsa corrupti omnis? Asperiores, quam error corporis nulla ad est doloremque hic sapiente beatae assumenda culpa delectus!"},{title:"Placeholder Service Title 6",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Error sunt reiciendis natus minus pariatur iure? Ad facilis error itaque illum? Commodi sit sint voluptatum perferendis aspernatur esse amet ullam tempore.",img:"https://images.unsplash.com/photo-1608126841548-dfad1d420a0f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",date:"14 de febrero del 2022",descriptionLg:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Harum doloribus ratione vel ipsam nemo praesentium tempora, laborum debitis. Beatae ad obcaecati harum quas pariatur natus assumenda laborum deleniti, itaque iusto. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus necessitatibus doloribus, repudiandae culpa nesciunt alias. Deleniti autem cupiditate commodi, sit expedita impedit natus numquam harum excepturi. Eius, fugiat doloribus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem, sunt error fugiat aperiam qui ullam? Eum, eius quidem at nobis inventore natus error quo, nam, ipsam ut veniam id explicabo? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam quis commodi aperiam obcaecati, consequuntur consequatur mollitia neque libero eos nulla saepe vero debitis nemo itaque cum ex tempore a fugit. Lorem ipsum, dolor sit amet consectetur adipisicing elit. A iusto sequi ducimus dignissimos optio accusamus animi laudantium, recusandae fugit, quo autem obcaecati est quia sed molestias sapiente reiciendis inventore culpa. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia cumque rem est pariatur nisi! Libero sint similique saepe in? Quisquam rem nesciunt suscipit ea provident debitis quis, libero nobis. Quo. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perferendis cupiditate dolorum sapiente ipsam, aut itaque? Magni aut, consequatur doloribus rerum placeat ipsum iure cum tempore eius libero cumque quis ut. Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident, consequatur quos! Dolorum dignissimos ipsa corrupti omnis? Asperiores, quam error corporis nulla ad est doloremque hic sapiente beatae assumenda culpa delectus!"}].filter((function(t){return t.title.replace(/\s/gi,"_")==e}))[0];return(0,Ve.jsxs)("div",{className:"service-info_container",children:[(0,Ve.jsx)(lL,{}),(0,Ve.jsx)("img",{src:t.img,alt:"",className:"service-info__img"}),(0,Ve.jsxs)("div",{className:"service-info__subcontainer d-flex flex-column",children:[(0,Ve.jsx)("h2",{className:"service-info__title fw-bold h1 text-primary",children:t.title}),(0,Ve.jsx)("hr",{className:"service-info__divisor border-primary"}),(0,Ve.jsxs)("p",{className:"service-info__update-date text-info align-self-end fw-bold opacity-50",children:["Ultima vez actualizado: ",t.date]}),(0,Ve.jsx)("p",{className:"service-info__content",children:t.descriptionLg}),(0,Ve.jsx)("a",{href:"/Servicios",children:(0,Ve.jsx)("button",{className:"btn btn-outline-primary btn-large mx-auto d-block rounded-pill",children:"Regresar a Servicios"})})]}),(0,Ve.jsx)(zo,{})]})},TL=function(e){var t=JR(ZR(),"Proyectos/"+e.info.Title.replace(/ /g,"")),n=l((0,r.useState)(""),2),i=n[0],a=n[1];return XR(t).then((function(e){a(e)})),(0,Ve.jsx)("div",{children:i&&(0,Ve.jsx)("div",{children:(0,Ve.jsxs)("a",{href:"/Proyectos/"+e.info.id,children:[(0,Ve.jsx)("img",{className:"card-img-top card-img-top-custom",src:i,alt:"Card image cap"}),(0,Ve.jsxs)("div",{className:"card-body",children:[(0,Ve.jsx)("a",{href:"/Proyectos/"+e.info.id,children:(0,Ve.jsxs)("h5",{className:"card-title text-center text-primary card-title-custom",children:[e.info.Title,(0,Ve.jsx)("span",{className:"custom-badge badge bg-secondary",children:e.info.State})]})}),(0,Ve.jsx)("p",{className:"card-text card-text-custom",children:e.info.Description})]}),(0,Ve.jsx)("div",{className:"card-footer bg-primary opacity-75",children:(0,Ve.jsxs)("small",{className:"text-light",children:["Publicado en: ",e.info.Date]})})]})})})},SL=function(){var e=l((0,r.useState)([]),2),t=e[0],n=e[1];dc.apps.length||dc.initializeApp(pc);var i=dc.firestore(),a=function(){var e=Go(Wo().mark((function e(){var t,r,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,i.collection("Proyectos").get();case 3:(a=e.sent).forEach((function(e){(t=e.data()).id=e.id,r.push(t)})),n(r),a[0];case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){a()}),[]),(0,r.useEffect)((function(){console.log(t)}),[t]),(0,Ve.jsxs)("div",{className:"project-group__container",children:[(0,Ve.jsxs)("div",{className:"title-container2",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"Todos Los Proyectos"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsx)("div",{className:"home-news__card-container ",children:(0,Ve.jsx)("div",{className:"project-group__card-group flex-wrap d-flex justify-content-center",children:t.map((function(e){return(0,Ve.jsx)("div",{className:"card custom-card",children:(0,Ve.jsx)(TL,{info:e})})}))})})]})},CL=function(){return(0,Ve.jsx)("div",{className:"projects-header__container",children:(0,Ve.jsxs)("div",{className:"contact-header__container",children:[(0,Ve.jsx)("img",{src:"https://images.unsplash.com/photo-1542621334-a254cf47733d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",className:"about-us-header-img"}),(0,Ve.jsxs)("div",{className:"about-us-header__content",children:[(0,Ve.jsx)("h2",{className:"about-us-header-title text-light text-center",children:"Nuestros Proyectos"}),(0,Ve.jsx)("hr",{className:"about-us-header__divisor border-secondary opacity-100"}),(0,Ve.jsx)("p",{className:"about-us-header__text text-light text-center",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta officiis sit quibusdam delectus cupiditate maxime voluptate similique aut repudiandae quos asperiores nesciunt, totam commodi numquam illo, illum voluptatibus eaque consequatur. Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus autem numquam consequuntur magni expedita. Alias quasi odit dolorem a eligendi maiores provident blanditiis nihil facilis autem, ipsum, vero amet rem! Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto minima atque, fugit laborum veniam provident libero enim voluptates expedita dolorem hic odio cum tenetur, dolor ea ad incidunt, amet quia?"})]})]})})},NL=function(){return(0,Ve.jsxs)("div",{className:"projects__container",children:[(0,Ve.jsx)(lL,{}),(0,Ve.jsx)(CL,{}),(0,Ve.jsx)(SL,{}),(0,Ve.jsx)(zo,{})]})},AL=function(){var e=ge().id,t=l((0,r.useState)([]),2),n=t[0],i=t[1];dc.apps.length||dc.initializeApp(pc);var a=dc.firestore(),o=function(){var e=Go(Wo().mark((function e(){var t,n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,a.collection("Proyectos").get();case 3:(r=e.sent).forEach((function(e){(t=e.data()).id=e.id,n.push(t)})),i(n),r[0];case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){o()}),[]);var s=l((0,r.useState)(null),2),u=s[0],c=s[1];(0,r.useEffect)((function(){c(n.filter((function(t){return t.id==e}))[0])}),[n]);var f=l((0,r.useState)(""),2),h=f[0],d=f[1];return(0,r.useEffect)((function(){!function(){var e=ZR();if(u){XR(JR(e,"Proyectos/"+u.Title.replace(/ /g,""))).then((function(e){d(e)}))}}()}),[u]),(0,Ve.jsxs)("div",{className:"service-info_container",children:[(0,Ve.jsx)(lL,{}),u&&h&&(0,Ve.jsxs)("div",{children:[(0,Ve.jsx)("img",{src:h,alt:"",className:"service-info__img"}),(0,Ve.jsxs)("div",{className:"service-info__subcontainer d-flex flex-column",children:[(0,Ve.jsx)("h2",{className:"service-info__title fw-bold h1 text-primary",children:u.Title}),(0,Ve.jsx)("hr",{className:"service-info__divisor border-primary"}),(0,Ve.jsxs)("p",{className:"service-info__update-date text-info align-self-end fw-bold opacity-50",children:["Ultima vez actualizado: ",u.Date]}),(0,Ve.jsx)("p",{className:"service-info__content",children:u.Description}),(0,Ve.jsx)("a",{href:"/Proyectos",children:(0,Ve.jsx)("button",{className:"btn btn-outline-primary btn-large mx-auto d-block rounded-pill",children:"Regresar a Proyectos"})})]})]}),(0,Ve.jsx)(zo,{})]})},PL=function(){var e=l((0,r.useState)("flex"),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1],s=l((0,r.useState)(""),2),u=s[0],c=s[1],f=l((0,r.useState)(""),2),h=f[0],d=f[1],p=l((0,r.useState)(""),2),v=p[0],m=p[1],g=l((0,r.useState)(""),2),y=g[0],b=g[1],k=l((0,r.useState)(""),2),_=k[0],w=k[1],x=l((0,r.useState)(),2),E=x[0],I=x[1];function T(){c(""),d(""),m(""),b(""),w(""),I("")}var S=function(){var e=Go(Wo().mark((function e(){var t,n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,D.collection("Proyectos").get();case 3:(r=e.sent).forEach((function(e){(t=e.data()).id=e.id,n.push(t)})),A(n),r[0];case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){S()}),[]);var C=l((0,r.useState)([]),2),N=C[0],A=C[1],P=N.filter((function(e){return e.Title===E}))[0];(0,r.useEffect)((function(){P&&(c(P.Date),d(P.Description),m(P.State),b(P.Title))}),[E]),dc.apps.length||dc.initializeApp(pc);var D=dc.firestore(),O=function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Date:u,Description:h,State:v,Title:y,img:"https://media.architecturaldigest.com/photos/57c7003fdc03716f7c8289dd/master/pass/IMG%20Worlds%20of%20Adventure%20-%201.jpg"},e.next=3,D.collection("Proyectos").add(t);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YD(ZA(D,"Proyectos",P.id));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:({Date:u,Description:h,State:v,Title:y,img:"https://media.architecturaldigest.com/photos/57c7003fdc03716f7c8289dd/master/pass/IMG%20Worlds%20of%20Adventure%20-%201.jpg"}),D.collection("Proyectos").doc(P.id).update({Date:u,Description:h,State:v,Title:y,img:"https://media.architecturaldigest.com/photos/57c7003fdc03716f7c8289dd/master/pass/IMG%20Worlds%20of%20Adventure%20-%201.jpg"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var M=ZR();function j(){if(null!=_){var e=y.replace(/ /g,""),t=JR(M,"Proyectos/"+e);_&&function(e,t,n){return FR(e=zs(e),t,n)}(t,_).then((function(){alert("image uploaded")}))}}return(0,Ve.jsxs)("div",{className:"global-edit__container",children:[(0,Ve.jsxs)("div",{className:"global-edit__password-container",style:{display:t},children:[(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"Introduzca Contrase\xf1a"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"Servin2022"==a&&n("none")},children:[(0,Ve.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",className:"global-edit__password-input",value:a,onChange:function(e){o(e.target.value)}}),(0,Ve.jsx)("button",{className:"btn btn-outline-primary rounded-pill d-block m-auto",children:"Ingresar"})]})]}),(0,Ve.jsx)(lL,{}),(0,Ve.jsxs)("div",{className:"global-edit__editor-container d-flex flex-column align-items-center",children:[(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"A\xf1adir un Proyecto"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsxs)("form",{className:" global-edit__form d-flex flex-column align-items-center",onSubmit:function(e){e.preventDefault(),O(),j(),T()},children:[(0,Ve.jsxs)("label",{className:"global-edit__input-container",children:[(0,Ve.jsx)("p",{className:"fw-bold h5 opacity-75",children:"Titulo"}),(0,Ve.jsx)("input",{type:"text",className:"global-edit__input",value:y,onChange:function(e){b(e.target.value)}})]}),(0,Ve.jsxs)("label",{className:"global-edit__input-container",children:[(0,Ve.jsx)("p",{className:"fw-bold h5 opacity-75",children:"Imagen"}),(0,Ve.jsx)("input",{type:"file",onChange:function(e){w(e.target.files[0])}})]}),(0,Ve.jsxs)("label",{className:"global-edit__input-container",children:[(0,Ve.jsx)("p",{className:"fw-bold h5 opacity-75",children:"Fecha"}),(0,Ve.jsx)("input",{type:"date",className:"global-edit__input",value:u,onChange:function(e){c(e.target.value)}})]}),(0,Ve.jsxs)("label",{className:"global-edit__input-container",children:[(0,Ve.jsx)("p",{className:"fw-bold h5 opacity-75",children:"Estado"}),(0,Ve.jsxs)("select",{value:v,onChange:function(e){m(e.target.value)},children:[(0,Ve.jsx)("option",{value:"Actual",children:"Actual"}),(0,Ve.jsx)("option",{value:"",children:"Finalizado"})]})]}),(0,Ve.jsxs)("label",{className:"global-edit__input-container",children:[(0,Ve.jsx)("p",{className:"fw-bold h5 opacity-75",children:"Descripcion"}),(0,Ve.jsx)("textarea",{cols:"30",rows:"10",className:"global-edit__input",value:h,onChange:function(e){d(e.target.value)}})]}),(0,Ve.jsx)("button",{className:"btn btn-outline-primary rounded-pill",children:"Subir"})]}),(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"Editar un Proyecto"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsxs)("form",{className:"global-edit__form d-flex flex-column align-items-center",onSubmit:function(e){e.preventDefault(),L(),j(),T()},children:[(0,Ve.jsxs)("label",{className:"global-edit__input-container",children:[(0,Ve.jsx)("p",{className:"fw-bold h5 opacity-75",children:"Proyecto"}),(0,Ve.jsxs)("select",{value:E,onChange:function(e){I(e.target.value)},children:[(0,Ve.jsx)("option",{value:"",children:"-Seleccionar un Evento-"}),N.map((function(e){return(0,Ve.jsx)("option",{value:e.Title,children:e.Title})}))]})]}),(0,Ve.jsxs)("label",{className:"global-edit__input-container",children:[(0,Ve.jsx)("p",{className:"fw-bold h5 opacity-75",children:"Titulo"}),(0,Ve.jsx)("input",{type:"text",className:"global-edit__input",value:y,onChange:function(e){b(e.target.value)}})]}),(0,Ve.jsxs)("label",{className:"global-edit__input-container",children:[(0,Ve.jsx)("p",{className:"fw-bold h5 opacity-75",children:"Imagen"}),(0,Ve.jsx)("input",{type:"file",onChange:function(e){w(e.target.files[0])}})]}),(0,Ve.jsxs)("label",{className:"global-edit__input-container",children:[(0,Ve.jsx)("p",{className:"fw-bold h5 opacity-75",children:"Fecha"}),(0,Ve.jsx)("input",{type:"date",className:"global-edit__input",value:u,onChange:function(e){c(e.target.value)}})]}),(0,Ve.jsxs)("label",{className:"global-edit__input-container",children:[(0,Ve.jsx)("p",{className:"fw-bold h5 opacity-75",children:"Estado"}),(0,Ve.jsxs)("select",{value:v,onChange:function(e){m(e.target.value)},children:[(0,Ve.jsx)("option",{value:"Actual",children:"Actual"}),(0,Ve.jsx)("option",{value:"",children:"Finalizado"})]})]}),(0,Ve.jsxs)("label",{className:"global-edit__input-container",children:[(0,Ve.jsx)("p",{className:"fw-bold h5 opacity-75",children:"Descripcion"}),(0,Ve.jsx)("textarea",{cols:"30",rows:"10",className:"global-edit__input",value:h,onChange:function(e){d(e.target.value)}})]}),(0,Ve.jsx)("button",{className:"btn btn-outline-primary rounded-pill",children:"Subir"})]}),(0,Ve.jsxs)("div",{className:"title-container",children:[(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"}),(0,Ve.jsx)("h3",{className:"home-news__title fw-bold text-center opacity-75 d-inline-block",children:"Borrar un Proyecto"}),(0,Ve.jsx)("div",{className:"title-deco bg-secondary d-inline-block"})]}),(0,Ve.jsxs)("form",{className:" global-edit__form d-flex flex-column align-items-center",onSubmit:function(e){e.preventDefault(),R(),function(){var e=y.replace(/ /g,"");(function(e){return VR(e=zs(e))})(JR(M,"Proyectos/"+e)).then((function(){alert("file deleted")})).catch((function(e){alert("There was an error with the upload")}))}(),T()},children:[(0,Ve.jsxs)("label",{className:"global-edit__input-container",children:[(0,Ve.jsx)("p",{className:"fw-bold h5 opacity-75",children:"Proyecto"}),(0,Ve.jsxs)("select",{value:E,onChange:function(e){I(e.target.value)},children:[(0,Ve.jsx)("option",{value:"",children:"-Seleccionar un Evento-"}),N.map((function(e){return(0,Ve.jsx)("option",{value:e.Title,children:e.Title})}))]})]}),(0,Ve.jsx)("button",{className:"btn btn-outline-primary rounded-pill",children:"Borrar"})]}),(0,Ve.jsx)(zo,{})]})]})};var DL=function(){return(0,Ve.jsx)("div",{className:"App",children:(0,Ve.jsx)(Pe,{children:(0,Ve.jsxs)(Ce,{children:[(0,Ve.jsx)(Te,{path:"/",element:(0,Ve.jsx)(oL,{})}),(0,Ve.jsx)(Te,{path:"/Acerca_De",element:(0,Ve.jsx)(fL,{})}),(0,Ve.jsx)(Te,{path:"/Contacto",element:(0,Ve.jsx)(kL,{})}),(0,Ve.jsx)(Te,{path:"/Servicios",element:(0,Ve.jsx)(EL,{})}),(0,Ve.jsx)(Te,{path:"/Servicios/:id",element:(0,Ve.jsx)(IL,{})}),(0,Ve.jsx)(Te,{path:"/Proyectos",element:(0,Ve.jsx)(NL,{})}),(0,Ve.jsx)(Te,{path:"/Proyectos/:id",element:(0,Ve.jsx)(AL,{})}),(0,Ve.jsx)(Te,{path:"/GlobalEdit",element:(0,Ve.jsx)(PL,{})})]})})})},OL=(n(371),"@firebase/database"),RL="0.14.0",LL="";var ML=function(){function e(t){d(this,e),this.domStorage_=t,this.prefix_="firebase:"}return g(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Es(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:xs(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),jL=function(){function e(){d(this,e),this.cache_={},this.isInMemoryStorage=!0}return g(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Ts(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),qL=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ML(t)}}catch(Zz){}return new jL},FL=qL("localStorage"),UL=qL("sessionStorage"),VL=new tu("@firebase/database"),BL=function(){var e=1;return function(){return e++}}(),zL=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Xo(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ls;n.update(t);var r=n.digest();return es.encodeByteArray(r)},HL=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Es(r):r,t+=" "}return t},WL=null,KL=!0,GL=function(e,t){Xo(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(VL.logLevel=Qs.VERBOSE,WL=VL.log.bind(VL),t&&UL.set("logging_enabled",!0)):"function"===typeof e?WL=e:(WL=null,UL.remove("logging_enabled"))},QL=function(){if(!0===KL&&(KL=!1,null===WL&&!0===UL.get("logging_enabled")&&GL(!0)),WL){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=HL.apply(null,t);WL(r)}},YL=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];QL.apply(void 0,[e].concat(n))}},$L=function(){var e="FIREBASE INTERNAL ERROR: "+HL.apply(void 0,arguments);VL.error(e)},XL=function(){var e="FIREBASE FATAL ERROR: ".concat(HL.apply(void 0,arguments));throw VL.error(e),new Error(e)},JL=function(){var e="FIREBASE WARNING: "+HL.apply(void 0,arguments);VL.warn(e)},ZL=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},eM="[MIN_NAME]",tM="[MAX_NAME]",nM=function(e,t){if(e===t)return 0;if(e===eM||t===tM)return-1;if(t===eM||e===tM)return 1;var n=lM(e),r=lM(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},rM=function(e,t){return e===t?0:e<t?-1:1},iM=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Es(t))},aM=function e(t){if("object"!==typeof t||null===t)return Es(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Es(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},oM=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function sM(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var uM=function(e){Xo(!ZL(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var cM=new RegExp("^-?(0*)\\d{1,10}$"),lM=function(e){if(cM.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},fM=function(e){try{e()}catch(Zz){setTimeout((function(){var t=Zz.stack||"";throw JL("Exception was thrown by user callback.",t),Zz}),Math.floor(0))}},hM=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},dM=function(){function e(t,n){var r=this;d(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return g(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){JL('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),pM=function(){function e(t,n,r){var i=this;d(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return g(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(QL("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',JL(e)}}]),e}(),vM=function(){function e(t){d(this,e),this.accessToken=t}return g(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();vM.OWNER="owner";var mM="5",gM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yM="websocket",bM="long_polling",kM=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];d(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=FL.get("host:"+t)||this._host}return g(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&FL.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function _M(e,t,n){var r;if(Xo("string"===typeof t,"typeof type must == string"),Xo("object"===typeof n,"typeof params must == object"),t===yM)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==bM)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return sM(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var wM=function(){function e(){d(this,e),this.counters_={}}return g(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ts(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return is(void 0,this.counters_)}}]),e}(),xM={},EM={};function IM(e){var t=e.toString();return xM[t]||(xM[t]=new wM),xM[t]}var TM=function(){function e(t){d(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return g(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&fM((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),SM="start",CM="close",NM=function(){function e(t,n,r,i,a,o,s){var u=this;d(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=YL(t),this.stats_=IM(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),_M(n,bM,e)}}return g(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new TM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(fs()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new AM((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===SM)n.id=a,n.password=o;else{if(i!==CM)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=mM,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&gM.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Es(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=ts(t),r=oM(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!fs()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Es(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!fs()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),AM=function(){function e(t,n,r,i){if(d(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,fs())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=BL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(Zz){QL("frame writing exception"),Zz.stack&&QL(Zz.stack),QL(Zz)}}}return g(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;fs()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){QL("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(Zz){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||QL("No IE domain setting required")}catch(Zz){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),PM=null;"undefined"!==typeof MozWebSocket?PM=MozWebSocket:"undefined"!==typeof WebSocket&&(PM=WebSocket);var DM=function(){function e(t,n,r,i,a,o,s){d(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=YL(this.connId),this.stats_=IM(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return g(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,FL.set("previous_websocket_failure",!0);try{var r;if(fs()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(mM,"/").concat(LL,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new PM(this.connURL,[],r)}catch(Zz){this.log_("Error instantiating WebSocket.");var s=Zz.message||Zz.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){FL.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=xs(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Xo(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Es(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=oM(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(Zz){this.log_("Exception thrown from WebSocket.send():",Zz.message||Zz.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=mM,!fs()&&"undefined"!==typeof location&&location.hostname&&gM.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),_M(e,yM,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==PM&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return FL.isInMemoryStorage||!0===FL.get("previous_websocket_failure")}}]),e}();DM.responsesRequiredToBeHealthy=2,DM.healthyTimeout=3e4;var OM=function(){function e(t){d(this,e),this.initTransports_(t)}return g(e,[{key:"initTransports_",value:function(t){var n=DM&&DM.isAvailable(),r=n&&!DM.previouslyFailed();if(t.webSocketOnly&&(n||JL("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[DM];else{var i,a=this.transports_=[],o=ui(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[NM,DM]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();OM.globalTransportInitialized_=!1;var RM=function(){function e(t,n,r,i,a,o,s,u,c,l){d(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=YL("c:"+this.id+":"),this.transportManager_=new OM(n),this.log_("Connection created"),this.start_()}return g(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=hM((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=iM("t",e),n=iM("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=iM("t",e),n=iM("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=iM("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?$L("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$L("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),mM!==n&&JL("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),hM((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hM((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(FL.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),LM=function(){function e(){d(this,e)}return g(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),MM=function(){function e(t){d(this,e),this.allowedEvents_=t,this.listeners_={},Xo(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return g(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=h(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Xo(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),jM=function(e){b(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||os()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return g(n,[{key:"getInitialEvent",value:function(e){return Xo("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(MM),qM=function(){function e(t,n){if(d(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return g(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function FM(){return new qM("")}function UM(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function VM(e){return e.pieces_.length-e.pieceNum_}function BM(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new qM(e.pieces_,t)}function zM(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function HM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function WM(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new qM(t,0)}function KM(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof qM)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new qM(n,0)}function GM(e){return e.pieceNum_>=e.pieces_.length}function QM(e,t){var n=UM(e),r=UM(t);if(null===n)return t;if(n===r)return QM(BM(e),BM(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function YM(e,t){if(VM(e)!==VM(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function $M(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(VM(e)>VM(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var XM=g((function e(t,n){d(this,e),this.errorPrefix_=n,this.parts_=HM(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Us(this.parts_[r]);JM(this)}));function JM(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ZM(e))}function ZM(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var ej=function(e){b(n,e);var t=E(n);function n(){var e,r,i;return d(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return g(n,[{key:"getInitialEvent",value:function(e){return Xo("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(MM),tj=1e3,nj=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o,s,u,c){var l;if(d(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=YL("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=tj,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!fs())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return ej.getInstance().on("visible",l.onVisible_,w(l)),-1===e.host.indexOf("fblocal")&&jM.getInstance().on("online",l.onOnline_,w(l)),l}return g(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Es(i)),Xo(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new gs,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Xo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Xo(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Is(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Is(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Xo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Es(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):$L("Unrecognized action received from server: "+Es(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Xo(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tj,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=tj,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=tj),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Go(Wo().mark((function e(){var t,r,i,a,o,s,u,c,f,h,d,p,v,m,g=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},f=function(e){Xo(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=l(d,2),v=p[0],m=p[1],s?QL("getToken() completed but was canceled"):(QL("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new RM(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){JL(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&JL(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){QL("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){QL("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Cs(this.interruptReasons_)&&(this.reconnectDelay_=tj,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return aM(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new qM(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){QL("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){QL("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=ui(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=ui(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";fs()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+LL.replace(/\./g,"-")]=1,os()?e["framework.cordova"]=1:cs()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=jM.getInstance().currentlyOnline();return Cs(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Ts(e,"w")){var n=Ss(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();JL("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(LM);nj.nextPersistentConnectionId_=0,nj.nextConnectionId_=0;var rj,ij=function(){function e(t,n){d(this,e),this.name=t,this.node=n}return g(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),aj=function(){function e(){d(this,e)}return g(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new ij(eM,e),r=new ij(eM,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return ij.MIN}}]),e}(),oj=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){return nM(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Jo("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return ij.MIN}},{key:"maxPost",value:function(){return new ij(tM,rj)}},{key:"makePost",value:function(e,t){return Xo("string"===typeof e,"KeyIndex indexValue must always be a string."),new ij(e,rj)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return rj},set:function(e){rj=e}}]),n}(aj),sj=new oj,uj=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;d(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return g(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),cj=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:hj.EMPTY_NODE,this.right=null!=a?a:hj.EMPTY_NODE}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return hj.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return hj.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();cj.RED=!0,cj.BLACK=!1;var lj,fj=function(){function e(){d(this,e)}return g(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new cj(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),hj=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;d(this,e),this.comparator_=t,this.root_=n}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,cj.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,cj.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new uj(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new uj(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new uj(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new uj(this.root_,null,this.comparator_,!0,e)}}]),e}();function dj(e,t){return nM(e.name,t.name)}function pj(e,t){return nM(e,t)}hj.EMPTY_NODE=new fj;var vj,mj,gj,yj=function(e){return"number"===typeof e?"number:"+uM(e):"string:"+e},bj=function(e){if(e.isLeafNode()){var t=e.val();Xo("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ts(t,".sv"),"Priority must be a string or number.")}else Xo(e===lj||e.isEmpty(),"priority of unexpected type.");Xo(e===lj||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},kj=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;d(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Xo(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),bj(this.priorityNode_)}return g(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return GM(t)?this:".priority"===UM(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=UM(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Xo(".priority"!==r||1===VM(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(BM(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+yj(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?uM(this.value_):this.value_,this.lazyHash_=zL(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Xo(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Xo(i>=0,"Unknown leaf type: "+n),Xo(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return vj},set:function(e){vj=e}}]),e}();kj.VALUE_TYPE_ORDER=["object","boolean","number","string"];var _j,wj,xj=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?nM(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return ij.MIN}},{key:"maxPost",value:function(){return new ij(tM,new kj("[PRIORITY-POST]",gj))}},{key:"makePost",value:function(e,t){var n=mj(e);return new ij(t,new kj("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(aj),Ej=new xj,Ij=Math.log(2),Tj=function(){function e(t){d(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Ij,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return g(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Sj=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new cj(o,a.node,cj.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new cj(o,a.node,cj.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new cj(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,cj.BLACK):(s(f,cj.BLACK),s(f,cj.RED))}return a}(new Tj(e.length));return new hj(r||t,a)},Cj={},Nj=function(){function e(t,n){d(this,e),this.indexes_=t,this.indexSet_=n}return g(e,[{key:"get",value:function(e){var t=Ss(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof hj?t:null}},{key:"hasIndex",value:function(e){return Ts(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Xo(t!==sj,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(ij.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Sj(i,t.getCompare()):Cj;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Ns(this.indexes_,(function(e,i){var a=Ss(r.indexSet_,i);if(Xo(a,"Missing index implementation for "+i),e===Cj){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(ij.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Sj(o,a.getCompare())}return Cj}var c=n.get(t.name),l=e;return c&&(l=l.remove(new ij(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Ns(this.indexes_,(function(e){if(e===Cj)return e;var r=n.get(t.name);return r?e.remove(new ij(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Xo(Cj&&Ej,"ChildrenNode.ts has not been loaded"),_j=_j||new e({".priority":Cj},{".priority":Ej})}}]),e}(),Aj=function(){function e(t,n,r){d(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&bj(this.priorityNode_),this.children_.isEmpty()&&Xo(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return g(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||wj}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?wj:t}},{key:"getChild",value:function(e){var t=UM(e);return null===t?this:this.getImmediateChild(t).getChild(BM(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Xo(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new ij(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?wj:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=UM(e);if(null===n)return t;Xo(".priority"!==UM(e)||1===VM(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(BM(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Ej,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+yj(this.getPriority().val())+":"),this.forEachChild(Ej,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":zL(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new ij(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new ij(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new ij(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,ij.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,ij.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Pj?-1:0}},{key:"withIndex",value:function(t){if(t===sj||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===sj||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ej),r=t.getIterator(Ej),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===sj?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return wj||(wj=new e(new hj(pj),null,Nj.Default))}}]),e}();Aj.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Pj=new(function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.call(this,new hj(pj),Aj.EMPTY_NODE,Nj.Default)}return g(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Aj.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Aj));Object.defineProperties(ij,{MIN:{value:new ij(eM,Aj.EMPTY_NODE)},MAX:{value:new ij(tM,Pj)}}),oj.__EMPTY_NODE=Aj.EMPTY_NODE,kj.__childrenNodeConstructor=Aj,lj=Pj,function(e){gj=e}(Pj);function Dj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Aj.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Xo(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new kj(n,Dj(t))}if(e instanceof Array){var r=Aj.EMPTY_NODE;return sM(e,(function(t,n){if(Ts(e,t)&&"."!==t.substring(0,1)){var i=Dj(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Dj(t))}var i=[],a=!1,o=e;if(sM(o,(function(e,t){if("."!==e.substring(0,1)){var n=Dj(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new ij(e,n)))}})),0===i.length)return Aj.EMPTY_NODE;var s=Sj(i,dj,(function(e){return e.name}),pj);if(a){var u=Sj(i,Ej.getCompare());return new Aj(s,Dj(t),new Nj({".priority":u},{".priority":Ej}))}return new Aj(s,Dj(t),Nj.Default)}!function(e){mj=e}(Dj);var Oj=function(e){b(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).indexPath_=e,Xo(!GM(e)&&".priority"!==UM(e),"Can't create PathIndex with empty path or .priority key"),r}return g(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?nM(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Dj(e),r=Aj.EMPTY_NODE.updateChild(this.indexPath_,n);return new ij(t,r)}},{key:"maxPost",value:function(){var e=Aj.EMPTY_NODE.updateChild(this.indexPath_,Pj);return new ij(tM,e)}},{key:"toString",value:function(){return HM(this.indexPath_,0).join("/")}}]),n}(aj),Rj=function(e){b(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?nM(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return ij.MIN}},{key:"maxPost",value:function(){return ij.MAX}},{key:"makePost",value:function(e,t){var n=Dj(e);return new ij(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(aj),Lj=new Rj;function Mj(e){return{type:"value",snapshotNode:e}}function jj(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function qj(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Fj(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Uj=function(){function e(t){d(this,e),this.index_=t}return g(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Xo(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(qj(t,o)):Xo(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(jj(t,n)):a.trackChildChange(Fj(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ej,(function(e,r){t.hasChild(e)||n.trackChildChange(qj(e,r))})),t.isLeafNode()||t.forEachChild(Ej,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Fj(t,r,i))}else n.trackChildChange(jj(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Aj.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Vj=function(){function e(t){d(this,e),this.indexedFilter_=new Uj(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return g(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new ij(t,n))||(n=Aj.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Aj.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Aj.EMPTY_NODE);var i=this;return t.forEachChild(Ej,(function(e,t){i.matches(new ij(e,t))||(r=r.updateImmediateChild(e,Aj.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Bj=function(){function e(t){var n=this;d(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Vj(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return g(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new ij(t,n))||(n=Aj.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Aj.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Aj.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(Aj.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,Aj.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;Xo(s.numChildren()===this.limit_,"");var u=new ij(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Fj(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(qj(t,f));var p=s.updateImmediateChild(t,Aj.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(jj(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(qj(c.name,c.node)),i.trackChildChange(jj(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Aj.EMPTY_NODE)):e}}]),e}(),zj=function(){function e(){d(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ej}return g(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Xo(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Xo(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:eM}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Xo(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Xo(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tM}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Xo(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Ej}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Hj(e){var t,n={};if(e.isDefault())return n;if(e.index_===Ej?t="$priority":e.index_===Lj?t="$value":e.index_===sj?t="$key":(Xo(e.index_ instanceof Oj,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Es(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Es(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Es(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Es(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Es(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Wj(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ej&&(t.i=e.index_.toString()),t}var Kj=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=YL("p:rest:"),o.listens_={},o}return g(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=Hj(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Ss(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Hj(e._queryParams),r=e._path.toString(),i=new gs;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=l(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Ds(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=xs(c.responseText)}catch(Zz){JL("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&JL("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Xo(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(LM),Gj=function(){function e(){d(this,e),this.rootNode_=Aj.EMPTY_NODE}return g(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Qj(){return{value:null,children:new Map}}function Yj(e,t,n){if(GM(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=UM(t);e.children.has(r)||e.children.set(r,Qj()),Yj(e.children.get(r),t=BM(t),n)}}function $j(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){$j(r,new qM(t.toString()+"/"+e),n)}))}var Xj,Jj=function(){function e(t){d(this,e),this.collection_=t,this.last_=null}return g(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&sM(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Zj=function(){function e(t,n){d(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Jj(t);var r=1e4+2e4*Math.random();hM(this.reportStats_.bind(this),Math.floor(r))}return g(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;sM(t,(function(t,i){i>0&&Ts(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),hM(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function eq(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Xj||(Xj={}));var tq,nq=function(){function e(t,n,r){d(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Xj.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return g(e,[{key:"operationForChild",value:function(t){if(GM(this.path)){if(null!=this.affectedTree.value)return Xo(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new qM(t));return new e(FM(),n,this.revert)}return Xo(UM(this.path)===t,"operationForChild called for unrelated child."),new e(BM(this.path),this.affectedTree,this.revert)}}]),e}(),rq=function(){function e(t,n){d(this,e),this.source=t,this.path=n,this.type=Xj.LISTEN_COMPLETE}return g(e,[{key:"operationForChild",value:function(t){return GM(this.path)?new e(this.source,FM()):new e(this.source,BM(this.path))}}]),e}(),iq=function(){function e(t,n,r){d(this,e),this.source=t,this.path=n,this.snap=r,this.type=Xj.OVERWRITE}return g(e,[{key:"operationForChild",value:function(t){return GM(this.path)?new e(this.source,FM(),this.snap.getImmediateChild(t)):new e(this.source,BM(this.path),this.snap)}}]),e}(),aq=function(){function e(t,n,r){d(this,e),this.source=t,this.path=n,this.children=r,this.type=Xj.MERGE}return g(e,[{key:"operationForChild",value:function(t){if(GM(this.path)){var n=this.children.subtree(new qM(t));return n.isEmpty()?null:n.value?new iq(this.source,FM(),n.value):new e(this.source,FM(),n)}return Xo(UM(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,BM(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),oq=function(){function e(t,n,r){d(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return g(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(GM(e))return this.isFullyInitialized()&&!this.filtered_;var t=UM(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),sq=g((function e(t){d(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function uq(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Jo("Should only compare child_ events.");var r=new ij(t.childName,t.snapshotNode),i=new ij(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function cq(e,t){return{eventCache:e,serverCache:t}}function lq(e,t,n,r){return cq(new oq(t,n,r),e.serverCache)}function fq(e,t,n,r){return cq(e.eventCache,new oq(t,n,r))}function hq(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function dq(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var pq=function(){return tq||(tq=new hj(rM)),tq},vq=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pq();d(this,e),this.value=t,this.children=n}return g(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:FM(),value:this.value};if(GM(e))return null;var n=UM(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(BM(e),t);return null!=i?{path:KM(new qM(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(GM(t))return this;var n=UM(t),r=this.children.get(n);return null!==r?r.subtree(BM(t)):new e(null)}},{key:"set",value:function(t,n){if(GM(t))return new e(n,this.children);var r=UM(t),i=(this.children.get(r)||new e(null)).set(BM(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(GM(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=UM(t),r=this.children.get(n);if(r){var i,a=r.remove(BM(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(GM(e))return this.value;var t=UM(e),n=this.children.get(t);return n?n.get(BM(e)):null}},{key:"setTree",value:function(t,n){if(GM(t))return n;var r,i=UM(t),a=(this.children.get(i)||new e(null)).setTree(BM(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(FM(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(KM(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,FM(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(GM(e))return null;var i=UM(e),a=this.children.get(i);return a?a.findOnPath_(BM(e),KM(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,FM(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(GM(t))return this;this.value&&r(n,this.value);var i=UM(t),a=this.children.get(i);return a?a.foreachOnPath_(BM(t),KM(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(FM(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(KM(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return sM(t,(function(e,t){n=n.set(new qM(e),t)})),n}}]),e}(),mq=function(){function e(t){d(this,e),this.writeTree_=t}return g(e,null,[{key:"empty",value:function(){return new e(new vq(null))}}]),e}();function gq(e,t,n){if(GM(t))return new mq(new vq(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=QM(i,t);return a=a.updateChild(o,n),new mq(e.writeTree_.set(i,a))}var s=new vq(n),u=e.writeTree_.setTree(t,s);return new mq(u)}function yq(e,t,n){var r=e;return sM(n,(function(e,n){r=gq(r,KM(t,e),n)})),r}function bq(e,t){if(GM(t))return mq.empty();var n=e.writeTree_.setTree(t,new vq(null));return new mq(n)}function kq(e,t){return null!=_q(e,t)}function _q(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(QM(n.path,t)):null}function wq(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ej,(function(e,n){t.push(new ij(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new ij(e,n.value))})),t}function xq(e,t){if(GM(t))return e;var n=_q(e,t);return new mq(null!=n?new vq(n):e.writeTree_.subtree(t))}function Eq(e){return e.writeTree_.isEmpty()}function Iq(e,t){return Tq(FM(),e.writeTree_,t)}function Tq(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Xo(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Tq(KM(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(KM(e,".priority"),r)),n}function Sq(e,t){return Vq(t,e)}function Cq(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Nq(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Xo(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Aq(s,r.path)?i=!1:$M(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Dq(e.allWrites,Pq,FM()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=bq(e.visibleWrites,r.path):sM(r.children,(function(t){e.visibleWrites=bq(e.visibleWrites,KM(r.path,t))}));return!0}return!1}function Aq(e,t){if(e.snap)return $M(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&$M(KM(e.path,n),t))return!0;return!1}function Pq(e){return e.visible}function Dq(e,t,n){for(var r=mq.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)$M(n,o)?r=gq(r,s=QM(n,o),a.snap):$M(o,n)&&(s=QM(o,n),r=gq(r,FM(),a.snap.getChild(s)));else{if(!a.children)throw Jo("WriteRecord should have .snap or .children");if($M(n,o))r=yq(r,s=QM(n,o),a.children);else if($M(o,n))if(GM(s=QM(o,n)))r=yq(r,FM(),a.children);else{var u=Ss(a.children,UM(s));if(u){var c=u.getChild(BM(s));r=gq(r,FM(),c)}}}}}return r}function Oq(e,t,n,r,i){if(r||i){var a=xq(e.visibleWrites,t);if(!i&&Eq(a))return n;if(i||null!=n||kq(a,FM())){var o=Dq(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&($M(e.path,t)||$M(t,e.path))}),t);return Iq(o,n||Aj.EMPTY_NODE)}return null}var s=_q(e.visibleWrites,t);if(null!=s)return s;var u=xq(e.visibleWrites,t);return Eq(u)?n:null!=n||kq(u,FM())?Iq(u,n||Aj.EMPTY_NODE):null}function Rq(e,t,n,r){return Oq(e.writeTree,e.treePath,t,n,r)}function Lq(e,t){return function(e,t,n){var r=Aj.EMPTY_NODE,i=_q(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ej,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=xq(e.visibleWrites,t);return n.forEachChild(Ej,(function(e,t){var n=Iq(xq(a,new qM(e)),t);r=r.updateImmediateChild(e,n)})),wq(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return wq(xq(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Mq(e,t,n,r){return function(e,t,n,r,i){Xo(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=KM(t,n);if(kq(e.visibleWrites,a))return null;var o=xq(e.visibleWrites,a);return Eq(o)?i.getChild(n):Iq(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function jq(e,t){return function(e,t){return _q(e.visibleWrites,t)}(e.writeTree,KM(e.treePath,t))}function qq(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=xq(e.visibleWrites,t),c=_q(u,FM());if(null!=c)s=c;else{if(null==n)return[];s=Iq(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Fq(e,t,n){return function(e,t,n,r){var i=KM(t,n),a=_q(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Iq(xq(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Uq(e,t){return Vq(KM(e.treePath,t),e.writeTree)}function Vq(e,t){return{treePath:e,writeTree:t}}var Bq=function(){function e(){d(this,e),this.changeMap=new Map}return g(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Xo("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Xo(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Fj(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,qj(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,jj(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Jo("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Fj(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),zq=new(function(){function e(){d(this,e)}return g(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Hq=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return g(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new oq(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fq(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:dq(this.viewCache_),i=qq(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Wq(e,t,n,r,i){var a,o,s=new Bq;if(n.type===Xj.OVERWRITE){var u=n;u.source.fromUser?a=Qq(e,t,u.path,u.snap,r,i,s):(Xo(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!GM(u.path),a=Gq(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Xj.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=KM(n,r);Yq(t,UM(c))&&(s=Qq(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=KM(n,r);Yq(t,UM(c))||(s=Qq(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(Xo(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Xq(e,t,c.path,c.children,r,i,o,s))}else if(n.type===Xj.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=jq(r,n))return t;var s,u=new Hq(r,t,i),c=t.eventCache.getNode();if(GM(n)||".priority"===UM(n)){var l;if(t.serverCache.isFullyInitialized())l=Rq(r,dq(t));else{var f=t.serverCache.getNode();Xo(f instanceof Aj,"serverChildren would be complete if leaf node"),l=Lq(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=UM(n),d=Fq(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,BM(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,Aj.EMPTY_NODE,BM(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Rq(r,dq(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=jq(r,FM()),lq(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=jq(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(GM(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Gq(e,t,n,u.getNode().getChild(n),i,a,s,o);if(GM(n)){var c=new vq(null);return u.getNode().forEachChild(sj,(function(e,t){c=c.set(new qM(e),t)})),Xq(e,t,n,c,i,a,s,o)}return t}var l=new vq(null);return r.foreach((function(e,t){var r=KM(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Xq(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Xj.LISTEN_COMPLETE)throw Jo("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=fq(t,a.getNode(),a.isFullyInitialized()||GM(n),a.isFiltered());return Kq(e,o,n,r,zq,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=hq(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Mj(hq(t)))}}(t,a,f),{viewCache:a,changes:f}}function Kq(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=jq(r,n))return t;if(GM(n))if(Xo(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=dq(t),l=Lq(r,c instanceof Aj?c:Aj.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Rq(r,dq(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=UM(n);if(".priority"===h){Xo(1===VM(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Mq(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=BM(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var g=Mq(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(h).updateChild(m,g):u.getNode().getImmediateChild(h)}else v=Fq(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return lq(t,o,u.isFullyInitialized()||GM(n),e.filter.filtersNodes())}function Gq(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(GM(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=UM(n);if(!c.isCompleteForPath(n)&&VM(n)>1)return t;var d=BM(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,zq,null)}var v=fq(t,u,c.isFullyInitialized()||GM(n),l.filtersNodes());return Kq(e,v,n,i,new Hq(i,v,a),s)}function Qq(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new Hq(i,t,a);if(GM(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=lq(t,u,!0,e.filter.filtersNodes());else{var f=UM(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=lq(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=BM(n),p=c.getNode().getImmediateChild(f);if(GM(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===zM(d)&&v.getChild(WM(d)).isEmpty()?v:v.updateChild(d,r):Aj.EMPTY_NODE}if(p.equals(h))s=t;else s=lq(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Yq(e,t){return e.eventCache.isCompleteForChild(t)}function $q(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Xq(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=GM(n)?r:new vq(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=$q(0,t.serverCache.getNode().getImmediateChild(n),r);c=Gq(e,c,new qM(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=$q(0,t.serverCache.getNode().getImmediateChild(n),r);c=Gq(e,c,new qM(n),f,i,a,o,s)}})),c}var Jq,Zq=function(){function e(t,n){d(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Uj(i.getIndex()),o=(r=i).loadsAllData()?new Uj(r.getIndex()):r.hasLimit()?new Bj(r):new Vj(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(Aj.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Aj.EMPTY_NODE,u.getNode(),null),f=new oq(c,s.isFullyInitialized(),a.filtersNodes()),h=new oq(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=cq(h,f),this.eventGenerator_=new sq(this.query_)}return g(e,[{key:"query",get:function(){return this.query_}}]),e}();function eF(e,t){var n=dq(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!GM(t)&&!n.getImmediateChild(UM(t)).isEmpty())?n.getChild(t):null}function tF(e){return 0===e.eventRegistrations_.length}function nF(e,t,n){var r=[];if(n){Xo(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function rF(e,t,n,r){t.type===Xj.MERGE&&null!==t.source.queryId&&(Xo(dq(e.viewCache_),"We should always have a full cache before handling merges"),Xo(hq(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Wq(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Xo(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Xo(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Xo(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,iF(e,s.changes,s.viewCache.eventCache.getNode(),null)}function iF(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),uq(e,i,"child_removed",t,r,n),uq(e,i,"child_added",t,r,n),uq(e,i,"child_moved",a,r,n),uq(e,i,"child_changed",t,r,n),uq(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var aF,oF=g((function e(){d(this,e),this.views=new Map}));function sF(e){return 0===e.views.size}function uF(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Xo(null!=a,"SyncTree gave us an op for an invalid query."),rF(a,t,n,r)}var o,s=[],u=ui(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(rF(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function cF(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Rq(n,i?r:null),u=!1;s?u=!0:r instanceof Aj?(s=Lq(n,r),u=!1):(s=Aj.EMPTY_NODE,u=!1);var c=cq(new oq(s,u,!1),new oq(r,i,!1));return new Zq(t,c)}return o}function lF(e,t,n,r,i,a){var o=cF(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ej,(function(e,t){r.push(jj(e,t))})),n.isFullyInitialized()&&r.push(Mj(n.getNode())),iF(e,r,n.getNode(),t)}(o,n)}function fF(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=mF(e);if("default"===i){var u,c=ui(e.views.entries());try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];o=o.concat(nF(d,n,r)),tF(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){c.e(v)}finally{c.f()}}else{var p=e.views.get(i);p&&(o=o.concat(nF(p,n,r)),tF(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!mF(e)&&a.push(new(Xo(Jq,"Reference.ts has not been loaded"),Jq)(t._repo,t._path)),{removed:a,events:o}}function hF(e){var t,n=[],r=ui(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function dF(e,t){var n,r=null,i=ui(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||eF(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function pF(e,t){if(t._queryParams.loadsAllData())return gF(e);var n=t._queryIdentifier;return e.views.get(n)}function vF(e,t){return null!=pF(e,t)}function mF(e){return null!=gF(e)}function gF(e){var t,n=ui(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var yF=1,bF=g((function e(t){d(this,e),this.listenProvider_=t,this.syncPointTree_=new vq(null),this.pendingWriteTree_={visibleWrites:mq.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function kF(e,t,n,r,i){return function(e,t,n,r,i){Xo(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=gq(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?SF(e,new iq({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function _F(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Cq(e.pendingWriteTree_,t),i=Nq(e.pendingWriteTree_,t);if(i){var a=new vq(null);return null!=r.snap?a=a.set(FM(),!0):sM(r.children,(function(e){a=a.set(new qM(e),!0)})),SF(e,new nq(r.path,a,n))}return[]}function wF(e,t,n){return SF(e,new iq({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function xF(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||vF(o,t))){var u=fF(o,t,n,r);sF(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return mF(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=MF(h),p=0;p<d.length;++p){var v=d[p],m=v.query,g=AF(e,v);e.listenProvider_.startListening(jF(m),PF(e,m),g.hashFn,g.onComplete)}}if(!f&&c.length>0&&!r)if(l){var y=null;e.listenProvider_.stopListening(jF(t),y)}else c.forEach((function(t){var n=e.queryToTagMap.get(DF(t));e.listenProvider_.stopListening(jF(t),n)}))}qF(e,c)}return s}function EF(e,t,n,r){var i=OF(e,r);if(null!=i){var a=RF(i),o=a.path,s=a.queryId,u=QM(o,t);return LF(e,o,new iq(eq(s),u,n))}return[]}function IF(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=QM(e,i);a=a||dF(t,n),o=o||mF(t)}));var s,u=e.syncPointTree_.get(i);if(u?(o=o||mF(u),a=a||dF(u,FM())):(u=new oF,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)s=!0;else{s=!1,a=Aj.EMPTY_NODE;var c=e.syncPointTree_.subtree(i);c.foreachChild((function(e,t){var n=dF(t,FM());n&&(a=a.updateImmediateChild(e,n))}))}var l=vF(u,t);if(!l&&!t._queryParams.loadsAllData()){var f=DF(t);Xo(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");var h=FF();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}var d=Sq(e.pendingWriteTree_,i),p=lF(u,t,n,d,a,s);if(!l&&!o&&!r){var v=pF(u,t);p=p.concat(UF(e,t,v))}return p}function TF(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=dF(n,QM(e,t));if(r)return r}));return Oq(r,t,i,n,!0)}function SF(e,t){return CF(t,e.syncPointTree_,null,Sq(e.pendingWriteTree_,FM()))}function CF(e,t,n,r){if(GM(e.path))return NF(e,t,n,r);var i=t.get(FM());null==n&&null!=i&&(n=dF(i,FM()));var a=[],o=UM(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Uq(r,o);a=a.concat(CF(s,u,c,l))}return i&&(a=a.concat(uF(i,e,r,n))),a}function NF(e,t,n,r){var i=t.get(FM());null==n&&null!=i&&(n=dF(i,FM()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Uq(r,t),u=e.operationForChild(t);u&&(a=a.concat(NF(u,i,o,s)))})),i&&(a=a.concat(uF(i,e,r,n))),a}function AF(e,t){var n=t.query,r=PF(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Aj.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=OF(e,n);if(r){var i=RF(r),a=i.path,o=i.queryId,s=QM(a,t);return LF(e,a,new rq(eq(o),s))}return[]}(e,n._path,r):function(e,t){return SF(e,new rq({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return xF(e,n,null,i)}}}function PF(e,t){var n=DF(t);return e.queryToTagMap.get(n)}function DF(e){return e._path.toString()+"$"+e._queryIdentifier}function OF(e,t){return e.tagToQueryMap.get(t)}function RF(e){var t=e.indexOf("$");return Xo(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new qM(e.substr(0,t))}}function LF(e,t,n){var r=e.syncPointTree_.get(t);return Xo(r,"Missing sync point for query tag that we're tracking"),uF(r,n,Sq(e.pendingWriteTree_,t),null)}function MF(e){return e.fold((function(e,t,n){if(t&&mF(t))return[gF(t)];var r=[];return t&&(r=hF(t)),sM(n,(function(e,t){r=r.concat(t)})),r}))}function jF(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Xo(aF,"Reference.ts has not been loaded"),aF)(e._repo,e._path):e}function qF(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=DF(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function FF(){return yF++}function UF(e,t,n){var r=t._path,i=PF(e,t),a=AF(e,n),o=e.listenProvider_.startListening(jF(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)Xo(!mF(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!GM(e)&&t&&mF(t))return[gF(t).query];var r=[];return t&&(r=r.concat(hF(t).map((function(e){return e.query})))),sM(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(jF(l),PF(e,l))}return o}var VF=function(){function e(t){d(this,e),this.node_=t}return g(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),BF=function(){function e(t,n){d(this,e),this.syncTree_=t,this.path_=n}return g(e,[{key:"getImmediateChild",value:function(t){var n=KM(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return TF(this.syncTree_,this.path_)}}]),e}(),zF=function(e,t,n){return e&&"object"===typeof e?(Xo(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?HF(e[".sv"],t,n):"object"===typeof e[".sv"]?WF(e[".sv"],t):void Xo(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},HF=function(e,t,n){if("timestamp"===e)return n.timestamp;Xo(!1,"Unexpected server value: "+e)},WF=function(e,t,n){e.hasOwnProperty("increment")||Xo(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Xo(!1,"Unexpected increment value: "+r);var i=t.node();if(Xo(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},KF=function(e,t,n,r){return QF(t,new BF(n,e),r)},GF=function(e,t,n){return QF(e,new VF(t),n)};function QF(e,t,n){var r,i=e.getPriority().val(),a=zF(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=zF(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new kj(s,Dj(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new kj(a))),u.forEachChild(Ej,(function(e,i){var a=QF(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var YF=g((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};d(this,e),this.name=t,this.parent=n,this.node=r}));function $F(e,t){for(var n=t instanceof qM?t:new qM(t),r=e,i=UM(n);null!==i;){var a=Ss(r.node.children,i)||{children:{},childCount:0};r=new YF(i,r,a),i=UM(n=BM(n))}return r}function XF(e){return e.node.value}function JF(e,t){e.node.value=t,rU(e)}function ZF(e){return e.node.childCount>0}function eU(e,t){sM(e.node.children,(function(n,r){t(new YF(n,e,r))}))}function tU(e,t,n,r){n&&!r&&t(e),eU(e,(function(e){tU(e,t,!0,r)})),n&&r&&t(e)}function nU(e){return new qM(null===e.parent?e.name:nU(e.parent)+"/"+e.name)}function rU(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===XF(e)&&!ZF(e)}(n),i=Ts(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,rU(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,rU(e))}(e.parent,e.name,e)}var iU=/[\[\].#$\/\u0000-\u001F\u007F]/,aU=/[\[\].#$\u0000-\u001F\u007F]/,oU=10485760,sU=function(e){return"string"===typeof e&&0!==e.length&&!iU.test(e)},uU=function(e){return"string"===typeof e&&0!==e.length&&!aU.test(e)},cU=function e(t,n,r){var i=r instanceof qM?new XM(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+ZM(i));if("function"===typeof n)throw new Error(t+"contains a function "+ZM(i)+" with contents = "+n.toString());if(ZL(n))throw new Error(t+"contains "+n.toString()+" "+ZM(i));if("string"===typeof n&&n.length>oU/3&&Us(n)>oU)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+ZM(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(sM(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!sU(n)))throw new Error(t+" contains an invalid key ("+n+") "+ZM(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Us(t),JM(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Us(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+ZM(i)+" in addition to actual children.")}},lU=function(e,t,n,r){if((!r||void 0!==n)&&!uU(n))throw new Error(Fs(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fU=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!sU(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),uU(e)}(n))throw new Error(Fs(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},hU=g((function e(){d(this,e),this.eventLists_=[],this.recursionDepth_=0}));function dU(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||YM(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function pU(e,t,n){dU(e,n),mU(e,(function(e){return YM(e,t)}))}function vU(e,t,n){dU(e,n),mU(e,(function(e){return $M(e,t)||$M(t,e)}))}function mU(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(gU(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function gU(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();WL&&QL("event: "+n.toString()),fM(r)}}}var yU="repo_interrupt",bU=function(){function e(t,n,r,i){d(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qj(),this.transactionQueueTree_=new YF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return g(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function kU(e,t,n){if(e.stats_=IM(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Kj(e.repoInfo_,(function(t,n,r,i){xU(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return EU(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Es(n)}catch(Zz){throw new Error("Invalid authOverride provided: "+Zz)}}e.persistentConnection_=new nj(e.repoInfo_,t,(function(t,n,r,i){xU(e,t,n,r,i)}),(function(t){EU(e,t)}),(function(t){!function(e,t){sM(t,(function(t,n){IU(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return EM[n]||(EM[n]=t()),EM[n]}(e.repoInfo_,(function(){return new Zj(e.stats_,e.server_)})),e.infoData_=new Gj,e.infoSyncTree_=new bF({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=wF(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),IU(e,"connected",!1),e.serverSyncTree_=new bF({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);vU(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function _U(e){var t=e.infoData_.getNode(new qM(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function wU(e){return(t=(t={timestamp:_U(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function xU(e,t,n,r,i){e.dataUpdateCount++;var a=new qM(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Ns(n,(function(e){return Dj(e)}));o=function(e,t,n,r){var i=OF(e,r);if(i){var a=RF(i),o=a.path,s=a.queryId,u=QM(o,t),c=vq.fromObject(n);return LF(e,o,new aq(eq(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Dj(n);o=EF(e.serverSyncTree_,a,u,i)}else if(r){var c=Ns(n,(function(e){return Dj(e)}));o=function(e,t,n){var r=vq.fromObject(n);return SF(e,new aq({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Dj(n);o=wF(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=OU(e,a)),vU(e.eventQueue_,f,o)}function EU(e,t){IU(e,"connected",t),!1===t&&function(e){NU(e,"onDisconnectEvents");var t=wU(e),n=Qj();$j(e.onDisconnect_,FM(),(function(r,i){var a=KF(r,i,e.serverSyncTree_,t);Yj(n,r,a)}));var r=[];$j(n,FM(),(function(t,n){r=r.concat(wF(e.serverSyncTree_,t,n));var i=qU(e,t);OU(e,i)})),e.onDisconnect_=Qj(),vU(e.eventQueue_,FM(),r)}(e)}function IU(e,t,n){var r=new qM("/.info/"+t),i=Dj(n);e.infoData_.updateSnapshot(r,i);var a=wF(e.infoSyncTree_,r,i);vU(e.eventQueue_,r,a)}function TU(e){return e.nextWriteId_++}function SU(e,t,n){var r;r=".info"===UM(t._path)?xF(e.infoSyncTree_,t,n):xF(e.serverSyncTree_,t,n),pU(e.eventQueue_,t._path,r)}function CU(e){e.persistentConnection_&&e.persistentConnection_.interrupt(yU)}function NU(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];QL.apply(void 0,[t].concat(r))}function AU(e,t,n){return TF(e.serverSyncTree_,t,n)||Aj.EMPTY_NODE}function PU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||jU(e,t),XF(t)){var n=LU(e,t);Xo(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&DU(e,nU(t),n)}else ZF(t)&&eU(t,(function(t){PU(e,t)}))}function DU(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=AU(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];Xo(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=QM(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){NU(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(_F(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);jU(e,$F(e.transactionQueueTree_,t)),PU(e,e.transactionQueueTree_),vU(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)fM(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{JL("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}OU(e,t)}}),o)}function OU(e,t){var n=RU(e,t),r=nU(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=QM(n,u.path),l=!1,f=void 0;if(Xo(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(_F(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",i=i.concat(_F(e.serverSyncTree_,u.currentWriteId,!0));else{var h=AU(e,u.path,o);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){cU("transaction failed: Data returned ",d,u.path);var p=Dj(d);"object"===typeof d&&null!=d&&Ts(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,m=wU(e),g=GF(p,h,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=g,u.currentWriteId=TU(e),o.splice(o.indexOf(v),1),i=(i=i.concat(kF(e.serverSyncTree_,u.path,g,u.currentWriteId,u.applyLocally))).concat(_F(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(_F(e.serverSyncTree_,u.currentWriteId,!0))}vU(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);jU(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)fM(r[c]);PU(e,e.transactionQueueTree_)}(e,LU(e,n),r),r}function RU(e,t){var n,r=e.transactionQueueTree_;for(n=UM(t);null!==n&&void 0===XF(r);)r=$F(r,n),n=UM(t=BM(t));return r}function LU(e,t){var n=[];return MU(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function MU(e,t,n){var r=XF(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);eU(t,(function(t){MU(e,t,n)}))}function jU(e,t){var n=XF(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,JF(t,n.length>0?n:void 0)}eU(t,(function(t){jU(e,t)}))}function qU(e,t){var n=nU(RU(e,t)),r=$F(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){FU(e,t)})),FU(e,r),tU(r,(function(t){FU(e,t)})),n}function FU(e,t){var n=XF(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Xo(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Xo(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(_F(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?JF(t,void 0):n.length=a+1,vU(e.eventQueue_,nU(t),i);for(var s=0;s<r.length;s++)fM(r[s])}}var UU=function(e,t){var n=VU(e),r=n.namespace;"firebase.com"===n.domain&&XL(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||XL("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&JL("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new kM(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new qM(n.pathString)}},VU=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(Zz){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=ui(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):JL("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},BU="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zU=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){d(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return g(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Es(this.snapshot.exportVal())}}]),e}()),HU=function(){function e(t,n,r){d(this,e),this.eventRegistration=t,this.error=n,this.path=r}return g(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),WU=function(){function e(t,n){d(this,e),this.snapshotCallback=t,this.cancelCallback=n}return g(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Xo(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),KU=function(){function e(t,n,r,i){d(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return g(e,[{key:"key",get:function(){return GM(this._path)?null:zM(this._path)}},{key:"ref",get:function(){return new GU(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Wj(this._queryParams),t=aM(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Wj(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=zs(t))instanceof e))return!1;var n=this._repo===t._repo,r=YM(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var GU=function(e){b(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,r,new zj,!1)}return g(n,[{key:"parent",get:function(){var e=WM(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(KU),QU=function(){function e(t,n,r){d(this,e),this._node=t,this.ref=n,this._index=r}return g(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new qM(t),r=YU(this.ref,t);return new e(this._node.getChild(n),r,Ej)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,YU(n.ref,r),Ej))}))}},{key:"hasChild",value:function(e){var t=new qM(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function YU(e,t){var n,r,i,a;return null===UM((e=zs(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),lU(n,r,i,a)):lU("child","path",t,!1),new GU(e._repo,KM(e._path,t))}var $U=function(){function e(t){d(this,e),this.callbackContext=t}return g(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new zU("value",this,new QU(e.snapshotNode,new GU(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new HU(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),XU=function(){function e(t,n){d(this,e),this.eventType=t,this.callbackContext=n}return g(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new HU(this,e,t):null}},{key:"createEvent",value:function(e,t){Xo(null!=e.childName,"Child events should have a childName.");var n=YU(new GU(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new zU(e.type,this,new QU(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function JU(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){SU(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new WU(n,a||void 0),c="value"===t?new $U(u):new XU(t,u);return function(e,t,n){var r;r=".info"===UM(t._path)?IF(e.infoSyncTree_,t,n):IF(e.serverSyncTree_,t,n),pU(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return SU(e._repo,e,c)}}function ZU(e,t,n,r){return JU(e,"value",t,n,r)}!function(e){Xo(!Jq,"__referenceConstructor has already been defined"),Jq=e}(GU),function(e){Xo(!aF,"__referenceConstructor has already been defined"),aF=e}(GU);var eV={},tV=!1;function nV(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||XL("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),QL("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=UU(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=UU(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new vM(vM.OWNER):new pM(e.name,e.options,t);fU("Invalid Firebase Database URL",s),GM(s.path)||XL("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=eV[t.name];i||(i={},eV[t.name]=i);var a=i[e.toURLString()];a&&XL("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new bU(e,tV,n,r),i[e.toURLString()]=a,a}(u,e,l,new dM(e.name,n));return new rV(f,e)}var rV=function(){function e(t,n){d(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return g(e,[{key:"_repo",get:function(){return this._instanceStarted||(kU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new GU(this._repo,FM())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=eV[t];n&&n[e.key]===e||XL("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),CU(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&XL("Cannot call "+e+" on a deleted database.")}}]),e}();nj.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},nj.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){LL=e}(ju),Au(new Hs("database",(function(e,t){var n=t.instanceIdentifier;return nV(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),zu(OL,RL,e),zu(OL,RL,"esm2017")}();zu("firebase","9.15.0","app");var iV="functions";var aV=function(){function e(t,n,r){var i=this;d(this,e),this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then((function(e){return i.auth=e}),(function(){})),this.messaging||n.get().then((function(e){return i.messaging=e}),(function(){})),this.appCheck||r.get().then((function(e){return i.appCheck=e}),(function(){}))}return g(e,[{key:"getAuthToken",value:function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.auth.getToken();case 5:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.accessToken);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMessagingToken",value:function(){var e=Go(Wo().mark((function e(){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messaging&&"Notification"in self&&"granted"===Notification.permission){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.messaging.getToken();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAppCheckToken",value:function(){var e=Go(Wo().mark((function e(){var t;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appCheck){e.next=7;break}return e.next=3,this.appCheck.getToken();case 3:if(!(t=e.sent).error){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",t.token);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=Go(Wo().mark((function e(){var t,n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAuthToken();case 2:return t=e.sent,e.next=5,this.getMessagingToken();case 5:return n=e.sent,e.next=8,this.getAppCheckToken();case 8:return r=e.sent,e.abrupt("return",{authToken:t,messagingToken:n,appCheckToken:r});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),oV="us-central1";var sV=function(){function e(t,n,r,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:oV,s=arguments.length>5?arguments[5]:void 0;d(this,e),this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new aV(n,r,i),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return Promise.resolve(e())}}));try{var u=new URL(o);this.customDomain=u.origin,this.region=oV}catch(Zz){this.customDomain=null,this.region=o}}return g(e,[{key:"_delete",value:function(){return this.deleteService()}},{key:"_url",value:function(e){var t=this.app.options.projectId;if(null!==this.emulatorOrigin){var n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}]),e}();var uV="@firebase/functions",cV="0.9.0";!function(e,t){Au(new Hs(iV,(function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),o=t.getProvider("messaging-internal"),s=t.getProvider("app-check-internal");return new sV(i,a,o,s,r,e)}),"PUBLIC").setMultipleInstances(!0)),zu(uV,cV,t),zu(uV,cV,"esm2017")}(fetch.bind(self));var lV,fV;var hV=new WeakMap,dV=new WeakMap,pV=new WeakMap,vV=new WeakMap,mV=new WeakMap;var gV={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return dV.get(e);if("objectStoreNames"===t)return e.objectStoreNames||pV.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kV(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function yV(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(fV||(fV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(_V(this),n),kV(hV.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return kV(e.apply(_V(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[_V(this),t].concat(r));return pV.set(a,t.sort?t.sort():[t]),kV(a)}}function bV(e){return"function"===typeof e?yV(e):(e instanceof IDBTransaction&&function(e){if(!dV.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));dV.set(e,t)}}(e),t=e,(lV||(lV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,gV):e);var t}function kV(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(kV(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&hV.set(t,e)})).catch((function(){})),mV.set(t,e),t}(e);if(vV.has(e))return vV.get(e);var t=bV(e);return t!==e&&(vV.set(e,t),mV.set(t,e)),t}var _V=function(e){return mV.get(e)};var wV,xV=["get","getKey","getAll","getAllKeys","count"],EV=["put","add","delete","clear"],IV=new Map;function TV(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(IV.get(t))return IV.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=EV.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||xV.includes(n))){var a=function(){var e=Go(Wo().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return IV.set(t,a),a}}}!function(e){gV=e(gV)}((function(e){return Me(Me({},e),{},{get:function(t,n,r){return TV(t,n)||e.get(t,n,r)},has:function(t,n){return!!TV(t,n)||e.has(t,n)}})}));var SV="@firebase/installations",CV="0.6.0",NV=1e4,AV="w:".concat(CV),PV="FIS_v2",DV=36e5,OV=(Re(wV={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Re(wV,"not-registered","Firebase Installation is not registered."),Re(wV,"installation-not-found","Firebase Installation not found."),Re(wV,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Re(wV,"app-offline","Could not process request. Application offline."),Re(wV,"delete-pending-registration","Can't delete installation while there is a pending registration request."),wV),RV=new ks("installations","Installations",OV);function LV(e){return e instanceof bs&&e.code.includes("request-failed")}function MV(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function jV(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function qV(e,t){return FV.apply(this,arguments)}function FV(){return(FV=Go(Wo().mark((function e(t,n){var r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",RV.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UV(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function VV(e,t){var n=t.refreshToken,r=UV(e);return r.append("Authorization",function(e){return"".concat(PV," ").concat(e)}(n)),r}function BV(e){return zV.apply(this,arguments)}function zV(){return zV=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),zV.apply(this,arguments)}function HV(e,t){return WV.apply(this,arguments)}function WV(){return(WV=Go(Wo().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=MV(r),s=UV(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:PV,appId:r.appId,sdkVersion:AV},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,BV((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:jV(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,qV("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KV(e){return new Promise((function(t){setTimeout(t,e)}))}var GV=/^[cdef][\w-]{21}$/;function QV(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,h(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return GV.test(t)?t:""}catch(WA){return""}}function YV(e){return"".concat(e.appName,"!").concat(e.appId)}var $V=new Map;function XV(e,t){var n=YV(e);JV(n,t),function(e,t){var n=eB();n&&n.postMessage({key:e,fid:t});tB()}(n,t)}function JV(e,t){var n=$V.get(e);if(n){var r,i=ui(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var ZV=null;function eB(){return!ZV&&"BroadcastChannel"in self&&((ZV=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){JV(e.data.key,e.data.fid)}),ZV}function tB(){0===$V.size&&ZV&&(ZV.close(),ZV=null)}var nB="firebase-installations-store",rB=null;function iB(){return rB||(rB=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=kV(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(kV(s.result),e.oldVersion,e.newVersion,kV(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(nB)}})),rB}function aB(e,t){return oB.apply(this,arguments)}function oB(){return oB=Go(Wo().mark((function e(t,n){var r,i,a,o,s;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=YV(t),e.next=3,iB();case 3:return i=e.sent,a=i.transaction(nB,"readwrite"),o=a.objectStore(nB),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||XV(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),oB.apply(this,arguments)}function sB(e){return uB.apply(this,arguments)}function uB(){return uB=Go(Wo().mark((function e(t){var n,r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=YV(t),e.next=3,iB();case 3:return r=e.sent,i=r.transaction(nB,"readwrite"),e.next=7,i.objectStore(nB).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),uB.apply(this,arguments)}function cB(e,t){return lB.apply(this,arguments)}function lB(){return lB=Go(Wo().mark((function e(t,n){var r,i,a,o,s,u;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=YV(t),e.next=3,iB();case 3:return i=e.sent,a=i.transaction(nB,"readwrite"),o=a.objectStore(nB),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||XV(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),lB.apply(this,arguments)}function fB(e){return hB.apply(this,arguments)}function hB(){return(hB=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cB(t.appConfig,(function(e){var r=dB(e),i=pB(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dB(e){return bB(e||{fid:QV(),registrationStatus:0})}function pB(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(RV.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return vB.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:mB(e)}:{installationEntry:t}}function vB(){return(vB=Go(Wo().mark((function e(t,n){var r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,HV(t,n);case 3:return r=e.sent,e.abrupt("return",aB(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!LV(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,sB(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,aB(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function mB(e){return gB.apply(this,arguments)}function gB(){return(gB=Go(Wo().mark((function e(t){var n,r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yB(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,KV(100);case 6:return e.next=8,yB(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,fB(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yB(e){return cB(e,(function(e){if(!e)throw RV.create("installation-not-found");return bB(e)}))}function bB(e){return 1===(t=e).registrationStatus&&t.registrationTime+NV<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function kB(e,t){return _B.apply(this,arguments)}function _B(){return(_B=Go(Wo().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=wB(r,n),o=VV(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:AV,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,BV((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=jV(h),e.abrupt("return",d);case 22:return e.next=24,qV("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wB(e,t){var n=t.fid;return"".concat(MV(e),"/").concat(n,"/authTokens:generate")}function xB(e){return EB.apply(this,arguments)}function EB(){return EB=Go(Wo().mark((function e(t){var n,r,i,a,o=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,cB(t.appConfig,(function(e){if(!AB(e))throw RV.create("not-registered");var i=e.authToken;if(!n&&PB(i))return e;if(1===i.requestStatus)return r=IB(t,n),e;if(!navigator.onLine)throw RV.create("app-offline");var a=DB(e);return r=CB(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),EB.apply(this,arguments)}function IB(e,t){return TB.apply(this,arguments)}function TB(){return(TB=Go(Wo().mark((function e(t,n){var r,i;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SB(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,KV(100);case 6:return e.next=8,SB(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",xB(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SB(e){return cB(e,(function(e){if(!AB(e))throw RV.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+NV<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function CB(e,t){return NB.apply(this,arguments)}function NB(){return(NB=Go(Wo().mark((function e(t,n){var r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kB(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,aB(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!LV(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,sB(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,aB(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function AB(e){return void 0!==e&&2===e.registrationStatus}function PB(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+DV}(e)}function DB(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function OB(){return(OB=Go(Wo().mark((function e(t){var n,r,i,a;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,fB(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):xB(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RB(){return RB=Go(Wo().mark((function e(t){var n,r,i,a=arguments;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,LB(r);case 4:return e.next=6,xB(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),RB.apply(this,arguments)}function LB(e){return MB.apply(this,arguments)}function MB(){return(MB=Go(Wo().mark((function e(t){var n,r;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fB(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jB(e){return RV.create("missing-app-config-values",{valueName:e})}var qB,FB="installations",UB=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw jB("App Configuration");if(!e.name)throw jB("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw jB(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Pu(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},VB=function(e){var t=Pu(e.getProvider("app").getImmediate(),FB).getImmediate(),n={getId:function(){return function(e){return OB.apply(this,arguments)}(t)},getToken:function(e){return function(e){return RB.apply(this,arguments)}(t,e)}};return n};Au(new Hs(FB,UB,"PUBLIC")),Au(new Hs("installations-internal",VB,"PRIVATE")),zu(SV,CV),zu(SV,CV,"esm2017");var BB="@firebase/remote-config",zB="0.4.0",HB="remote-config",WB=(Re(qB={},"registration-window","Undefined window object. This SDK only supports usage in a browser environment."),Re(qB,"registration-project-id","Undefined project identifier. Check Firebase app initialization."),Re(qB,"registration-api-key","Undefined API key. Check Firebase app initialization."),Re(qB,"registration-app-id","Undefined app identifier. Check Firebase app initialization."),Re(qB,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Re(qB,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Re(qB,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Re(qB,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Re(qB,"fetch-client-network","Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),Re(qB,"fetch-timeout",'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.'),Re(qB,"fetch-throttle",'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.'),Re(qB,"fetch-client-parse","Fetch client could not parse response. Original error: {$originalErrorMessage}."),Re(qB,"fetch-status","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),Re(qB,"indexed-db-unavailable","Indexed DB is not supported by current browser"),qB),KB=new ks("remoteconfig","Remote Config",WB);var GB=function(){function e(t,n,r,i){d(this,e),this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return g(e,[{key:"isCachedDataFresh",value:function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check."+" Cache age millis: ".concat(n,".")+" Cache max age millis (minimumFetchIntervalMillis setting): ".concat(e,".")+" Is cache hit: ".concat(r,".")),r}},{key:"fetch",value:function(){var e=Go(Wo().mark((function e(t){var n,r,i,a,o,s;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);case 2:if(n=e.sent,r=l(n,2),i=r[0],!(a=r[1])||!this.isCachedDataFresh(t.cacheMaxAgeMillis,i)){e.next=8;break}return e.abrupt("return",a);case 8:return t.eTag=a&&a.eTag,e.next=11,this.client.fetch(t);case 11:return o=e.sent,s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&s.push(this.storage.setLastSuccessfulFetchResponse(o)),e.next=16,Promise.all(s);case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function QB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return e.languages&&e.languages[0]||e.language}var YB=function(){function e(t,n,r,i,a,o){d(this,e),this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=a,this.appId=o}return g(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Go(Wo().mark((function e(t){var n,r,i,a,o,s,u,c,f,h,d,p,v,m,g,y,b,k;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]);case 2:return n=e.sent,r=l(n,2),i=r[0],a=r[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",s="".concat(o,"/v1/projects/").concat(this.projectId,"/namespaces/").concat(this.namespace,":fetch?key=").concat(this.apiKey),u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:i,app_instance_id_token:a,app_id:this.appId,language_code:QB()},f={method:"POST",headers:u,body:JSON.stringify(c)},h=fetch(s,f),d=new Promise((function(e,n){t.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),e.prev=13,e.next=16,Promise.race([h,d]);case 16:return e.next=18,h;case 18:p=e.sent,e.next=26;break;case 21:throw e.prev=21,e.t0=e.catch(13),v="fetch-client-network","AbortError"===(null===e.t0||void 0===e.t0?void 0:e.t0.name)&&(v="fetch-timeout"),KB.create(v,{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 26:if(m=p.status,g=p.headers.get("ETag")||void 0,200!==p.status){e.next=40;break}return e.prev=29,e.next=32,p.json();case 32:k=e.sent,e.next=38;break;case 35:throw e.prev=35,e.t1=e.catch(29),KB.create("fetch-client-parse",{originalErrorMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 38:y=k.entries,b=k.state;case 40:if("INSTANCE_STATE_UNSPECIFIED"===b?m=500:"NO_CHANGE"===b?m=304:"NO_TEMPLATE"!==b&&"EMPTY_CONFIG"!==b||(y={}),304===m||200===m){e.next=43;break}throw KB.create("fetch-status",{httpStatus:m});case 43:return e.abrupt("return",{status:m,eTag:g,config:y});case 44:case"end":return e.stop()}}),e,this,[[13,21],[29,35]])})));return function(t){return e.apply(this,arguments)}}())}]),e}();function $B(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(KB.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function XB(e){if(!(e instanceof bs)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var JB=function(){function e(t,n){d(this,e),this.client=t,this.storage=n}return g(e,[{key:"fetch",value:function(){var e=Go(Wo().mark((function e(t){var n;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getThrottleMetadata();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={backoffCount:0,throttleEndTimeMillis:Date.now()};case 5:return n=e.t0,e.abrupt("return",this.attemptFetch(t,n));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"attemptFetch",value:function(){var e=Go(Wo().mark((function e(t,n){var r,i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.throttleEndTimeMillis,i=n.backoffCount,e.next=3,$B(t.signal,r);case 3:return e.prev=3,e.next=6,this.client.fetch(t);case 6:return a=e.sent,e.next=9,this.storage.deleteThrottleMetadata();case 9:return e.abrupt("return",a);case 12:if(e.prev=12,e.t0=e.catch(3),XB(e.t0)){e.next=16;break}throw e.t0;case 16:return o={throttleEndTimeMillis:Date.now()+Bs(i),backoffCount:i+1},e.next=19,this.storage.setThrottleMetadata(o);case 19:return e.abrupt("return",this.attemptFetch(t,o));case 20:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ZB=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return g(e,[{key:"fetchTimeMillis",get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}},{key:"lastFetchStatus",get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}]),e}();function ez(e,t){var n=e.target.error||void 0;return KB.create(t,{originalErrorMessage:n&&(null===n||void 0===n?void 0:n.message)})}var tz="app_namespace_store";function nz(){return new Promise((function(e,t){try{var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(ez(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(tz,{keyPath:"compositeKey"})}}catch($L){t(KB.create("storage-open",{originalErrorMessage:null===$L||void 0===$L?void 0:$L.message}))}}))}var rz=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nz();d(this,e),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return g(e,[{key:"getLastFetchStatus",value:function(){return this.get("last_fetch_status")}},{key:"setLastFetchStatus",value:function(e){return this.set("last_fetch_status",e)}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.get("last_successful_fetch_timestamp_millis")}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.set("last_successful_fetch_timestamp_millis",e)}},{key:"getLastSuccessfulFetchResponse",value:function(){return this.get("last_successful_fetch_response")}},{key:"setLastSuccessfulFetchResponse",value:function(e){return this.set("last_successful_fetch_response",e)}},{key:"getActiveConfig",value:function(){return this.get("active_config")}},{key:"setActiveConfig",value:function(e){return this.set("active_config",e)}},{key:"getActiveConfigEtag",value:function(){return this.get("active_config_etag")}},{key:"setActiveConfigEtag",value:function(e){return this.set("active_config_etag",e)}},{key:"getThrottleMetadata",value:function(){return this.get("throttle_metadata")}},{key:"setThrottleMetadata",value:function(e){return this.set("throttle_metadata",e)}},{key:"deleteThrottleMetadata",value:function(){return this.delete("throttle_metadata")}},{key:"get",value:function(){var e=Go(Wo().mark((function e(t){var n,r=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var a=n.transaction([tz],"readonly").objectStore(tz),o=r.createCompositeKey(t);try{var s=a.get(o);s.onerror=function(e){i(ez(e,"storage-get"))},s.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)}}catch(Zz){i(KB.create("storage-get",{originalErrorMessage:null===Zz||void 0===Zz?void 0:Zz.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=Go(Wo().mark((function e(t,n){var r,i=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,a){var o=r.transaction([tz],"readwrite").objectStore(tz),s=i.createCompositeKey(t);try{var u=o.put({compositeKey:s,value:n});u.onerror=function(e){a(ez(e,"storage-set"))},u.onsuccess=function(){e()}}catch(Zz){a(KB.create("storage-set",{originalErrorMessage:null===Zz||void 0===Zz?void 0:Zz.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Go(Wo().mark((function e(t){var n,r=this;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var a=n.transaction([tz],"readwrite").objectStore(tz),o=r.createCompositeKey(t);try{var s=a.delete(o);s.onerror=function(e){i(ez(e,"storage-delete"))},s.onsuccess=function(){e()}}catch(Zz){i(KB.create("storage-delete",{originalErrorMessage:null===Zz||void 0===Zz?void 0:Zz.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createCompositeKey",value:function(e){return[this.appId,this.appName,this.namespace,e].join()}}]),e}(),iz=function(){function e(t){d(this,e),this.storage=t}return g(e,[{key:"getLastFetchStatus",value:function(){return this.lastFetchStatus}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.lastSuccessfulFetchTimestampMillis}},{key:"getActiveConfig",value:function(){return this.activeConfig}},{key:"loadFromStorage",value:function(){var e=Go(Wo().mark((function e(){var t,n,r,i,a,o;return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),e.next=5,t;case 5:return(i=e.sent)&&(this.lastFetchStatus=i),e.next=9,n;case 9:return(a=e.sent)&&(this.lastSuccessfulFetchTimestampMillis=a),e.next=13,r;case 13:(o=e.sent)&&(this.activeConfig=o);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLastFetchStatus",value:function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}},{key:"setActiveConfig",value:function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}]),e}();Au(new Hs(HB,(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"===typeof window)throw KB.create("registration-window");if(!hs())throw KB.create("indexed-db-unavailable");var a=r.options,o=a.projectId,s=a.apiKey,u=a.appId;if(!o)throw KB.create("registration-project-id");if(!s)throw KB.create("registration-api-key");if(!u)throw KB.create("registration-app-id");n=n||"firebase";var c=new rz(u,r.name,n),l=new iz(c),f=new tu(BB);f.logLevel=Qs.ERROR;var h=new YB(i,ju,n,o,s,u),d=new JB(h,c),p=new GB(d,c,l,f),v=new ZB(r,p,l,c,f);return function(e){var t=zs(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),t._initializePromise}(v),v}),"PUBLIC").setMultipleInstances(!0)),zu(BB,zB),zu(BB,zB,"esm2017");var az=function(e,t){return(az=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function oz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}az(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function sz(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function uz(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(bb){i={error:bb}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function cz(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function lz(e){return"function"==typeof e}function fz(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var hz=fz((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function dz(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var pz=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=sz(a),s=o.next();!s.done;s=o.next()){s.value.remove(this)}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else a.remove(this);var u=this.initialTeardown;if(lz(u))try{u()}catch(d){i=d instanceof hz?d.errors:[d]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=sz(c),f=l.next();!f.done;f=l.next()){var h=f.value;try{gz(h)}catch(d){i=null!=i?i:[],d instanceof hz?i=cz(cz([],uz(i)),uz(d.errors)):i.push(d)}}}catch(d){n={error:d}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new hz(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)gz(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&dz(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&dz(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),vz=pz.EMPTY;function mz(e){return e instanceof pz||e&&"closed"in e&&lz(e.remove)&&lz(e.add)&&lz(e.unsubscribe)}function gz(e){lz(e)?e():e.unsubscribe()}var yz=void 0,bz=!1,kz=!1,_z={setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=_z.delegate;return null!=i&&i.setTimeout?i.setTimeout.apply(i,cz([e,t],uz(n))):setTimeout.apply(void 0,cz([e,t],uz(n)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=_z.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0};function wz(e){_z.setTimeout((function(){throw e}))}function xz(){}var Ez=null;function Iz(e){if(bz){var t=!Ez;if(t&&(Ez={errorThrown:!1,error:null}),e(),t){var n=Ez,r=n.errorThrown,i=n.error;if(Ez=null,r)throw i}}else e()}var Tz=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,mz(t)&&t.add(n)):n.destination=Dz,n}return oz(t,e),t.create=function(e,t,n){return new Az(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(pz),Sz=Function.prototype.bind;function Cz(e,t){return Sz.call(e,t)}var Nz=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){Pz(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){Pz(n)}else Pz(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Pz(t)}},e}(),Az=function(e){function t(t,n,r){var i,a,o=e.call(this)||this;lz(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:o&&kz?((a=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},i={next:t.next&&Cz(t.next,a),error:t.error&&Cz(t.error,a),complete:t.complete&&Cz(t.complete,a)}):i=t;return o.destination=new Nz(i),o}return oz(t,e),t}(Tz);function Pz(e){wz(e)}var Dz={closed:!0,next:xz,error:function(e){throw e},complete:xz},Oz="function"==typeof Symbol&&Symbol.observable||"@@observable";function Rz(e){return e}function Lz(e){return 0===e.length?Rz:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Mz=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=function(e){return e&&e instanceof Tz||function(e){return e&&lz(e.next)&&lz(e.error)&&lz(e.complete)}(e)&&mz(e)}(e)?e:new Az(e,t,n);return Iz((function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=jz(t))((function(t,r){var i=new Az({next:function(t){try{e(t)}catch(n){r(n),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Oz]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Lz(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=jz(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function jz(e){var t;return null!==(t=null!=e?e:yz)&&void 0!==t?t:Promise}!function(e){function t(t,n,r,i,a,o){var s=e.call(this,t)||this;return s.onFinalize=a,s.shouldUnsubscribe=o,s._next=n?function(e){try{n(e)}catch(Dm){t.error(Dm)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(Dm){t.error(Dm)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}oz(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}(Tz);var qz=fz((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Fz=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return oz(t,e),t.prototype.lift=function(e){var t=new Uz(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new qz},t.prototype.next=function(e){var t=this;Iz((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=sz(t.currentObservers),a=i.next();!a.done;a=i.next()){a.value.next(e)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Iz((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Iz((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,a=n.observers;return r||i?vz:(this.currentObservers=null,a.push(e),new pz((function(){t.currentObservers=null,dz(a,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new Mz;return e.source=this,e},t.create=function(e,t){return new Uz(e,t)},t}(Mz),Uz=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return oz(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:vz},t}(Fz),Vz={now:function(){return(Vz.delegate||Date).now()},delegate:void 0},Bz=(function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=Vz);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}oz(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,i=n._buffer,a=n._infiniteTimeWindow,o=n._timestampProvider,s=n._windowTime;r||(i.push(t),!a&&i.push(o.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,a=(i?1:2)*t;if(t<1/0&&a<r.length&&r.splice(0,r.length-a),!i){for(var o=n.now(),s=0,u=1;u<r.length&&r[u]<=o;u+=2)s=u;s&&r.splice(0,s+1)}}}(Fz),function(e){function t(t,n){return e.call(this)||this}return oz(t,e),t.prototype.schedule=function(e,t){return this},t}(pz)),zz={setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=zz.delegate;return null!=i&&i.setInterval?i.setInterval.apply(i,cz([e,t],uz(n))):setInterval.apply(void 0,cz([e,t],uz(n)))})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=zz.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)})),delegate:void 0},Hz=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return oz(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),zz.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;zz.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,dz(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Bz),Wz=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=Vz.now,e}(),Kz=function(e){function t(t,n){void 0===n&&(n=Wz.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return oz(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Wz);new Kz(Hz),new Mz((function(e){return e.complete()}));"function"==typeof Symbol&&Symbol.iterator&&Symbol.iterator;fz((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));var Gz=r.createContext(void 0),Qz=r.createContext(!1);function Yz(e){var t=e.firebaseConfig,n=e.appName,i=e.suspense,a=r.useMemo((function(){if(e.firebaseApp)return e.firebaseApp;var i=Uu().find((function(e){return e.name===(n||"[DEFAULT]")}));if(i){if(t&&function(e,t){return e===t||[].concat(h(Object.keys(e)),h(Object.keys(t))).every((function(n){return e[n]===t[n]}))}(i.options,t))return i;throw new Error("Does not match the options already provided to the ".concat(n||"default"," firebase app instance, give this new instance a different appName."))}if(!t)throw new Error("No firebaseConfig provided");return zu("react",r.version||"unknown"),zu("reactfire","4.2.2"),qu(t,n)}),[e.firebaseApp,t,n]);return r.createElement(Gz.Provider,{value:a},r.createElement(Qz.Provider,Object.assign({value:null!=i&&i},e)))}function $z(){var e=r.useContext(Gz);if(!e)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return e}var Xz,Jz,Zz;(Zz=Jz||(Jz={})).added="child_added",Zz.removed="child_removed",Zz.changed="child_changed",Zz.moved="child_moved",Zz.value="value";Object.freeze(((Xz={})[Jz.added]=function(e,t,n,r){return JU(e,"child_added",t,n,r)},Xz[Jz.removed]=function(e,t,n,r){return JU(e,"child_removed",t,n,r)},Xz[Jz.changed]=function(e,t,n,r){return JU(e,"child_changed",t,n,r)},Xz[Jz.moved]=function(e,t,n,r){return JU(e,"child_moved",t,n,r)},Xz[Jz.value]=ZU,Xz));var eH=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=eH);var tH=globalThis._reactFirePreloadedObservables||new Map;globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=tH);var nH=globalThis._reactFireFirestoreQueryCache||[];globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=nH);var rH=r.createContext(void 0),iH=r.createContext(void 0),aH=r.createContext(void 0),oH=r.createContext(void 0),sH=r.createContext(void 0),uH=r.createContext(void 0),cH=r.createContext(void 0),lH=r.createContext(void 0),fH=r.createContext(void 0);function hH(e){return function(t){var n,i;if(!t.sdk)throw new Error("no sdk provided");var a=$z().name;if((null===(i=null===(n=null==t?void 0:t.sdk)||void 0===n?void 0:n.app)||void 0===i?void 0:i.name)!==a)throw new Error("sdk was initialized with a different firebase app");return r.createElement(e.Provider,Object.assign({value:t.sdk},t))}}hH(rH),hH(iH),hH(aH),hH(oH),hH(sH),hH(uH),hH(lH),hH(cH),hH(fH),Error;a.createRoot(document.getElementById("root")).render((0,Ve.jsx)(Yz,{firebaseConfig:pc,children:(0,Ve.jsx)(r.StrictMode,{children:(0,Ve.jsx)(DL,{})})}))}()}();
//# sourceMappingURL=main.6355c207.js.map